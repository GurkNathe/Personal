{"version":3,"sources":["../../src/methods/serialization.ts"],"sourcesContent":["import { Language } from '../index.js'\nimport { AnyOrama } from '../types.js'\n\nexport interface RawData {\n  internalDocumentIDStore: unknown\n  index: unknown\n  docs: unknown\n  sorting: unknown\n  language: Language\n}\n\nexport async function load<T extends AnyOrama>(orama: T, raw: RawData): Promise<void> {\n  orama.internalDocumentIDStore.load(orama, raw.internalDocumentIDStore)\n  orama.data.index = await orama.index.load(orama.internalDocumentIDStore, raw.index)\n  orama.data.docs = await orama.documentsStore.load(orama.internalDocumentIDStore, raw.docs)\n  orama.data.sorting = await orama.sorter.load(orama.internalDocumentIDStore, raw.sorting)\n  orama.tokenizer.language = raw.language\n}\n\nexport async function save<T extends AnyOrama>(orama: T): Promise<RawData> {\n  return {\n    internalDocumentIDStore: orama.internalDocumentIDStore.save(orama.internalDocumentIDStore),\n    index: await orama.index.save(orama.data.index),\n    docs: await orama.documentsStore.save(orama.data.docs),\n    sorting: await orama.sorter.save(orama.data.sorting),\n    language: orama.tokenizer.language,\n  }\n}\n"],"names":["load","orama","raw","internalDocumentIDStore","data","index","docs","documentsStore","sorting","sorter","tokenizer","language","save"],"mappings":"AAWA,OAAO,eAAeA,KAAyBC,KAAQ,EAAEC,GAAY,EAAiB;IACpFD,MAAME,uBAAuB,CAACH,IAAI,CAACC,OAAOC,IAAIC,uBAAuB;IACrEF,MAAMG,IAAI,CAACC,KAAK,GAAG,MAAMJ,MAAMI,KAAK,CAACL,IAAI,CAACC,MAAME,uBAAuB,EAAED,IAAIG,KAAK;IAClFJ,MAAMG,IAAI,CAACE,IAAI,GAAG,MAAML,MAAMM,cAAc,CAACP,IAAI,CAACC,MAAME,uBAAuB,EAAED,IAAII,IAAI;IACzFL,MAAMG,IAAI,CAACI,OAAO,GAAG,MAAMP,MAAMQ,MAAM,CAACT,IAAI,CAACC,MAAME,uBAAuB,EAAED,IAAIM,OAAO;IACvFP,MAAMS,SAAS,CAACC,QAAQ,GAAGT,IAAIS,QAAQ;AACzC,CAAC;AAED,OAAO,eAAeC,KAAyBX,KAAQ,EAAoB;IACzE,OAAO;QACLE,yBAAyBF,MAAME,uBAAuB,CAACS,IAAI,CAACX,MAAME,uBAAuB;QACzFE,OAAO,MAAMJ,MAAMI,KAAK,CAACO,IAAI,CAACX,MAAMG,IAAI,CAACC,KAAK;QAC9CC,MAAM,MAAML,MAAMM,cAAc,CAACK,IAAI,CAACX,MAAMG,IAAI,CAACE,IAAI;QACrDE,SAAS,MAAMP,MAAMQ,MAAM,CAACG,IAAI,CAACX,MAAMG,IAAI,CAACI,OAAO;QACnDG,UAAUV,MAAMS,SAAS,CAACC,QAAQ;IACpC;AACF,CAAC"}