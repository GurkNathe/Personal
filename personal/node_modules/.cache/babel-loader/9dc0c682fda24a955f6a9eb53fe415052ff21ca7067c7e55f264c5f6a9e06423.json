{"ast":null,"code":"import _slicedToArray from \"/home/krug/Coding/JavaScript/Websites/Personal/personal/node_modules/.pnpm/@babel+runtime@7.22.3/node_modules/@babel/runtime/helpers/esm/slicedToArray.js\";\nimport * as React from 'react';\nimport * as THREE from 'three';\nimport { useThree } from '@react-three/fiber';\nimport { Line } from '../../core/Line.js';\nimport { Html } from '../Html.js';\nimport { context } from './context.js';\nvar decomposeIntoBasis = function decomposeIntoBasis(e1, e2, offset) {\n  var i1 = Math.abs(e1.x) >= Math.abs(e1.y) && Math.abs(e1.x) >= Math.abs(e1.z) ? 0 : Math.abs(e1.y) >= Math.abs(e1.x) && Math.abs(e1.y) >= Math.abs(e1.z) ? 1 : 2;\n  var e2DegrowthOrder = [0, 1, 2].sort(function (a, b) {\n    return Math.abs(e2.getComponent(b)) - Math.abs(e2.getComponent(a));\n  });\n  var i2 = i1 === e2DegrowthOrder[0] ? e2DegrowthOrder[1] : e2DegrowthOrder[0];\n  var a1 = e1.getComponent(i1);\n  var a2 = e1.getComponent(i2);\n  var b1 = e2.getComponent(i1);\n  var b2 = e2.getComponent(i2);\n  var c1 = offset.getComponent(i1);\n  var c2 = offset.getComponent(i2);\n  var y = (c2 - c1 * (a2 / a1)) / (b2 - b1 * (a2 / a1));\n  var x = (c1 - y * b1) / a1;\n  return [x, y];\n};\nvar ray = new THREE.Ray();\nvar intersection = new THREE.Vector3();\nvar offsetMatrix = new THREE.Matrix4();\nvar PlaneSlider = function PlaneSlider(_ref) {\n  var dir1 = _ref.dir1,\n    dir2 = _ref.dir2,\n    axis = _ref.axis;\n  var _React$useContext = React.useContext(context),\n    translation = _React$useContext.translation,\n    translationLimits = _React$useContext.translationLimits,\n    annotations = _React$useContext.annotations,\n    annotationsClass = _React$useContext.annotationsClass,\n    depthTest = _React$useContext.depthTest,\n    scale = _React$useContext.scale,\n    lineWidth = _React$useContext.lineWidth,\n    fixed = _React$useContext.fixed,\n    axisColors = _React$useContext.axisColors,\n    hoveredColor = _React$useContext.hoveredColor,\n    opacity = _React$useContext.opacity,\n    onDragStart = _React$useContext.onDragStart,\n    onDrag = _React$useContext.onDrag,\n    onDragEnd = _React$useContext.onDragEnd,\n    userData = _React$useContext.userData; // @ts-expect-error new in @react-three/fiber@7.0.5\n\n  var camControls = useThree(function (state) {\n    return state.controls;\n  });\n  var divRef = React.useRef(null);\n  var objRef = React.useRef(null);\n  var clickInfo = React.useRef(null);\n  var offsetX0 = React.useRef(0);\n  var offsetY0 = React.useRef(0);\n  var _React$useState = React.useState(false),\n    _React$useState2 = _slicedToArray(_React$useState, 2),\n    isHovered = _React$useState2[0],\n    setIsHovered = _React$useState2[1];\n  var onPointerDown = React.useCallback(function (e) {\n    if (annotations) {\n      divRef.current.innerText = \"\".concat(translation.current[(axis + 1) % 3].toFixed(2), \", \").concat(translation.current[(axis + 2) % 3].toFixed(2));\n      divRef.current.style.display = 'block';\n    }\n    e.stopPropagation();\n    var clickPoint = e.point.clone();\n    var origin = new THREE.Vector3().setFromMatrixPosition(objRef.current.matrixWorld);\n    var e1 = new THREE.Vector3().setFromMatrixColumn(objRef.current.matrixWorld, 0).normalize();\n    var e2 = new THREE.Vector3().setFromMatrixColumn(objRef.current.matrixWorld, 1).normalize();\n    var normal = new THREE.Vector3().setFromMatrixColumn(objRef.current.matrixWorld, 2).normalize();\n    var plane = new THREE.Plane().setFromNormalAndCoplanarPoint(normal, origin);\n    clickInfo.current = {\n      clickPoint: clickPoint,\n      e1: e1,\n      e2: e2,\n      plane: plane\n    };\n    offsetX0.current = translation.current[(axis + 1) % 3];\n    offsetY0.current = translation.current[(axis + 2) % 3];\n    onDragStart({\n      component: 'Slider',\n      axis: axis,\n      origin: origin,\n      directions: [e1, e2, normal]\n    });\n    camControls && (camControls.enabled = false); // @ts-ignore\n\n    e.target.setPointerCapture(e.pointerId);\n  }, [annotations, camControls, onDragStart, axis]);\n  var onPointerMove = React.useCallback(function (e) {\n    e.stopPropagation();\n    if (!isHovered) setIsHovered(true);\n    if (clickInfo.current) {\n      var _clickInfo$current = clickInfo.current,\n        clickPoint = _clickInfo$current.clickPoint,\n        e1 = _clickInfo$current.e1,\n        e2 = _clickInfo$current.e2,\n        plane = _clickInfo$current.plane;\n      var _ref2 = (translationLimits == null ? void 0 : translationLimits[(axis + 1) % 3]) || [undefined, undefined],\n        _ref3 = _slicedToArray(_ref2, 2),\n        minX = _ref3[0],\n        maxX = _ref3[1];\n      var _ref4 = (translationLimits == null ? void 0 : translationLimits[(axis + 2) % 3]) || [undefined, undefined],\n        _ref5 = _slicedToArray(_ref4, 2),\n        minY = _ref5[0],\n        maxY = _ref5[1];\n      ray.copy(e.ray);\n      ray.intersectPlane(plane, intersection);\n      ray.direction.negate();\n      ray.intersectPlane(plane, intersection);\n      intersection.sub(clickPoint);\n      var _decomposeIntoBasis = decomposeIntoBasis(e1, e2, intersection),\n        _decomposeIntoBasis2 = _slicedToArray(_decomposeIntoBasis, 2),\n        offsetX = _decomposeIntoBasis2[0],\n        offsetY = _decomposeIntoBasis2[1];\n      /* let offsetY = (intersection.y - (intersection.x * e1.y) / e1.x) / (e2.y - (e2.x * e1.y) / e1.x)\n      let offsetX = (intersection.x - offsetY * e2.x) / e1.x */\n\n      if (minX !== undefined) {\n        offsetX = Math.max(offsetX, minX - offsetX0.current);\n      }\n      if (maxX !== undefined) {\n        offsetX = Math.min(offsetX, maxX - offsetX0.current);\n      }\n      if (minY !== undefined) {\n        offsetY = Math.max(offsetY, minY - offsetY0.current);\n      }\n      if (maxY !== undefined) {\n        offsetY = Math.min(offsetY, maxY - offsetY0.current);\n      }\n      translation.current[(axis + 1) % 3] = offsetX0.current + offsetX;\n      translation.current[(axis + 2) % 3] = offsetY0.current + offsetY;\n      if (annotations) {\n        divRef.current.innerText = \"\".concat(translation.current[(axis + 1) % 3].toFixed(2), \", \").concat(translation.current[(axis + 2) % 3].toFixed(2));\n      }\n      offsetMatrix.makeTranslation(offsetX * e1.x + offsetY * e2.x, offsetX * e1.y + offsetY * e2.y, offsetX * e1.z + offsetY * e2.z);\n      onDrag(offsetMatrix);\n    }\n  }, [annotations, onDrag, isHovered, translation, translationLimits, axis]);\n  var onPointerUp = React.useCallback(function (e) {\n    if (annotations) {\n      divRef.current.style.display = 'none';\n    }\n    e.stopPropagation();\n    clickInfo.current = null;\n    onDragEnd();\n    camControls && (camControls.enabled = true); // @ts-ignore\n\n    e.target.releasePointerCapture(e.pointerId);\n  }, [annotations, camControls, onDragEnd]);\n  var onPointerOut = React.useCallback(function (e) {\n    e.stopPropagation();\n    setIsHovered(false);\n  }, []);\n  var matrixL = React.useMemo(function () {\n    var dir1N = dir1.clone().normalize();\n    var dir2N = dir2.clone().normalize();\n    return new THREE.Matrix4().makeBasis(dir1N, dir2N, dir1N.clone().cross(dir2N));\n  }, [dir1, dir2]);\n  var pos1 = fixed ? 1 / 7 : scale / 7;\n  var length = fixed ? 0.225 : scale * 0.225;\n  var color = isHovered ? hoveredColor : axisColors[axis];\n  var points = React.useMemo(function () {\n    return [new THREE.Vector3(0, 0, 0), new THREE.Vector3(0, length, 0), new THREE.Vector3(length, length, 0), new THREE.Vector3(length, 0, 0), new THREE.Vector3(0, 0, 0)];\n  }, [length]);\n  return /*#__PURE__*/React.createElement(\"group\", {\n    ref: objRef,\n    matrix: matrixL,\n    matrixAutoUpdate: false\n  }, annotations && /*#__PURE__*/React.createElement(Html, {\n    position: [0, 0, 0]\n  }, /*#__PURE__*/React.createElement(\"div\", {\n    style: {\n      display: 'none',\n      background: '#151520',\n      color: 'white',\n      padding: '6px 8px',\n      borderRadius: 7,\n      whiteSpace: 'nowrap'\n    },\n    className: annotationsClass,\n    ref: divRef\n  })), /*#__PURE__*/React.createElement(\"group\", {\n    position: [pos1 * 1.7, pos1 * 1.7, 0]\n  }, /*#__PURE__*/React.createElement(\"mesh\", {\n    visible: true,\n    onPointerDown: onPointerDown,\n    onPointerMove: onPointerMove,\n    onPointerUp: onPointerUp,\n    onPointerOut: onPointerOut,\n    scale: length,\n    userData: userData\n  }, /*#__PURE__*/React.createElement(\"planeGeometry\", null), /*#__PURE__*/React.createElement(\"meshBasicMaterial\", {\n    transparent: true,\n    depthTest: depthTest,\n    color: color,\n    polygonOffset: true,\n    polygonOffsetFactor: -10,\n    side: THREE.DoubleSide,\n    fog: false\n  })), /*#__PURE__*/React.createElement(Line, {\n    position: [-length / 2, -length / 2, 0],\n    transparent: true,\n    depthTest: depthTest,\n    points: points,\n    lineWidth: lineWidth,\n    color: color,\n    opacity: opacity,\n    polygonOffset: true,\n    polygonOffsetFactor: -10,\n    userData: userData,\n    fog: false\n  })));\n};\nexport { PlaneSlider };","map":{"version":3,"names":["React","THREE","useThree","Line","Html","context","decomposeIntoBasis","e1","e2","offset","i1","Math","abs","x","y","z","e2DegrowthOrder","sort","a","b","getComponent","i2","a1","a2","b1","b2","c1","c2","ray","Ray","intersection","Vector3","offsetMatrix","Matrix4","PlaneSlider","_ref","dir1","dir2","axis","_React$useContext","useContext","translation","translationLimits","annotations","annotationsClass","depthTest","scale","lineWidth","fixed","axisColors","hoveredColor","opacity","onDragStart","onDrag","onDragEnd","userData","camControls","state","controls","divRef","useRef","objRef","clickInfo","offsetX0","offsetY0","_React$useState","useState","_React$useState2","_slicedToArray","isHovered","setIsHovered","onPointerDown","useCallback","e","current","innerText","concat","toFixed","style","display","stopPropagation","clickPoint","point","clone","origin","setFromMatrixPosition","matrixWorld","setFromMatrixColumn","normalize","normal","plane","Plane","setFromNormalAndCoplanarPoint","component","directions","enabled","target","setPointerCapture","pointerId","onPointerMove","_clickInfo$current","_ref2","undefined","_ref3","minX","maxX","_ref4","_ref5","minY","maxY","copy","intersectPlane","direction","negate","sub","_decomposeIntoBasis","_decomposeIntoBasis2","offsetX","offsetY","max","min","makeTranslation","onPointerUp","releasePointerCapture","onPointerOut","matrixL","useMemo","dir1N","dir2N","makeBasis","cross","pos1","length","color","points","createElement","ref","matrix","matrixAutoUpdate","position","background","padding","borderRadius","whiteSpace","className","visible","transparent","polygonOffset","polygonOffsetFactor","side","DoubleSide","fog"],"sources":["/home/krug/Coding/JavaScript/Websites/Personal/personal/node_modules/.pnpm/@react-three+drei@9.72.1_@react-three+fiber@8.13.0_@types+three@0.150.2_react-dom@18.2.0_react@18.2.0_three@0.151.3/node_modules/@react-three/drei/web/pivotControls/PlaneSlider.js"],"sourcesContent":["import * as React from 'react';\nimport * as THREE from 'three';\nimport { useThree } from '@react-three/fiber';\nimport { Line } from '../../core/Line.js';\nimport { Html } from '../Html.js';\nimport { context } from './context.js';\n\nconst decomposeIntoBasis = (e1, e2, offset) => {\n  const i1 = Math.abs(e1.x) >= Math.abs(e1.y) && Math.abs(e1.x) >= Math.abs(e1.z) ? 0 : Math.abs(e1.y) >= Math.abs(e1.x) && Math.abs(e1.y) >= Math.abs(e1.z) ? 1 : 2;\n  const e2DegrowthOrder = [0, 1, 2].sort((a, b) => Math.abs(e2.getComponent(b)) - Math.abs(e2.getComponent(a)));\n  const i2 = i1 === e2DegrowthOrder[0] ? e2DegrowthOrder[1] : e2DegrowthOrder[0];\n  const a1 = e1.getComponent(i1);\n  const a2 = e1.getComponent(i2);\n  const b1 = e2.getComponent(i1);\n  const b2 = e2.getComponent(i2);\n  const c1 = offset.getComponent(i1);\n  const c2 = offset.getComponent(i2);\n  const y = (c2 - c1 * (a2 / a1)) / (b2 - b1 * (a2 / a1));\n  const x = (c1 - y * b1) / a1;\n  return [x, y];\n};\n\nconst ray = new THREE.Ray();\nconst intersection = new THREE.Vector3();\nconst offsetMatrix = new THREE.Matrix4();\nconst PlaneSlider = ({\n  dir1,\n  dir2,\n  axis\n}) => {\n  const {\n    translation,\n    translationLimits,\n    annotations,\n    annotationsClass,\n    depthTest,\n    scale,\n    lineWidth,\n    fixed,\n    axisColors,\n    hoveredColor,\n    opacity,\n    onDragStart,\n    onDrag,\n    onDragEnd,\n    userData\n  } = React.useContext(context); // @ts-expect-error new in @react-three/fiber@7.0.5\n\n  const camControls = useThree(state => state.controls);\n  const divRef = React.useRef(null);\n  const objRef = React.useRef(null);\n  const clickInfo = React.useRef(null);\n  const offsetX0 = React.useRef(0);\n  const offsetY0 = React.useRef(0);\n  const [isHovered, setIsHovered] = React.useState(false);\n  const onPointerDown = React.useCallback(e => {\n    if (annotations) {\n      divRef.current.innerText = `${translation.current[(axis + 1) % 3].toFixed(2)}, ${translation.current[(axis + 2) % 3].toFixed(2)}`;\n      divRef.current.style.display = 'block';\n    }\n\n    e.stopPropagation();\n    const clickPoint = e.point.clone();\n    const origin = new THREE.Vector3().setFromMatrixPosition(objRef.current.matrixWorld);\n    const e1 = new THREE.Vector3().setFromMatrixColumn(objRef.current.matrixWorld, 0).normalize();\n    const e2 = new THREE.Vector3().setFromMatrixColumn(objRef.current.matrixWorld, 1).normalize();\n    const normal = new THREE.Vector3().setFromMatrixColumn(objRef.current.matrixWorld, 2).normalize();\n    const plane = new THREE.Plane().setFromNormalAndCoplanarPoint(normal, origin);\n    clickInfo.current = {\n      clickPoint,\n      e1,\n      e2,\n      plane\n    };\n    offsetX0.current = translation.current[(axis + 1) % 3];\n    offsetY0.current = translation.current[(axis + 2) % 3];\n    onDragStart({\n      component: 'Slider',\n      axis,\n      origin,\n      directions: [e1, e2, normal]\n    });\n    camControls && (camControls.enabled = false); // @ts-ignore\n\n    e.target.setPointerCapture(e.pointerId);\n  }, [annotations, camControls, onDragStart, axis]);\n  const onPointerMove = React.useCallback(e => {\n    e.stopPropagation();\n    if (!isHovered) setIsHovered(true);\n\n    if (clickInfo.current) {\n      const {\n        clickPoint,\n        e1,\n        e2,\n        plane\n      } = clickInfo.current;\n      const [minX, maxX] = (translationLimits == null ? void 0 : translationLimits[(axis + 1) % 3]) || [undefined, undefined];\n      const [minY, maxY] = (translationLimits == null ? void 0 : translationLimits[(axis + 2) % 3]) || [undefined, undefined];\n      ray.copy(e.ray);\n      ray.intersectPlane(plane, intersection);\n      ray.direction.negate();\n      ray.intersectPlane(plane, intersection);\n      intersection.sub(clickPoint);\n      let [offsetX, offsetY] = decomposeIntoBasis(e1, e2, intersection);\n      /* let offsetY = (intersection.y - (intersection.x * e1.y) / e1.x) / (e2.y - (e2.x * e1.y) / e1.x)\n      let offsetX = (intersection.x - offsetY * e2.x) / e1.x */\n\n      if (minX !== undefined) {\n        offsetX = Math.max(offsetX, minX - offsetX0.current);\n      }\n\n      if (maxX !== undefined) {\n        offsetX = Math.min(offsetX, maxX - offsetX0.current);\n      }\n\n      if (minY !== undefined) {\n        offsetY = Math.max(offsetY, minY - offsetY0.current);\n      }\n\n      if (maxY !== undefined) {\n        offsetY = Math.min(offsetY, maxY - offsetY0.current);\n      }\n\n      translation.current[(axis + 1) % 3] = offsetX0.current + offsetX;\n      translation.current[(axis + 2) % 3] = offsetY0.current + offsetY;\n\n      if (annotations) {\n        divRef.current.innerText = `${translation.current[(axis + 1) % 3].toFixed(2)}, ${translation.current[(axis + 2) % 3].toFixed(2)}`;\n      }\n\n      offsetMatrix.makeTranslation(offsetX * e1.x + offsetY * e2.x, offsetX * e1.y + offsetY * e2.y, offsetX * e1.z + offsetY * e2.z);\n      onDrag(offsetMatrix);\n    }\n  }, [annotations, onDrag, isHovered, translation, translationLimits, axis]);\n  const onPointerUp = React.useCallback(e => {\n    if (annotations) {\n      divRef.current.style.display = 'none';\n    }\n\n    e.stopPropagation();\n    clickInfo.current = null;\n    onDragEnd();\n    camControls && (camControls.enabled = true); // @ts-ignore\n\n    e.target.releasePointerCapture(e.pointerId);\n  }, [annotations, camControls, onDragEnd]);\n  const onPointerOut = React.useCallback(e => {\n    e.stopPropagation();\n    setIsHovered(false);\n  }, []);\n  const matrixL = React.useMemo(() => {\n    const dir1N = dir1.clone().normalize();\n    const dir2N = dir2.clone().normalize();\n    return new THREE.Matrix4().makeBasis(dir1N, dir2N, dir1N.clone().cross(dir2N));\n  }, [dir1, dir2]);\n  const pos1 = fixed ? 1 / 7 : scale / 7;\n  const length = fixed ? 0.225 : scale * 0.225;\n  const color = isHovered ? hoveredColor : axisColors[axis];\n  const points = React.useMemo(() => [new THREE.Vector3(0, 0, 0), new THREE.Vector3(0, length, 0), new THREE.Vector3(length, length, 0), new THREE.Vector3(length, 0, 0), new THREE.Vector3(0, 0, 0)], [length]);\n  return /*#__PURE__*/React.createElement(\"group\", {\n    ref: objRef,\n    matrix: matrixL,\n    matrixAutoUpdate: false\n  }, annotations && /*#__PURE__*/React.createElement(Html, {\n    position: [0, 0, 0]\n  }, /*#__PURE__*/React.createElement(\"div\", {\n    style: {\n      display: 'none',\n      background: '#151520',\n      color: 'white',\n      padding: '6px 8px',\n      borderRadius: 7,\n      whiteSpace: 'nowrap'\n    },\n    className: annotationsClass,\n    ref: divRef\n  })), /*#__PURE__*/React.createElement(\"group\", {\n    position: [pos1 * 1.7, pos1 * 1.7, 0]\n  }, /*#__PURE__*/React.createElement(\"mesh\", {\n    visible: true,\n    onPointerDown: onPointerDown,\n    onPointerMove: onPointerMove,\n    onPointerUp: onPointerUp,\n    onPointerOut: onPointerOut,\n    scale: length,\n    userData: userData\n  }, /*#__PURE__*/React.createElement(\"planeGeometry\", null), /*#__PURE__*/React.createElement(\"meshBasicMaterial\", {\n    transparent: true,\n    depthTest: depthTest,\n    color: color,\n    polygonOffset: true,\n    polygonOffsetFactor: -10,\n    side: THREE.DoubleSide,\n    fog: false\n  })), /*#__PURE__*/React.createElement(Line, {\n    position: [-length / 2, -length / 2, 0],\n    transparent: true,\n    depthTest: depthTest,\n    points: points,\n    lineWidth: lineWidth,\n    color: color,\n    opacity: opacity,\n    polygonOffset: true,\n    polygonOffsetFactor: -10,\n    userData: userData,\n    fog: false\n  })));\n};\n\nexport { PlaneSlider };\n"],"mappings":"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"},"metadata":{},"sourceType":"module","externalDependencies":[]}