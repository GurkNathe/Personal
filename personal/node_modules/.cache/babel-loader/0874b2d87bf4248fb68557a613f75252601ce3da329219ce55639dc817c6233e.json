{"ast":null,"code":"import _toConsumableArray from \"/home/krug/Coding/JavaScript/Websites/Personal/personal/node_modules/.pnpm/@babel+runtime@7.22.3/node_modules/@babel/runtime/helpers/esm/toConsumableArray.js\";\nimport _objectWithoutProperties from \"/home/krug/Coding/JavaScript/Websites/Personal/personal/node_modules/.pnpm/@babel+runtime@7.22.3/node_modules/@babel/runtime/helpers/esm/objectWithoutProperties.js\";\nvar _excluded = [\"debug\", \"mesh\", \"children\", \"position\", \"rotation\", \"scale\"];\nimport _extends from '@babel/runtime/helpers/esm/extends';\nimport * as React from 'react';\nimport * as THREE from 'three';\nimport { applyProps } from '@react-three/fiber';\nimport { DecalGeometry } from 'three-stdlib';\nfunction isArray(vec) {\n  return Array.isArray(vec);\n}\nfunction vecToArray() {\n  var vec = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : [0, 0, 0];\n  if (isArray(vec)) {\n    return vec;\n  } else if (vec instanceof THREE.Vector3 || vec instanceof THREE.Euler) {\n    return [vec.x, vec.y, vec.z];\n  } else {\n    return [vec, vec, vec];\n  }\n}\nvar Decal = /*#__PURE__*/React.forwardRef(function Decal(_ref, forwardRef) {\n  var debug = _ref.debug,\n    mesh = _ref.mesh,\n    children = _ref.children,\n    position = _ref.position,\n    rotation = _ref.rotation,\n    scale = _ref.scale,\n    props = _objectWithoutProperties(_ref, _excluded);\n  var ref = React.useRef(null);\n  React.useImperativeHandle(forwardRef, function () {\n    return ref.current;\n  });\n  var helper = React.useRef(null);\n  React.useLayoutEffect(function () {\n    var parent = (mesh == null ? void 0 : mesh.current) || ref.current.parent;\n    var target = ref.current;\n    if (!(parent instanceof THREE.Mesh)) {\n      throw new Error('Decal must have a Mesh as parent or specify its \"mesh\" prop');\n    }\n    var state = {\n      position: new THREE.Vector3(),\n      rotation: new THREE.Euler(),\n      scale: new THREE.Vector3(1, 1, 1)\n    };\n    if (parent) {\n      applyProps(state, {\n        position: position,\n        scale: scale\n      }); // Zero out the parents matrix world for this operation\n\n      var matrixWorld = parent.matrixWorld.clone();\n      parent.matrixWorld.identity();\n      if (!rotation || typeof rotation === 'number') {\n        var o = new THREE.Object3D();\n        o.position.copy(state.position);\n        o.lookAt(parent.position);\n        if (typeof rotation === 'number') o.rotateZ(rotation);\n        applyProps(state, {\n          rotation: o.rotation\n        });\n      } else {\n        applyProps(state, {\n          rotation: rotation\n        });\n      }\n      target.geometry = new DecalGeometry(parent, state.position, state.rotation, state.scale);\n      if (helper.current) applyProps(helper.current, state); // Reset parents matix-world\n\n      parent.matrixWorld = matrixWorld;\n      return function () {\n        target.geometry.dispose();\n      };\n    }\n  }, [mesh].concat(_toConsumableArray(vecToArray(position)), _toConsumableArray(vecToArray(scale)), _toConsumableArray(vecToArray(rotation))));\n  return /*#__PURE__*/React.createElement(\"mesh\", {\n    ref: ref\n  }, children || /*#__PURE__*/React.createElement(\"meshStandardMaterial\", _extends({\n    transparent: true,\n    polygonOffset: true,\n    polygonOffsetFactor: -10\n  }, props)), debug && /*#__PURE__*/React.createElement(\"mesh\", {\n    ref: helper\n  }, /*#__PURE__*/React.createElement(\"boxGeometry\", null), /*#__PURE__*/React.createElement(\"meshNormalMaterial\", {\n    wireframe: true\n  }), /*#__PURE__*/React.createElement(\"axesHelper\", null)));\n});\nexport { Decal };","map":{"version":3,"names":["_extends","React","THREE","applyProps","DecalGeometry","isArray","vec","Array","vecToArray","arguments","length","undefined","Vector3","Euler","x","y","z","Decal","forwardRef","_ref","debug","mesh","children","position","rotation","scale","props","_objectWithoutProperties","_excluded","ref","useRef","useImperativeHandle","current","helper","useLayoutEffect","parent","target","Mesh","Error","state","matrixWorld","clone","identity","o","Object3D","copy","lookAt","rotateZ","geometry","dispose","concat","_toConsumableArray","createElement","transparent","polygonOffset","polygonOffsetFactor","wireframe"],"sources":["/home/krug/Coding/JavaScript/Websites/Personal/personal/node_modules/.pnpm/@react-three+drei@9.72.1_@react-three+fiber@8.13.0_@types+three@0.150.2_react-dom@18.2.0_react@18.2.0_three@0.151.3/node_modules/@react-three/drei/core/Decal.js"],"sourcesContent":["import _extends from '@babel/runtime/helpers/esm/extends';\nimport * as React from 'react';\nimport * as THREE from 'three';\nimport { applyProps } from '@react-three/fiber';\nimport { DecalGeometry } from 'three-stdlib';\n\nfunction isArray(vec) {\n  return Array.isArray(vec);\n}\n\nfunction vecToArray(vec = [0, 0, 0]) {\n  if (isArray(vec)) {\n    return vec;\n  } else if (vec instanceof THREE.Vector3 || vec instanceof THREE.Euler) {\n    return [vec.x, vec.y, vec.z];\n  } else {\n    return [vec, vec, vec];\n  }\n}\n\nconst Decal = /*#__PURE__*/React.forwardRef(function Decal({\n  debug,\n  mesh,\n  children,\n  position,\n  rotation,\n  scale,\n  ...props\n}, forwardRef) {\n  const ref = React.useRef(null);\n  React.useImperativeHandle(forwardRef, () => ref.current);\n  const helper = React.useRef(null);\n  React.useLayoutEffect(() => {\n    const parent = (mesh == null ? void 0 : mesh.current) || ref.current.parent;\n    const target = ref.current;\n\n    if (!(parent instanceof THREE.Mesh)) {\n      throw new Error('Decal must have a Mesh as parent or specify its \"mesh\" prop');\n    }\n\n    const state = {\n      position: new THREE.Vector3(),\n      rotation: new THREE.Euler(),\n      scale: new THREE.Vector3(1, 1, 1)\n    };\n\n    if (parent) {\n      applyProps(state, {\n        position,\n        scale\n      }); // Zero out the parents matrix world for this operation\n\n      const matrixWorld = parent.matrixWorld.clone();\n      parent.matrixWorld.identity();\n\n      if (!rotation || typeof rotation === 'number') {\n        const o = new THREE.Object3D();\n        o.position.copy(state.position);\n        o.lookAt(parent.position);\n        if (typeof rotation === 'number') o.rotateZ(rotation);\n        applyProps(state, {\n          rotation: o.rotation\n        });\n      } else {\n        applyProps(state, {\n          rotation\n        });\n      }\n\n      target.geometry = new DecalGeometry(parent, state.position, state.rotation, state.scale);\n      if (helper.current) applyProps(helper.current, state); // Reset parents matix-world\n\n      parent.matrixWorld = matrixWorld;\n      return () => {\n        target.geometry.dispose();\n      };\n    }\n  }, [mesh, ...vecToArray(position), ...vecToArray(scale), ...vecToArray(rotation)]);\n  return /*#__PURE__*/React.createElement(\"mesh\", {\n    ref: ref\n  }, children || /*#__PURE__*/React.createElement(\"meshStandardMaterial\", _extends({\n    transparent: true,\n    polygonOffset: true,\n    polygonOffsetFactor: -10\n  }, props)), debug && /*#__PURE__*/React.createElement(\"mesh\", {\n    ref: helper\n  }, /*#__PURE__*/React.createElement(\"boxGeometry\", null), /*#__PURE__*/React.createElement(\"meshNormalMaterial\", {\n    wireframe: true\n  }), /*#__PURE__*/React.createElement(\"axesHelper\", null)));\n});\n\nexport { Decal };\n"],"mappings":"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"},"metadata":{},"sourceType":"module","externalDependencies":[]}