{"ast":null,"code":"import _classCallCheck from \"/home/krug/Coding/JavaScript/Websites/Personal/personal/node_modules/.pnpm/@babel+runtime@7.22.3/node_modules/@babel/runtime/helpers/esm/classCallCheck.js\";\nimport _createClass from \"/home/krug/Coding/JavaScript/Websites/Personal/personal/node_modules/.pnpm/@babel+runtime@7.22.3/node_modules/@babel/runtime/helpers/esm/createClass.js\";\nimport _inherits from \"/home/krug/Coding/JavaScript/Websites/Personal/personal/node_modules/.pnpm/@babel+runtime@7.22.3/node_modules/@babel/runtime/helpers/esm/inherits.js\";\nimport _createSuper from \"/home/krug/Coding/JavaScript/Websites/Personal/personal/node_modules/.pnpm/@babel+runtime@7.22.3/node_modules/@babel/runtime/helpers/esm/createSuper.js\";\nimport { Line, BufferGeometry, BufferAttribute, LineBasicMaterial, MathUtils } from \"three\";\nvar PositionalAudioHelper = /*#__PURE__*/function (_Line) {\n  _inherits(PositionalAudioHelper, _Line);\n  var _super = _createSuper(PositionalAudioHelper);\n  function PositionalAudioHelper(audio) {\n    var _this;\n    var range = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : 1;\n    var divisionsInnerAngle = arguments.length > 2 && arguments[2] !== undefined ? arguments[2] : 16;\n    var divisionsOuterAngle = arguments.length > 3 && arguments[3] !== undefined ? arguments[3] : 2;\n    _classCallCheck(this, PositionalAudioHelper);\n    var geometry = new BufferGeometry();\n    var divisions = divisionsInnerAngle + divisionsOuterAngle * 2;\n    var positions = new Float32Array((divisions * 3 + 3) * 3);\n    geometry.setAttribute(\"position\", new BufferAttribute(positions, 3));\n    var materialInnerAngle = new LineBasicMaterial({\n      color: 65280\n    });\n    var materialOuterAngle = new LineBasicMaterial({\n      color: 16776960\n    });\n    _this = _super.call(this, geometry, [materialOuterAngle, materialInnerAngle]);\n    _this.type = \"PositionalAudioHelper\";\n    _this.audio = audio;\n    _this.range = range;\n    _this.divisionsInnerAngle = divisionsInnerAngle;\n    _this.divisionsOuterAngle = divisionsOuterAngle;\n    _this.update();\n    return _this;\n  }\n  _createClass(PositionalAudioHelper, [{\n    key: \"update\",\n    value: function update() {\n      var audio = this.audio;\n      var range = this.range;\n      var divisionsInnerAngle = this.divisionsInnerAngle;\n      var divisionsOuterAngle = this.divisionsOuterAngle;\n      var coneInnerAngle = MathUtils.degToRad(audio.panner.coneInnerAngle);\n      var coneOuterAngle = MathUtils.degToRad(audio.panner.coneOuterAngle);\n      var halfConeInnerAngle = coneInnerAngle / 2;\n      var halfConeOuterAngle = coneOuterAngle / 2;\n      var start = 0;\n      var count = 0;\n      var i, stride;\n      var geometry = this.geometry;\n      var positionAttribute = geometry.attributes.position;\n      geometry.clearGroups();\n      function generateSegment(from, to, divisions, materialIndex) {\n        var step = (to - from) / divisions;\n        positionAttribute.setXYZ(start, 0, 0, 0);\n        count++;\n        for (i = from; i < to; i += step) {\n          stride = start + count;\n          positionAttribute.setXYZ(stride, Math.sin(i) * range, 0, Math.cos(i) * range);\n          positionAttribute.setXYZ(stride + 1, Math.sin(Math.min(i + step, to)) * range, 0, Math.cos(Math.min(i + step, to)) * range);\n          positionAttribute.setXYZ(stride + 2, 0, 0, 0);\n          count += 3;\n        }\n        geometry.addGroup(start, count, materialIndex);\n        start += count;\n        count = 0;\n      }\n      generateSegment(-halfConeOuterAngle, -halfConeInnerAngle, divisionsOuterAngle, 0);\n      generateSegment(-halfConeInnerAngle, halfConeInnerAngle, divisionsInnerAngle, 1);\n      generateSegment(halfConeInnerAngle, halfConeOuterAngle, divisionsOuterAngle, 0);\n      positionAttribute.needsUpdate = true;\n      if (coneInnerAngle === coneOuterAngle) this.material[0].visible = false;\n    }\n  }, {\n    key: \"dispose\",\n    value: function dispose() {\n      this.geometry.dispose();\n      this.material[0].dispose();\n      this.material[1].dispose();\n    }\n  }]);\n  return PositionalAudioHelper;\n}(Line);\nexport { PositionalAudioHelper };","map":{"version":3,"names":["Line","BufferGeometry","BufferAttribute","LineBasicMaterial","MathUtils","PositionalAudioHelper","_Line","_inherits","_super","_createSuper","audio","_this","range","arguments","length","undefined","divisionsInnerAngle","divisionsOuterAngle","_classCallCheck","geometry","divisions","positions","Float32Array","setAttribute","materialInnerAngle","color","materialOuterAngle","call","type","update","_createClass","key","value","coneInnerAngle","degToRad","panner","coneOuterAngle","halfConeInnerAngle","halfConeOuterAngle","start","count","i","stride","positionAttribute","attributes","position","clearGroups","generateSegment","from","to","materialIndex","step","setXYZ","Math","sin","cos","min","addGroup","needsUpdate","material","visible","dispose"],"sources":["/home/krug/Coding/JavaScript/Websites/Personal/personal/node_modules/.pnpm/three-stdlib@2.23.7_three@0.151.3/node_modules/three-stdlib/helpers/PositionalAudioHelper.js"],"sourcesContent":["import { Line, BufferGeometry, BufferAttribute, LineBasicMaterial, MathUtils } from \"three\";\nclass PositionalAudioHelper extends Line {\n  constructor(audio, range = 1, divisionsInnerAngle = 16, divisionsOuterAngle = 2) {\n    const geometry = new BufferGeometry();\n    const divisions = divisionsInnerAngle + divisionsOuterAngle * 2;\n    const positions = new Float32Array((divisions * 3 + 3) * 3);\n    geometry.setAttribute(\"position\", new BufferAttribute(positions, 3));\n    const materialInnerAngle = new LineBasicMaterial({ color: 65280 });\n    const materialOuterAngle = new LineBasicMaterial({ color: 16776960 });\n    super(geometry, [materialOuterAngle, materialInnerAngle]);\n    this.type = \"PositionalAudioHelper\";\n    this.audio = audio;\n    this.range = range;\n    this.divisionsInnerAngle = divisionsInnerAngle;\n    this.divisionsOuterAngle = divisionsOuterAngle;\n    this.update();\n  }\n  update() {\n    const audio = this.audio;\n    const range = this.range;\n    const divisionsInnerAngle = this.divisionsInnerAngle;\n    const divisionsOuterAngle = this.divisionsOuterAngle;\n    const coneInnerAngle = MathUtils.degToRad(audio.panner.coneInnerAngle);\n    const coneOuterAngle = MathUtils.degToRad(audio.panner.coneOuterAngle);\n    const halfConeInnerAngle = coneInnerAngle / 2;\n    const halfConeOuterAngle = coneOuterAngle / 2;\n    let start = 0;\n    let count = 0;\n    let i, stride;\n    const geometry = this.geometry;\n    const positionAttribute = geometry.attributes.position;\n    geometry.clearGroups();\n    function generateSegment(from, to, divisions, materialIndex) {\n      const step = (to - from) / divisions;\n      positionAttribute.setXYZ(start, 0, 0, 0);\n      count++;\n      for (i = from; i < to; i += step) {\n        stride = start + count;\n        positionAttribute.setXYZ(stride, Math.sin(i) * range, 0, Math.cos(i) * range);\n        positionAttribute.setXYZ(\n          stride + 1,\n          Math.sin(Math.min(i + step, to)) * range,\n          0,\n          Math.cos(Math.min(i + step, to)) * range\n        );\n        positionAttribute.setXYZ(stride + 2, 0, 0, 0);\n        count += 3;\n      }\n      geometry.addGroup(start, count, materialIndex);\n      start += count;\n      count = 0;\n    }\n    generateSegment(-halfConeOuterAngle, -halfConeInnerAngle, divisionsOuterAngle, 0);\n    generateSegment(-halfConeInnerAngle, halfConeInnerAngle, divisionsInnerAngle, 1);\n    generateSegment(halfConeInnerAngle, halfConeOuterAngle, divisionsOuterAngle, 0);\n    positionAttribute.needsUpdate = true;\n    if (coneInnerAngle === coneOuterAngle)\n      this.material[0].visible = false;\n  }\n  dispose() {\n    this.geometry.dispose();\n    this.material[0].dispose();\n    this.material[1].dispose();\n  }\n}\nexport {\n  PositionalAudioHelper\n};\n"],"mappings":"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"},"metadata":{},"sourceType":"module","externalDependencies":[]}