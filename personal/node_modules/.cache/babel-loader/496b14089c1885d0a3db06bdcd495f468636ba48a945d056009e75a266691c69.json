{"ast":null,"code":"import _slicedToArray from \"/home/krug/Coding/JavaScript/Websites/Personal/personal/node_modules/.pnpm/@babel+runtime@7.22.3/node_modules/@babel/runtime/helpers/esm/slicedToArray.js\";\nimport * as React from 'react';\nimport { Object3D, AnimationMixer } from 'three';\nimport { useFrame } from '@react-three/fiber';\nfunction useAnimations(clips, root) {\n  var ref = React.useRef();\n  var _React$useState = React.useState(function () {\n      return root ? root instanceof Object3D ? {\n        current: root\n      } : root : ref;\n    }),\n    _React$useState2 = _slicedToArray(_React$useState, 1),\n    actualRef = _React$useState2[0]; // eslint-disable-next-line prettier/prettier\n\n  var _React$useState3 = React.useState(function () {\n      return new AnimationMixer(undefined);\n    }),\n    _React$useState4 = _slicedToArray(_React$useState3, 1),\n    mixer = _React$useState4[0];\n  React.useLayoutEffect(function () {\n    return void (mixer._root = actualRef.current);\n  }, [mixer, root]);\n  var lazyActions = React.useRef({});\n  var _React$useState5 = React.useState(function () {\n      var actions = {};\n      clips.forEach(function (clip) {\n        return Object.defineProperty(actions, clip.name, {\n          enumerable: true,\n          get: function get() {\n            if (actualRef.current) {\n              return lazyActions.current[clip.name] || (lazyActions.current[clip.name] = mixer.clipAction(clip, actualRef.current));\n            }\n          },\n          configurable: true\n        });\n      });\n      return {\n        ref: actualRef,\n        clips: clips,\n        actions: actions,\n        names: clips.map(function (c) {\n          return c.name;\n        }),\n        mixer: mixer\n      };\n    }),\n    _React$useState6 = _slicedToArray(_React$useState5, 1),\n    api = _React$useState6[0];\n  useFrame(function (state, delta) {\n    return mixer.update(delta);\n  });\n  React.useEffect(function () {\n    var currentRoot = actualRef.current;\n    return function () {\n      // Clean up only when clips change, wipe out lazy actions and uncache clips\n      lazyActions.current = {};\n      Object.values(api.actions).forEach(function (action) {\n        if (currentRoot) {\n          mixer.uncacheAction(action, currentRoot);\n        }\n      });\n    };\n  }, [clips]);\n  React.useEffect(function () {\n    return function () {\n      mixer.stopAllAction();\n    };\n  }, [mixer]);\n  return api;\n}\nexport { useAnimations };","map":{"version":3,"names":["React","Object3D","AnimationMixer","useFrame","useAnimations","clips","root","ref","useRef","_React$useState","useState","current","_React$useState2","_slicedToArray","actualRef","_React$useState3","undefined","_React$useState4","mixer","useLayoutEffect","_root","lazyActions","_React$useState5","actions","forEach","clip","Object","defineProperty","name","enumerable","get","clipAction","configurable","names","map","c","_React$useState6","api","state","delta","update","useEffect","currentRoot","values","action","uncacheAction","stopAllAction"],"sources":["/home/krug/Coding/JavaScript/Websites/Personal/personal/node_modules/.pnpm/@react-three+drei@9.72.1_@react-three+fiber@8.13.0_@types+three@0.150.2_react-dom@18.2.0_react@18.2.0_three@0.151.3/node_modules/@react-three/drei/core/useAnimations.js"],"sourcesContent":["import * as React from 'react';\nimport { Object3D, AnimationMixer } from 'three';\nimport { useFrame } from '@react-three/fiber';\n\nfunction useAnimations(clips, root) {\n  const ref = React.useRef();\n  const [actualRef] = React.useState(() => root ? root instanceof Object3D ? {\n    current: root\n  } : root : ref); // eslint-disable-next-line prettier/prettier\n\n  const [mixer] = React.useState(() => new AnimationMixer(undefined));\n  React.useLayoutEffect(() => void (mixer._root = actualRef.current), [mixer, root]);\n  const lazyActions = React.useRef({});\n  const [api] = React.useState(() => {\n    const actions = {};\n    clips.forEach(clip => Object.defineProperty(actions, clip.name, {\n      enumerable: true,\n\n      get() {\n        if (actualRef.current) {\n          return lazyActions.current[clip.name] || (lazyActions.current[clip.name] = mixer.clipAction(clip, actualRef.current));\n        }\n      },\n\n      configurable: true\n    }));\n    return {\n      ref: actualRef,\n      clips,\n      actions,\n      names: clips.map(c => c.name),\n      mixer\n    };\n  });\n  useFrame((state, delta) => mixer.update(delta));\n  React.useEffect(() => {\n    const currentRoot = actualRef.current;\n    return () => {\n      // Clean up only when clips change, wipe out lazy actions and uncache clips\n      lazyActions.current = {};\n      Object.values(api.actions).forEach(action => {\n        if (currentRoot) {\n          mixer.uncacheAction(action, currentRoot);\n        }\n      });\n    };\n  }, [clips]);\n  React.useEffect(() => {\n    return () => {\n      mixer.stopAllAction();\n    };\n  }, [mixer]);\n  return api;\n}\n\nexport { useAnimations };\n"],"mappings":"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"},"metadata":{},"sourceType":"module","externalDependencies":[]}