{"ast":null,"code":"import _slicedToArray from \"/home/krug/Coding/JavaScript/Websites/Personal/personal/node_modules/.pnpm/@babel+runtime@7.22.3/node_modules/@babel/runtime/helpers/esm/slicedToArray.js\";\nimport * as React from 'react';\nimport * as THREE from 'three';\nimport { useThree } from '@react-three/fiber';\nimport { Line } from '../../core/Line.js';\nimport { Html } from '../Html.js';\nimport { context } from './context.js';\nvar vec1 = new THREE.Vector3();\nvar vec2 = new THREE.Vector3();\nvar calculateOffset = function calculateOffset(clickPoint, normal, rayStart, rayDir) {\n  var e1 = normal.dot(normal);\n  var e2 = normal.dot(clickPoint) - normal.dot(rayStart);\n  var e3 = normal.dot(rayDir);\n  if (e3 === 0) {\n    return -e2 / e1;\n  }\n  vec1.copy(rayDir).multiplyScalar(e1 / e3).sub(normal);\n  vec2.copy(rayDir).multiplyScalar(e2 / e3).add(rayStart).sub(clickPoint);\n  var offset = -vec1.dot(vec2) / vec1.dot(vec1);\n  return offset;\n};\nvar upV = new THREE.Vector3(0, 1, 0);\nvar offsetMatrix = new THREE.Matrix4();\nvar AxisArrow = function AxisArrow(_ref) {\n  var direction = _ref.direction,\n    axis = _ref.axis;\n  var _React$useContext = React.useContext(context),\n    translation = _React$useContext.translation,\n    translationLimits = _React$useContext.translationLimits,\n    annotations = _React$useContext.annotations,\n    annotationsClass = _React$useContext.annotationsClass,\n    depthTest = _React$useContext.depthTest,\n    scale = _React$useContext.scale,\n    lineWidth = _React$useContext.lineWidth,\n    fixed = _React$useContext.fixed,\n    axisColors = _React$useContext.axisColors,\n    hoveredColor = _React$useContext.hoveredColor,\n    opacity = _React$useContext.opacity,\n    onDragStart = _React$useContext.onDragStart,\n    onDrag = _React$useContext.onDrag,\n    onDragEnd = _React$useContext.onDragEnd,\n    userData = _React$useContext.userData; // @ts-expect-error new in @react-three/fiber@7.0.5\n\n  var camControls = useThree(function (state) {\n    return state.controls;\n  });\n  var divRef = React.useRef(null);\n  var objRef = React.useRef(null);\n  var clickInfo = React.useRef(null);\n  var offset0 = React.useRef(0);\n  var _React$useState = React.useState(false),\n    _React$useState2 = _slicedToArray(_React$useState, 2),\n    isHovered = _React$useState2[0],\n    setIsHovered = _React$useState2[1];\n  var onPointerDown = React.useCallback(function (e) {\n    if (annotations) {\n      divRef.current.innerText = \"\".concat(translation.current[axis].toFixed(2));\n      divRef.current.style.display = 'block';\n    }\n    e.stopPropagation();\n    var rotation = new THREE.Matrix4().extractRotation(objRef.current.matrixWorld);\n    var clickPoint = e.point.clone();\n    var origin = new THREE.Vector3().setFromMatrixPosition(objRef.current.matrixWorld);\n    var dir = direction.clone().applyMatrix4(rotation).normalize();\n    clickInfo.current = {\n      clickPoint: clickPoint,\n      dir: dir\n    };\n    offset0.current = translation.current[axis];\n    onDragStart({\n      component: 'Arrow',\n      axis: axis,\n      origin: origin,\n      directions: [dir]\n    });\n    camControls && (camControls.enabled = false); // @ts-ignore - setPointerCapture is not in the type definition\n\n    e.target.setPointerCapture(e.pointerId);\n  }, [annotations, direction, camControls, onDragStart, translation, axis]);\n  var onPointerMove = React.useCallback(function (e) {\n    e.stopPropagation();\n    if (!isHovered) setIsHovered(true);\n    if (clickInfo.current) {\n      var _clickInfo$current = clickInfo.current,\n        clickPoint = _clickInfo$current.clickPoint,\n        dir = _clickInfo$current.dir;\n      var _ref2 = (translationLimits == null ? void 0 : translationLimits[axis]) || [undefined, undefined],\n        _ref3 = _slicedToArray(_ref2, 2),\n        min = _ref3[0],\n        max = _ref3[1];\n      var offset = calculateOffset(clickPoint, dir, e.ray.origin, e.ray.direction);\n      if (min !== undefined) {\n        offset = Math.max(offset, min - offset0.current);\n      }\n      if (max !== undefined) {\n        offset = Math.min(offset, max - offset0.current);\n      }\n      translation.current[axis] = offset0.current + offset;\n      if (annotations) {\n        divRef.current.innerText = \"\".concat(translation.current[axis].toFixed(2));\n      }\n      offsetMatrix.makeTranslation(dir.x * offset, dir.y * offset, dir.z * offset);\n      onDrag(offsetMatrix);\n    }\n  }, [annotations, onDrag, isHovered, translation, translationLimits, axis]);\n  var onPointerUp = React.useCallback(function (e) {\n    if (annotations) {\n      divRef.current.style.display = 'none';\n    }\n    e.stopPropagation();\n    clickInfo.current = null;\n    onDragEnd();\n    camControls && (camControls.enabled = true); // @ts-ignore - releasePointerCapture & PointerEvent#pointerId is not in the type definition\n\n    e.target.releasePointerCapture(e.pointerId);\n  }, [annotations, camControls, onDragEnd]);\n  var onPointerOut = React.useCallback(function (e) {\n    e.stopPropagation();\n    setIsHovered(false);\n  }, []);\n  var _React$useMemo = React.useMemo(function () {\n      var coneWidth = fixed ? lineWidth / scale * 1.6 : scale / 20;\n      var coneLength = fixed ? 0.2 : scale / 5;\n      var cylinderLength = fixed ? 1 - coneLength : scale - coneLength;\n      var quaternion = new THREE.Quaternion().setFromUnitVectors(upV, direction.clone().normalize());\n      var matrixL = new THREE.Matrix4().makeRotationFromQuaternion(quaternion);\n      return {\n        cylinderLength: cylinderLength,\n        coneWidth: coneWidth,\n        coneLength: coneLength,\n        matrixL: matrixL\n      };\n    }, [direction, scale, lineWidth, fixed]),\n    cylinderLength = _React$useMemo.cylinderLength,\n    coneWidth = _React$useMemo.coneWidth,\n    coneLength = _React$useMemo.coneLength,\n    matrixL = _React$useMemo.matrixL;\n  var color_ = isHovered ? hoveredColor : axisColors[axis];\n  return /*#__PURE__*/React.createElement(\"group\", {\n    ref: objRef\n  }, /*#__PURE__*/React.createElement(\"group\", {\n    matrix: matrixL,\n    matrixAutoUpdate: false,\n    onPointerDown: onPointerDown,\n    onPointerMove: onPointerMove,\n    onPointerUp: onPointerUp,\n    onPointerOut: onPointerOut\n  }, annotations && /*#__PURE__*/React.createElement(Html, {\n    position: [0, -coneLength, 0]\n  }, /*#__PURE__*/React.createElement(\"div\", {\n    style: {\n      display: 'none',\n      background: '#151520',\n      color: 'white',\n      padding: '6px 8px',\n      borderRadius: 7,\n      whiteSpace: 'nowrap'\n    },\n    className: annotationsClass,\n    ref: divRef\n  })), /*#__PURE__*/React.createElement(\"mesh\", {\n    visible: false,\n    position: [0, (cylinderLength + coneLength) / 2.0, 0],\n    userData: userData\n  }, /*#__PURE__*/React.createElement(\"cylinderGeometry\", {\n    args: [coneWidth * 1.4, coneWidth * 1.4, cylinderLength + coneLength, 8, 1]\n  })), /*#__PURE__*/React.createElement(Line, {\n    transparent: true,\n    raycast: function raycast() {\n      return null;\n    },\n    depthTest: depthTest,\n    points: [0, 0, 0, 0, cylinderLength, 0],\n    lineWidth: lineWidth,\n    color: color_,\n    opacity: opacity,\n    polygonOffset: true,\n    renderOrder: 1,\n    polygonOffsetFactor: -10,\n    fog: false\n  }), /*#__PURE__*/React.createElement(\"mesh\", {\n    raycast: function raycast() {\n      return null;\n    },\n    position: [0, cylinderLength + coneLength / 2.0, 0],\n    renderOrder: 500\n  }, /*#__PURE__*/React.createElement(\"coneGeometry\", {\n    args: [coneWidth, coneLength, 24, 1]\n  }), /*#__PURE__*/React.createElement(\"meshBasicMaterial\", {\n    transparent: true,\n    depthTest: depthTest,\n    color: color_,\n    opacity: opacity,\n    polygonOffset: true,\n    polygonOffsetFactor: -10,\n    fog: false\n  }))));\n};\nexport { AxisArrow, calculateOffset };","map":{"version":3,"names":["React","THREE","useThree","Line","Html","context","vec1","Vector3","vec2","calculateOffset","clickPoint","normal","rayStart","rayDir","e1","dot","e2","e3","copy","multiplyScalar","sub","add","offset","upV","offsetMatrix","Matrix4","AxisArrow","_ref","direction","axis","_React$useContext","useContext","translation","translationLimits","annotations","annotationsClass","depthTest","scale","lineWidth","fixed","axisColors","hoveredColor","opacity","onDragStart","onDrag","onDragEnd","userData","camControls","state","controls","divRef","useRef","objRef","clickInfo","offset0","_React$useState","useState","_React$useState2","_slicedToArray","isHovered","setIsHovered","onPointerDown","useCallback","e","current","innerText","concat","toFixed","style","display","stopPropagation","rotation","extractRotation","matrixWorld","point","clone","origin","setFromMatrixPosition","dir","applyMatrix4","normalize","component","directions","enabled","target","setPointerCapture","pointerId","onPointerMove","_clickInfo$current","_ref2","undefined","_ref3","min","max","ray","Math","makeTranslation","x","y","z","onPointerUp","releasePointerCapture","onPointerOut","_React$useMemo","useMemo","coneWidth","coneLength","cylinderLength","quaternion","Quaternion","setFromUnitVectors","matrixL","makeRotationFromQuaternion","color_","createElement","ref","matrix","matrixAutoUpdate","position","background","color","padding","borderRadius","whiteSpace","className","visible","args","transparent","raycast","points","polygonOffset","renderOrder","polygonOffsetFactor","fog"],"sources":["/home/krug/Coding/JavaScript/Websites/Personal/personal/node_modules/.pnpm/@react-three+drei@9.72.1_@react-three+fiber@8.13.0_@types+three@0.150.2_react-dom@18.2.0_react@18.2.0_three@0.151.3/node_modules/@react-three/drei/web/pivotControls/AxisArrow.js"],"sourcesContent":["import * as React from 'react';\nimport * as THREE from 'three';\nimport { useThree } from '@react-three/fiber';\nimport { Line } from '../../core/Line.js';\nimport { Html } from '../Html.js';\nimport { context } from './context.js';\n\nconst vec1 = new THREE.Vector3();\nconst vec2 = new THREE.Vector3();\nconst calculateOffset = (clickPoint, normal, rayStart, rayDir) => {\n  const e1 = normal.dot(normal);\n  const e2 = normal.dot(clickPoint) - normal.dot(rayStart);\n  const e3 = normal.dot(rayDir);\n\n  if (e3 === 0) {\n    return -e2 / e1;\n  }\n\n  vec1.copy(rayDir).multiplyScalar(e1 / e3).sub(normal);\n  vec2.copy(rayDir).multiplyScalar(e2 / e3).add(rayStart).sub(clickPoint);\n  const offset = -vec1.dot(vec2) / vec1.dot(vec1);\n  return offset;\n};\nconst upV = new THREE.Vector3(0, 1, 0);\nconst offsetMatrix = new THREE.Matrix4();\nconst AxisArrow = ({\n  direction,\n  axis\n}) => {\n  const {\n    translation,\n    translationLimits,\n    annotations,\n    annotationsClass,\n    depthTest,\n    scale,\n    lineWidth,\n    fixed,\n    axisColors,\n    hoveredColor,\n    opacity,\n    onDragStart,\n    onDrag,\n    onDragEnd,\n    userData\n  } = React.useContext(context); // @ts-expect-error new in @react-three/fiber@7.0.5\n\n  const camControls = useThree(state => state.controls);\n  const divRef = React.useRef(null);\n  const objRef = React.useRef(null);\n  const clickInfo = React.useRef(null);\n  const offset0 = React.useRef(0);\n  const [isHovered, setIsHovered] = React.useState(false);\n  const onPointerDown = React.useCallback(e => {\n    if (annotations) {\n      divRef.current.innerText = `${translation.current[axis].toFixed(2)}`;\n      divRef.current.style.display = 'block';\n    }\n\n    e.stopPropagation();\n    const rotation = new THREE.Matrix4().extractRotation(objRef.current.matrixWorld);\n    const clickPoint = e.point.clone();\n    const origin = new THREE.Vector3().setFromMatrixPosition(objRef.current.matrixWorld);\n    const dir = direction.clone().applyMatrix4(rotation).normalize();\n    clickInfo.current = {\n      clickPoint,\n      dir\n    };\n    offset0.current = translation.current[axis];\n    onDragStart({\n      component: 'Arrow',\n      axis,\n      origin,\n      directions: [dir]\n    });\n    camControls && (camControls.enabled = false); // @ts-ignore - setPointerCapture is not in the type definition\n\n    e.target.setPointerCapture(e.pointerId);\n  }, [annotations, direction, camControls, onDragStart, translation, axis]);\n  const onPointerMove = React.useCallback(e => {\n    e.stopPropagation();\n    if (!isHovered) setIsHovered(true);\n\n    if (clickInfo.current) {\n      const {\n        clickPoint,\n        dir\n      } = clickInfo.current;\n      const [min, max] = (translationLimits == null ? void 0 : translationLimits[axis]) || [undefined, undefined];\n      let offset = calculateOffset(clickPoint, dir, e.ray.origin, e.ray.direction);\n\n      if (min !== undefined) {\n        offset = Math.max(offset, min - offset0.current);\n      }\n\n      if (max !== undefined) {\n        offset = Math.min(offset, max - offset0.current);\n      }\n\n      translation.current[axis] = offset0.current + offset;\n\n      if (annotations) {\n        divRef.current.innerText = `${translation.current[axis].toFixed(2)}`;\n      }\n\n      offsetMatrix.makeTranslation(dir.x * offset, dir.y * offset, dir.z * offset);\n      onDrag(offsetMatrix);\n    }\n  }, [annotations, onDrag, isHovered, translation, translationLimits, axis]);\n  const onPointerUp = React.useCallback(e => {\n    if (annotations) {\n      divRef.current.style.display = 'none';\n    }\n\n    e.stopPropagation();\n    clickInfo.current = null;\n    onDragEnd();\n    camControls && (camControls.enabled = true); // @ts-ignore - releasePointerCapture & PointerEvent#pointerId is not in the type definition\n\n    e.target.releasePointerCapture(e.pointerId);\n  }, [annotations, camControls, onDragEnd]);\n  const onPointerOut = React.useCallback(e => {\n    e.stopPropagation();\n    setIsHovered(false);\n  }, []);\n  const {\n    cylinderLength,\n    coneWidth,\n    coneLength,\n    matrixL\n  } = React.useMemo(() => {\n    const coneWidth = fixed ? lineWidth / scale * 1.6 : scale / 20;\n    const coneLength = fixed ? 0.2 : scale / 5;\n    const cylinderLength = fixed ? 1 - coneLength : scale - coneLength;\n    const quaternion = new THREE.Quaternion().setFromUnitVectors(upV, direction.clone().normalize());\n    const matrixL = new THREE.Matrix4().makeRotationFromQuaternion(quaternion);\n    return {\n      cylinderLength,\n      coneWidth,\n      coneLength,\n      matrixL\n    };\n  }, [direction, scale, lineWidth, fixed]);\n  const color_ = isHovered ? hoveredColor : axisColors[axis];\n  return /*#__PURE__*/React.createElement(\"group\", {\n    ref: objRef\n  }, /*#__PURE__*/React.createElement(\"group\", {\n    matrix: matrixL,\n    matrixAutoUpdate: false,\n    onPointerDown: onPointerDown,\n    onPointerMove: onPointerMove,\n    onPointerUp: onPointerUp,\n    onPointerOut: onPointerOut\n  }, annotations && /*#__PURE__*/React.createElement(Html, {\n    position: [0, -coneLength, 0]\n  }, /*#__PURE__*/React.createElement(\"div\", {\n    style: {\n      display: 'none',\n      background: '#151520',\n      color: 'white',\n      padding: '6px 8px',\n      borderRadius: 7,\n      whiteSpace: 'nowrap'\n    },\n    className: annotationsClass,\n    ref: divRef\n  })), /*#__PURE__*/React.createElement(\"mesh\", {\n    visible: false,\n    position: [0, (cylinderLength + coneLength) / 2.0, 0],\n    userData: userData\n  }, /*#__PURE__*/React.createElement(\"cylinderGeometry\", {\n    args: [coneWidth * 1.4, coneWidth * 1.4, cylinderLength + coneLength, 8, 1]\n  })), /*#__PURE__*/React.createElement(Line, {\n    transparent: true,\n    raycast: () => null,\n    depthTest: depthTest,\n    points: [0, 0, 0, 0, cylinderLength, 0],\n    lineWidth: lineWidth,\n    color: color_,\n    opacity: opacity,\n    polygonOffset: true,\n    renderOrder: 1,\n    polygonOffsetFactor: -10,\n    fog: false\n  }), /*#__PURE__*/React.createElement(\"mesh\", {\n    raycast: () => null,\n    position: [0, cylinderLength + coneLength / 2.0, 0],\n    renderOrder: 500\n  }, /*#__PURE__*/React.createElement(\"coneGeometry\", {\n    args: [coneWidth, coneLength, 24, 1]\n  }), /*#__PURE__*/React.createElement(\"meshBasicMaterial\", {\n    transparent: true,\n    depthTest: depthTest,\n    color: color_,\n    opacity: opacity,\n    polygonOffset: true,\n    polygonOffsetFactor: -10,\n    fog: false\n  }))));\n};\n\nexport { AxisArrow, calculateOffset };\n"],"mappings":"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"},"metadata":{},"sourceType":"module","externalDependencies":[]}