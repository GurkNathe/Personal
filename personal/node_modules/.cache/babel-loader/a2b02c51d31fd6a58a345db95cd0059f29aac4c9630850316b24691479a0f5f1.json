{"ast":null,"code":"import { Vector2 } from \"three\";\nvar ConvolutionShader = {\n  defines: {\n    KERNEL_SIZE_FLOAT: \"25.0\",\n    KERNEL_SIZE_INT: \"25\"\n  },\n  uniforms: {\n    tDiffuse: {\n      value: null\n    },\n    uImageIncrement: {\n      value: /* @__PURE__ */new Vector2(1953125e-9, 0)\n    },\n    cKernel: {\n      value: []\n    }\n  },\n  vertexShader: [\"uniform vec2 uImageIncrement;\", \"varying vec2 vUv;\", \"void main() {\", \"\tvUv = uv - ( ( KERNEL_SIZE_FLOAT - 1.0 ) / 2.0 ) * uImageIncrement;\", \"\tgl_Position = projectionMatrix * modelViewMatrix * vec4( position, 1.0 );\", \"}\"].join(\"\\n\"),\n  fragmentShader: [\"uniform float cKernel[ KERNEL_SIZE_INT ];\", \"uniform sampler2D tDiffuse;\", \"uniform vec2 uImageIncrement;\", \"varying vec2 vUv;\", \"void main() {\", \"\tvec2 imageCoord = vUv;\", \"\tvec4 sum = vec4( 0.0, 0.0, 0.0, 0.0 );\", \"\tfor( int i = 0; i < KERNEL_SIZE_INT; i ++ ) {\", \"\t\tsum += texture2D( tDiffuse, imageCoord ) * cKernel[ i ];\", \"\t\timageCoord += uImageIncrement;\", \"\t}\", \"\tgl_FragColor = sum;\", \"}\"].join(\"\\n\"),\n  buildKernel: function buildKernel(sigma) {\n    function gauss(x, sigma2) {\n      return Math.exp(-(x * x) / (2 * sigma2 * sigma2));\n    }\n    var kMaxKernelSize = 25;\n    var kernelSize = Math.min(2 * Math.ceil(sigma * 3) + 1, kMaxKernelSize);\n    var halfWidth = (kernelSize - 1) * 0.5;\n    var values = new Array(kernelSize);\n    var sum = 0;\n    for (var i = 0; i < kernelSize; ++i) {\n      values[i] = gauss(i - halfWidth, sigma);\n      sum += values[i];\n    }\n    for (var _i = 0; _i < kernelSize; ++_i) values[_i] /= sum;\n    return values;\n  }\n};\nexport { ConvolutionShader };","map":{"version":3,"names":["Vector2","ConvolutionShader","defines","KERNEL_SIZE_FLOAT","KERNEL_SIZE_INT","uniforms","tDiffuse","value","uImageIncrement","cKernel","vertexShader","join","fragmentShader","buildKernel","sigma","gauss","x","sigma2","Math","exp","kMaxKernelSize","kernelSize","min","ceil","halfWidth","values","Array","sum","i"],"sources":["/home/krug/Coding/JavaScript/Websites/Personal/personal/node_modules/.pnpm/three-stdlib@2.23.7_three@0.151.3/node_modules/three-stdlib/shaders/ConvolutionShader.js"],"sourcesContent":["import { Vector2 } from \"three\";\nconst ConvolutionShader = {\n  defines: {\n    KERNEL_SIZE_FLOAT: \"25.0\",\n    KERNEL_SIZE_INT: \"25\"\n  },\n  uniforms: {\n    tDiffuse: { value: null },\n    uImageIncrement: { value: /* @__PURE__ */ new Vector2(1953125e-9, 0) },\n    cKernel: { value: [] }\n  },\n  vertexShader: [\n    \"uniform vec2 uImageIncrement;\",\n    \"varying vec2 vUv;\",\n    \"void main() {\",\n    \"\tvUv = uv - ( ( KERNEL_SIZE_FLOAT - 1.0 ) / 2.0 ) * uImageIncrement;\",\n    \"\tgl_Position = projectionMatrix * modelViewMatrix * vec4( position, 1.0 );\",\n    \"}\"\n  ].join(\"\\n\"),\n  fragmentShader: [\n    \"uniform float cKernel[ KERNEL_SIZE_INT ];\",\n    \"uniform sampler2D tDiffuse;\",\n    \"uniform vec2 uImageIncrement;\",\n    \"varying vec2 vUv;\",\n    \"void main() {\",\n    \"\tvec2 imageCoord = vUv;\",\n    \"\tvec4 sum = vec4( 0.0, 0.0, 0.0, 0.0 );\",\n    \"\tfor( int i = 0; i < KERNEL_SIZE_INT; i ++ ) {\",\n    \"\t\tsum += texture2D( tDiffuse, imageCoord ) * cKernel[ i ];\",\n    \"\t\timageCoord += uImageIncrement;\",\n    \"\t}\",\n    \"\tgl_FragColor = sum;\",\n    \"}\"\n  ].join(\"\\n\"),\n  buildKernel: function(sigma) {\n    function gauss(x, sigma2) {\n      return Math.exp(-(x * x) / (2 * sigma2 * sigma2));\n    }\n    const kMaxKernelSize = 25;\n    const kernelSize = Math.min(2 * Math.ceil(sigma * 3) + 1, kMaxKernelSize);\n    const halfWidth = (kernelSize - 1) * 0.5;\n    const values = new Array(kernelSize);\n    let sum = 0;\n    for (let i = 0; i < kernelSize; ++i) {\n      values[i] = gauss(i - halfWidth, sigma);\n      sum += values[i];\n    }\n    for (let i = 0; i < kernelSize; ++i)\n      values[i] /= sum;\n    return values;\n  }\n};\nexport {\n  ConvolutionShader\n};\n"],"mappings":"AAAA,SAASA,OAAO,QAAQ,OAAO;AAC/B,IAAMC,iBAAiB,GAAG;EACxBC,OAAO,EAAE;IACPC,iBAAiB,EAAE,MAAM;IACzBC,eAAe,EAAE;EACnB,CAAC;EACDC,QAAQ,EAAE;IACRC,QAAQ,EAAE;MAAEC,KAAK,EAAE;IAAK,CAAC;IACzBC,eAAe,EAAE;MAAED,KAAK,EAAE,eAAgB,IAAIP,OAAO,CAAC,UAAU,EAAE,CAAC;IAAE,CAAC;IACtES,OAAO,EAAE;MAAEF,KAAK,EAAE;IAAG;EACvB,CAAC;EACDG,YAAY,EAAE,CACZ,+BAA+B,EAC/B,mBAAmB,EACnB,eAAe,EACf,sEAAsE,EACtE,4EAA4E,EAC5E,GAAG,CACJ,CAACC,IAAI,CAAC,IAAI,CAAC;EACZC,cAAc,EAAE,CACd,2CAA2C,EAC3C,6BAA6B,EAC7B,+BAA+B,EAC/B,mBAAmB,EACnB,eAAe,EACf,yBAAyB,EACzB,yCAAyC,EACzC,gDAAgD,EAChD,4DAA4D,EAC5D,kCAAkC,EAClC,IAAI,EACJ,sBAAsB,EACtB,GAAG,CACJ,CAACD,IAAI,CAAC,IAAI,CAAC;EACZE,WAAW,EAAE,SAAAA,YAASC,KAAK,EAAE;IAC3B,SAASC,KAAKA,CAACC,CAAC,EAAEC,MAAM,EAAE;MACxB,OAAOC,IAAI,CAACC,GAAG,CAAC,EAAEH,CAAC,GAAGA,CAAC,CAAC,IAAI,CAAC,GAAGC,MAAM,GAAGA,MAAM,CAAC,CAAC;IACnD;IACA,IAAMG,cAAc,GAAG,EAAE;IACzB,IAAMC,UAAU,GAAGH,IAAI,CAACI,GAAG,CAAC,CAAC,GAAGJ,IAAI,CAACK,IAAI,CAACT,KAAK,GAAG,CAAC,CAAC,GAAG,CAAC,EAAEM,cAAc,CAAC;IACzE,IAAMI,SAAS,GAAG,CAACH,UAAU,GAAG,CAAC,IAAI,GAAG;IACxC,IAAMI,MAAM,GAAG,IAAIC,KAAK,CAACL,UAAU,CAAC;IACpC,IAAIM,GAAG,GAAG,CAAC;IACX,KAAK,IAAIC,CAAC,GAAG,CAAC,EAAEA,CAAC,GAAGP,UAAU,EAAE,EAAEO,CAAC,EAAE;MACnCH,MAAM,CAACG,CAAC,CAAC,GAAGb,KAAK,CAACa,CAAC,GAAGJ,SAAS,EAAEV,KAAK,CAAC;MACvCa,GAAG,IAAIF,MAAM,CAACG,CAAC,CAAC;IAClB;IACA,KAAK,IAAIA,EAAC,GAAG,CAAC,EAAEA,EAAC,GAAGP,UAAU,EAAE,EAAEO,EAAC,EACjCH,MAAM,CAACG,EAAC,CAAC,IAAID,GAAG;IAClB,OAAOF,MAAM;EACf;AACF,CAAC;AACD,SACExB,iBAAiB"},"metadata":{},"sourceType":"module","externalDependencies":[]}