{"ast":null,"code":"import _toConsumableArray from \"/home/krug/Coding/JavaScript/Websites/Personal/personal/node_modules/.pnpm/@babel+runtime@7.22.3/node_modules/@babel/runtime/helpers/esm/toConsumableArray.js\";\nimport _assertThisInitialized from \"/home/krug/Coding/JavaScript/Websites/Personal/personal/node_modules/.pnpm/@babel+runtime@7.22.3/node_modules/@babel/runtime/helpers/esm/assertThisInitialized.js\";\nimport _get from \"/home/krug/Coding/JavaScript/Websites/Personal/personal/node_modules/.pnpm/@babel+runtime@7.22.3/node_modules/@babel/runtime/helpers/esm/get.js\";\nimport _getPrototypeOf from \"/home/krug/Coding/JavaScript/Websites/Personal/personal/node_modules/.pnpm/@babel+runtime@7.22.3/node_modules/@babel/runtime/helpers/esm/getPrototypeOf.js\";\nimport _inherits from \"/home/krug/Coding/JavaScript/Websites/Personal/personal/node_modules/.pnpm/@babel+runtime@7.22.3/node_modules/@babel/runtime/helpers/esm/inherits.js\";\nimport _createSuper from \"/home/krug/Coding/JavaScript/Websites/Personal/personal/node_modules/.pnpm/@babel+runtime@7.22.3/node_modules/@babel/runtime/helpers/esm/createSuper.js\";\nimport _defineProperty2 from \"/home/krug/Coding/JavaScript/Websites/Personal/personal/node_modules/.pnpm/@babel+runtime@7.22.3/node_modules/@babel/runtime/helpers/esm/defineProperty.js\";\nimport _classCallCheck from \"/home/krug/Coding/JavaScript/Websites/Personal/personal/node_modules/.pnpm/@babel+runtime@7.22.3/node_modules/@babel/runtime/helpers/esm/classCallCheck.js\";\nimport _createClass from \"/home/krug/Coding/JavaScript/Websites/Personal/personal/node_modules/.pnpm/@babel+runtime@7.22.3/node_modules/@babel/runtime/helpers/esm/createClass.js\";\nimport _slicedToArray from \"/home/krug/Coding/JavaScript/Websites/Personal/personal/node_modules/.pnpm/@babel+runtime@7.22.3/node_modules/@babel/runtime/helpers/esm/slicedToArray.js\";\nimport { V, c as computeRubberband } from './maths-0ab39ae9.esm.js';\nfunction _toPrimitive(input, hint) {\n  if (typeof input !== \"object\" || input === null) return input;\n  var prim = input[Symbol.toPrimitive];\n  if (prim !== undefined) {\n    var res = prim.call(input, hint || \"default\");\n    if (typeof res !== \"object\") return res;\n    throw new TypeError(\"@@toPrimitive must return a primitive value.\");\n  }\n  return (hint === \"string\" ? String : Number)(input);\n}\nfunction _toPropertyKey(arg) {\n  var key = _toPrimitive(arg, \"string\");\n  return typeof key === \"symbol\" ? key : String(key);\n}\nfunction _defineProperty(obj, key, value) {\n  key = _toPropertyKey(key);\n  if (key in obj) {\n    Object.defineProperty(obj, key, {\n      value: value,\n      enumerable: true,\n      configurable: true,\n      writable: true\n    });\n  } else {\n    obj[key] = value;\n  }\n  return obj;\n}\nfunction ownKeys(object, enumerableOnly) {\n  var keys = Object.keys(object);\n  if (Object.getOwnPropertySymbols) {\n    var symbols = Object.getOwnPropertySymbols(object);\n    enumerableOnly && (symbols = symbols.filter(function (sym) {\n      return Object.getOwnPropertyDescriptor(object, sym).enumerable;\n    })), keys.push.apply(keys, symbols);\n  }\n  return keys;\n}\nfunction _objectSpread2(target) {\n  for (var i = 1; i < arguments.length; i++) {\n    var source = null != arguments[i] ? arguments[i] : {};\n    i % 2 ? ownKeys(Object(source), !0).forEach(function (key) {\n      _defineProperty(target, key, source[key]);\n    }) : Object.getOwnPropertyDescriptors ? Object.defineProperties(target, Object.getOwnPropertyDescriptors(source)) : ownKeys(Object(source)).forEach(function (key) {\n      Object.defineProperty(target, key, Object.getOwnPropertyDescriptor(source, key));\n    });\n  }\n  return target;\n}\nvar EVENT_TYPE_MAP = {\n  pointer: {\n    start: 'down',\n    change: 'move',\n    end: 'up'\n  },\n  mouse: {\n    start: 'down',\n    change: 'move',\n    end: 'up'\n  },\n  touch: {\n    start: 'start',\n    change: 'move',\n    end: 'end'\n  },\n  gesture: {\n    start: 'start',\n    change: 'change',\n    end: 'end'\n  }\n};\nfunction capitalize(string) {\n  if (!string) return '';\n  return string[0].toUpperCase() + string.slice(1);\n}\nvar actionsWithoutCaptureSupported = ['enter', 'leave'];\nfunction hasCapture() {\n  var capture = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : false;\n  var actionKey = arguments.length > 1 ? arguments[1] : undefined;\n  return capture && !actionsWithoutCaptureSupported.includes(actionKey);\n}\nfunction toHandlerProp(device) {\n  var action = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : '';\n  var capture = arguments.length > 2 && arguments[2] !== undefined ? arguments[2] : false;\n  var deviceProps = EVENT_TYPE_MAP[device];\n  var actionKey = deviceProps ? deviceProps[action] || action : action;\n  return 'on' + capitalize(device) + capitalize(actionKey) + (hasCapture(capture, actionKey) ? 'Capture' : '');\n}\nvar pointerCaptureEvents = ['gotpointercapture', 'lostpointercapture'];\nfunction parseProp(prop) {\n  var eventKey = prop.substring(2).toLowerCase();\n  var passive = !!~eventKey.indexOf('passive');\n  if (passive) eventKey = eventKey.replace('passive', '');\n  var captureKey = pointerCaptureEvents.includes(eventKey) ? 'capturecapture' : 'capture';\n  var capture = !!~eventKey.indexOf(captureKey);\n  if (capture) eventKey = eventKey.replace('capture', '');\n  return {\n    device: eventKey,\n    capture: capture,\n    passive: passive\n  };\n}\nfunction toDomEventType(device) {\n  var action = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : '';\n  var deviceProps = EVENT_TYPE_MAP[device];\n  var actionKey = deviceProps ? deviceProps[action] || action : action;\n  return device + actionKey;\n}\nfunction isTouch(event) {\n  return 'touches' in event;\n}\nfunction getPointerType(event) {\n  if (isTouch(event)) return 'touch';\n  if ('pointerType' in event) return event.pointerType;\n  return 'mouse';\n}\nfunction getCurrentTargetTouchList(event) {\n  return Array.from(event.touches).filter(function (e) {\n    var _event$currentTarget, _event$currentTarget$;\n    return e.target === event.currentTarget || ((_event$currentTarget = event.currentTarget) === null || _event$currentTarget === void 0 ? void 0 : (_event$currentTarget$ = _event$currentTarget.contains) === null || _event$currentTarget$ === void 0 ? void 0 : _event$currentTarget$.call(_event$currentTarget, e.target));\n  });\n}\nfunction getTouchList(event) {\n  return event.type === 'touchend' || event.type === 'touchcancel' ? event.changedTouches : event.targetTouches;\n}\nfunction getValueEvent(event) {\n  return isTouch(event) ? getTouchList(event)[0] : event;\n}\nfunction distanceAngle(P1, P2) {\n  try {\n    var dx = P2.clientX - P1.clientX;\n    var dy = P2.clientY - P1.clientY;\n    var cx = (P2.clientX + P1.clientX) / 2;\n    var cy = (P2.clientY + P1.clientY) / 2;\n    var distance = Math.hypot(dx, dy);\n    var angle = -(Math.atan2(dx, dy) * 180) / Math.PI;\n    var origin = [cx, cy];\n    return {\n      angle: angle,\n      distance: distance,\n      origin: origin\n    };\n  } catch (_unused) {}\n  return null;\n}\nfunction touchIds(event) {\n  return getCurrentTargetTouchList(event).map(function (touch) {\n    return touch.identifier;\n  });\n}\nfunction touchDistanceAngle(event, ids) {\n  var _Array$from$filter = Array.from(event.touches).filter(function (touch) {\n      return ids.includes(touch.identifier);\n    }),\n    _Array$from$filter2 = _slicedToArray(_Array$from$filter, 2),\n    P1 = _Array$from$filter2[0],\n    P2 = _Array$from$filter2[1];\n  return distanceAngle(P1, P2);\n}\nfunction pointerId(event) {\n  var valueEvent = getValueEvent(event);\n  return isTouch(event) ? valueEvent.identifier : valueEvent.pointerId;\n}\nfunction pointerValues(event) {\n  var valueEvent = getValueEvent(event);\n  return [valueEvent.clientX, valueEvent.clientY];\n}\nvar LINE_HEIGHT = 40;\nvar PAGE_HEIGHT = 800;\nfunction wheelValues(event) {\n  var deltaX = event.deltaX,\n    deltaY = event.deltaY,\n    deltaMode = event.deltaMode;\n  if (deltaMode === 1) {\n    deltaX *= LINE_HEIGHT;\n    deltaY *= LINE_HEIGHT;\n  } else if (deltaMode === 2) {\n    deltaX *= PAGE_HEIGHT;\n    deltaY *= PAGE_HEIGHT;\n  }\n  return [deltaX, deltaY];\n}\nfunction scrollValues(event) {\n  var _ref, _ref2;\n  var _event$currentTarget2 = event.currentTarget,\n    scrollX = _event$currentTarget2.scrollX,\n    scrollY = _event$currentTarget2.scrollY,\n    scrollLeft = _event$currentTarget2.scrollLeft,\n    scrollTop = _event$currentTarget2.scrollTop;\n  return [(_ref = scrollX !== null && scrollX !== void 0 ? scrollX : scrollLeft) !== null && _ref !== void 0 ? _ref : 0, (_ref2 = scrollY !== null && scrollY !== void 0 ? scrollY : scrollTop) !== null && _ref2 !== void 0 ? _ref2 : 0];\n}\nfunction getEventDetails(event) {\n  var payload = {};\n  if ('buttons' in event) payload.buttons = event.buttons;\n  if ('shiftKey' in event) {\n    var shiftKey = event.shiftKey,\n      altKey = event.altKey,\n      metaKey = event.metaKey,\n      ctrlKey = event.ctrlKey;\n    Object.assign(payload, {\n      shiftKey: shiftKey,\n      altKey: altKey,\n      metaKey: metaKey,\n      ctrlKey: ctrlKey\n    });\n  }\n  return payload;\n}\nfunction call(v) {\n  if (typeof v === 'function') {\n    for (var _len = arguments.length, args = new Array(_len > 1 ? _len - 1 : 0), _key = 1; _key < _len; _key++) {\n      args[_key - 1] = arguments[_key];\n    }\n    return v.apply(void 0, args);\n  } else {\n    return v;\n  }\n}\nfunction noop() {}\nfunction chain() {\n  for (var _len2 = arguments.length, fns = new Array(_len2), _key2 = 0; _key2 < _len2; _key2++) {\n    fns[_key2] = arguments[_key2];\n  }\n  if (fns.length === 0) return noop;\n  if (fns.length === 1) return fns[0];\n  return function () {\n    var result;\n    for (var _i = 0, _fns = fns; _i < _fns.length; _i++) {\n      var fn = _fns[_i];\n      result = fn.apply(this, arguments) || result;\n    }\n    return result;\n  };\n}\nfunction assignDefault(value, fallback) {\n  return Object.assign({}, fallback, value || {});\n}\nvar BEFORE_LAST_KINEMATICS_DELAY = 32;\nvar Engine = /*#__PURE__*/function () {\n  function Engine(ctrl, args, key) {\n    _classCallCheck(this, Engine);\n    this.ctrl = ctrl;\n    this.args = args;\n    this.key = key;\n    if (!this.state) {\n      this.state = {};\n      this.computeValues([0, 0]);\n      this.computeInitial();\n      if (this.init) this.init();\n      this.reset();\n    }\n  }\n  _createClass(Engine, [{\n    key: \"state\",\n    get: function get() {\n      return this.ctrl.state[this.key];\n    },\n    set: function set(state) {\n      this.ctrl.state[this.key] = state;\n    }\n  }, {\n    key: \"shared\",\n    get: function get() {\n      return this.ctrl.state.shared;\n    }\n  }, {\n    key: \"eventStore\",\n    get: function get() {\n      return this.ctrl.gestureEventStores[this.key];\n    }\n  }, {\n    key: \"timeoutStore\",\n    get: function get() {\n      return this.ctrl.gestureTimeoutStores[this.key];\n    }\n  }, {\n    key: \"config\",\n    get: function get() {\n      return this.ctrl.config[this.key];\n    }\n  }, {\n    key: \"sharedConfig\",\n    get: function get() {\n      return this.ctrl.config.shared;\n    }\n  }, {\n    key: \"handler\",\n    get: function get() {\n      return this.ctrl.handlers[this.key];\n    }\n  }, {\n    key: \"reset\",\n    value: function reset() {\n      var state = this.state,\n        shared = this.shared,\n        ingKey = this.ingKey,\n        args = this.args;\n      shared[ingKey] = state._active = state.active = state._blocked = state._force = false;\n      state._step = [false, false];\n      state.intentional = false;\n      state._movement = [0, 0];\n      state._distance = [0, 0];\n      state._direction = [0, 0];\n      state._delta = [0, 0];\n      state._bounds = [[-Infinity, Infinity], [-Infinity, Infinity]];\n      state.args = args;\n      state.axis = undefined;\n      state.memo = undefined;\n      state.elapsedTime = state.timeDelta = 0;\n      state.direction = [0, 0];\n      state.distance = [0, 0];\n      state.overflow = [0, 0];\n      state._movementBound = [false, false];\n      state.velocity = [0, 0];\n      state.movement = [0, 0];\n      state.delta = [0, 0];\n      state.timeStamp = 0;\n    }\n  }, {\n    key: \"start\",\n    value: function start(event) {\n      var state = this.state;\n      var config = this.config;\n      if (!state._active) {\n        this.reset();\n        this.computeInitial();\n        state._active = true;\n        state.target = event.target;\n        state.currentTarget = event.currentTarget;\n        state.lastOffset = config.from ? call(config.from, state) : state.offset;\n        state.offset = state.lastOffset;\n        state.startTime = state.timeStamp = event.timeStamp;\n      }\n    }\n  }, {\n    key: \"computeValues\",\n    value: function computeValues(values) {\n      var state = this.state;\n      state._values = values;\n      state.values = this.config.transform(values);\n    }\n  }, {\n    key: \"computeInitial\",\n    value: function computeInitial() {\n      var state = this.state;\n      state._initial = state._values;\n      state.initial = state.values;\n    }\n  }, {\n    key: \"compute\",\n    value: function compute(event) {\n      var state = this.state,\n        config = this.config,\n        shared = this.shared;\n      state.args = this.args;\n      var dt = 0;\n      if (event) {\n        state.event = event;\n        if (config.preventDefault && event.cancelable) state.event.preventDefault();\n        state.type = event.type;\n        shared.touches = this.ctrl.pointerIds.size || this.ctrl.touchIds.size;\n        shared.locked = !!document.pointerLockElement;\n        Object.assign(shared, getEventDetails(event));\n        shared.down = shared.pressed = shared.buttons % 2 === 1 || shared.touches > 0;\n        dt = event.timeStamp - state.timeStamp;\n        state.timeStamp = event.timeStamp;\n        state.elapsedTime = state.timeStamp - state.startTime;\n      }\n      if (state._active) {\n        var _absoluteDelta = state._delta.map(Math.abs);\n        V.addTo(state._distance, _absoluteDelta);\n      }\n      if (this.axisIntent) this.axisIntent(event);\n      var _state$_movement = _slicedToArray(state._movement, 2),\n        _m0 = _state$_movement[0],\n        _m1 = _state$_movement[1];\n      var _config$threshold = _slicedToArray(config.threshold, 2),\n        t0 = _config$threshold[0],\n        t1 = _config$threshold[1];\n      var _step = state._step,\n        values = state.values;\n      if (config.hasCustomTransform) {\n        if (_step[0] === false) _step[0] = Math.abs(_m0) >= t0 && values[0];\n        if (_step[1] === false) _step[1] = Math.abs(_m1) >= t1 && values[1];\n      } else {\n        if (_step[0] === false) _step[0] = Math.abs(_m0) >= t0 && Math.sign(_m0) * t0;\n        if (_step[1] === false) _step[1] = Math.abs(_m1) >= t1 && Math.sign(_m1) * t1;\n      }\n      state.intentional = _step[0] !== false || _step[1] !== false;\n      if (!state.intentional) return;\n      var movement = [0, 0];\n      if (config.hasCustomTransform) {\n        var _values2 = _slicedToArray(values, 2),\n          v0 = _values2[0],\n          v1 = _values2[1];\n        movement[0] = _step[0] !== false ? v0 - _step[0] : 0;\n        movement[1] = _step[1] !== false ? v1 - _step[1] : 0;\n      } else {\n        movement[0] = _step[0] !== false ? _m0 - _step[0] : 0;\n        movement[1] = _step[1] !== false ? _m1 - _step[1] : 0;\n      }\n      if (this.restrictToAxis && !state._blocked) this.restrictToAxis(movement);\n      var previousOffset = state.offset;\n      var gestureIsActive = state._active && !state._blocked || state.active;\n      if (gestureIsActive) {\n        state.first = state._active && !state.active;\n        state.last = !state._active && state.active;\n        state.active = shared[this.ingKey] = state._active;\n        if (event) {\n          if (state.first) {\n            if ('bounds' in config) state._bounds = call(config.bounds, state);\n            if (this.setup) this.setup();\n          }\n          state.movement = movement;\n          this.computeOffset();\n        }\n      }\n      var _state$offset = _slicedToArray(state.offset, 2),\n        ox = _state$offset[0],\n        oy = _state$offset[1];\n      var _state$_bounds = _slicedToArray(state._bounds, 2),\n        _state$_bounds$ = _slicedToArray(_state$_bounds[0], 2),\n        x0 = _state$_bounds$[0],\n        x1 = _state$_bounds$[1],\n        _state$_bounds$2 = _slicedToArray(_state$_bounds[1], 2),\n        y0 = _state$_bounds$2[0],\n        y1 = _state$_bounds$2[1];\n      state.overflow = [ox < x0 ? -1 : ox > x1 ? 1 : 0, oy < y0 ? -1 : oy > y1 ? 1 : 0];\n      state._movementBound[0] = state.overflow[0] ? state._movementBound[0] === false ? state._movement[0] : state._movementBound[0] : false;\n      state._movementBound[1] = state.overflow[1] ? state._movementBound[1] === false ? state._movement[1] : state._movementBound[1] : false;\n      var rubberband = state._active ? config.rubberband || [0, 0] : [0, 0];\n      state.offset = computeRubberband(state._bounds, state.offset, rubberband);\n      state.delta = V.sub(state.offset, previousOffset);\n      this.computeMovement();\n      if (gestureIsActive && (!state.last || dt > BEFORE_LAST_KINEMATICS_DELAY)) {\n        state.delta = V.sub(state.offset, previousOffset);\n        var absoluteDelta = state.delta.map(Math.abs);\n        V.addTo(state.distance, absoluteDelta);\n        state.direction = state.delta.map(Math.sign);\n        state._direction = state._delta.map(Math.sign);\n        if (!state.first && dt > 0) {\n          state.velocity = [absoluteDelta[0] / dt, absoluteDelta[1] / dt];\n          state.timeDelta = dt;\n        }\n      }\n    }\n  }, {\n    key: \"emit\",\n    value: function emit() {\n      var state = this.state;\n      var shared = this.shared;\n      var config = this.config;\n      if (!state._active) this.clean();\n      if ((state._blocked || !state.intentional) && !state._force && !config.triggerAllEvents) return;\n      var memo = this.handler(_objectSpread2(_objectSpread2(_objectSpread2({}, shared), state), {}, _defineProperty2({}, this.aliasKey, state.values)));\n      if (memo !== undefined) state.memo = memo;\n    }\n  }, {\n    key: \"clean\",\n    value: function clean() {\n      this.eventStore.clean();\n      this.timeoutStore.clean();\n    }\n  }]);\n  return Engine;\n}();\nfunction selectAxis(_ref3, threshold) {\n  var _ref4 = _slicedToArray(_ref3, 2),\n    dx = _ref4[0],\n    dy = _ref4[1];\n  var absDx = Math.abs(dx);\n  var absDy = Math.abs(dy);\n  if (absDx > absDy && absDx > threshold) {\n    return 'x';\n  }\n  if (absDy > absDx && absDy > threshold) {\n    return 'y';\n  }\n  return undefined;\n}\nvar CoordinatesEngine = /*#__PURE__*/function (_Engine) {\n  _inherits(CoordinatesEngine, _Engine);\n  var _super = _createSuper(CoordinatesEngine);\n  function CoordinatesEngine() {\n    var _this;\n    _classCallCheck(this, CoordinatesEngine);\n    for (var _len3 = arguments.length, args = new Array(_len3), _key3 = 0; _key3 < _len3; _key3++) {\n      args[_key3] = arguments[_key3];\n    }\n    _this = _super.call.apply(_super, [this].concat(args));\n    _defineProperty(_assertThisInitialized(_this), \"aliasKey\", 'xy');\n    return _this;\n  }\n  _createClass(CoordinatesEngine, [{\n    key: \"reset\",\n    value: function reset() {\n      _get(_getPrototypeOf(CoordinatesEngine.prototype), \"reset\", this).call(this);\n      this.state.axis = undefined;\n    }\n  }, {\n    key: \"init\",\n    value: function init() {\n      this.state.offset = [0, 0];\n      this.state.lastOffset = [0, 0];\n    }\n  }, {\n    key: \"computeOffset\",\n    value: function computeOffset() {\n      this.state.offset = V.add(this.state.lastOffset, this.state.movement);\n    }\n  }, {\n    key: \"computeMovement\",\n    value: function computeMovement() {\n      this.state.movement = V.sub(this.state.offset, this.state.lastOffset);\n    }\n  }, {\n    key: \"axisIntent\",\n    value: function axisIntent(event) {\n      var state = this.state;\n      var config = this.config;\n      if (!state.axis && event) {\n        var threshold = typeof config.axisThreshold === 'object' ? config.axisThreshold[getPointerType(event)] : config.axisThreshold;\n        state.axis = selectAxis(state._movement, threshold);\n      }\n      state._blocked = (config.lockDirection || !!config.axis) && !state.axis || !!config.axis && config.axis !== state.axis;\n    }\n  }, {\n    key: \"restrictToAxis\",\n    value: function restrictToAxis(v) {\n      if (this.config.axis || this.config.lockDirection) {\n        switch (this.state.axis) {\n          case 'x':\n            v[1] = 0;\n            break;\n          case 'y':\n            v[0] = 0;\n            break;\n        }\n      }\n    }\n  }]);\n  return CoordinatesEngine;\n}(Engine);\nvar identity = function identity(v) {\n  return v;\n};\nvar DEFAULT_RUBBERBAND = 0.15;\nvar commonConfigResolver = {\n  enabled: function enabled() {\n    var value = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : true;\n    return value;\n  },\n  eventOptions: function eventOptions(value, _k, config) {\n    return _objectSpread2(_objectSpread2({}, config.shared.eventOptions), value);\n  },\n  preventDefault: function preventDefault() {\n    var value = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : false;\n    return value;\n  },\n  triggerAllEvents: function triggerAllEvents() {\n    var value = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : false;\n    return value;\n  },\n  rubberband: function rubberband() {\n    var value = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : 0;\n    switch (value) {\n      case true:\n        return [DEFAULT_RUBBERBAND, DEFAULT_RUBBERBAND];\n      case false:\n        return [0, 0];\n      default:\n        return V.toVector(value);\n    }\n  },\n  from: function from(value) {\n    if (typeof value === 'function') return value;\n    if (value != null) return V.toVector(value);\n  },\n  transform: function transform(value, _k, config) {\n    var transform = value || config.shared.transform;\n    this.hasCustomTransform = !!transform;\n    if (process.env.NODE_ENV === 'development') {\n      var originalTransform = transform || identity;\n      return function (v) {\n        var r = originalTransform(v);\n        if (!isFinite(r[0]) || !isFinite(r[1])) {\n          console.warn(\"[@use-gesture]: config.transform() must produce a valid result, but it was: [\".concat(r[0], \",\").concat([1], \"]\"));\n        }\n        return r;\n      };\n    }\n    return transform || identity;\n  },\n  threshold: function threshold(value) {\n    return V.toVector(value, 0);\n  }\n};\nif (process.env.NODE_ENV === 'development') {\n  Object.assign(commonConfigResolver, {\n    domTarget: function domTarget(value) {\n      if (value !== undefined) {\n        throw Error(\"[@use-gesture]: `domTarget` option has been renamed to `target`.\");\n      }\n      return NaN;\n    },\n    lockDirection: function lockDirection(value) {\n      if (value !== undefined) {\n        throw Error(\"[@use-gesture]: `lockDirection` option has been merged with `axis`. Use it as in `{ axis: 'lock' }`\");\n      }\n      return NaN;\n    },\n    initial: function initial(value) {\n      if (value !== undefined) {\n        throw Error(\"[@use-gesture]: `initial` option has been renamed to `from`.\");\n      }\n      return NaN;\n    }\n  });\n}\nvar DEFAULT_AXIS_THRESHOLD = 0;\nvar coordinatesConfigResolver = _objectSpread2(_objectSpread2({}, commonConfigResolver), {}, {\n  axis: function axis(_v, _k, _ref5) {\n    var axis = _ref5.axis;\n    this.lockDirection = axis === 'lock';\n    if (!this.lockDirection) return axis;\n  },\n  axisThreshold: function axisThreshold() {\n    var value = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : DEFAULT_AXIS_THRESHOLD;\n    return value;\n  },\n  bounds: function bounds() {\n    var value = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : {};\n    if (typeof value === 'function') {\n      return function (state) {\n        return coordinatesConfigResolver.bounds(value(state));\n      };\n    }\n    if ('current' in value) {\n      return function () {\n        return value.current;\n      };\n    }\n    if (typeof HTMLElement === 'function' && value instanceof HTMLElement) {\n      return value;\n    }\n    var _value$left = value.left,\n      left = _value$left === void 0 ? -Infinity : _value$left,\n      _value$right = value.right,\n      right = _value$right === void 0 ? Infinity : _value$right,\n      _value$top = value.top,\n      top = _value$top === void 0 ? -Infinity : _value$top,\n      _value$bottom = value.bottom,\n      bottom = _value$bottom === void 0 ? Infinity : _value$bottom;\n    return [[left, right], [top, bottom]];\n  }\n});\nvar KEYS_DELTA_MAP = {\n  ArrowRight: function ArrowRight(displacement) {\n    var factor = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : 1;\n    return [displacement * factor, 0];\n  },\n  ArrowLeft: function ArrowLeft(displacement) {\n    var factor = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : 1;\n    return [-1 * displacement * factor, 0];\n  },\n  ArrowUp: function ArrowUp(displacement) {\n    var factor = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : 1;\n    return [0, -1 * displacement * factor];\n  },\n  ArrowDown: function ArrowDown(displacement) {\n    var factor = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : 1;\n    return [0, displacement * factor];\n  }\n};\nvar DragEngine = /*#__PURE__*/function (_CoordinatesEngine) {\n  _inherits(DragEngine, _CoordinatesEngine);\n  var _super2 = _createSuper(DragEngine);\n  function DragEngine() {\n    var _this2;\n    _classCallCheck(this, DragEngine);\n    for (var _len4 = arguments.length, args = new Array(_len4), _key4 = 0; _key4 < _len4; _key4++) {\n      args[_key4] = arguments[_key4];\n    }\n    _this2 = _super2.call.apply(_super2, [this].concat(args));\n    _defineProperty(_assertThisInitialized(_this2), \"ingKey\", 'dragging');\n    return _this2;\n  }\n  _createClass(DragEngine, [{\n    key: \"reset\",\n    value: function reset() {\n      _get(_getPrototypeOf(DragEngine.prototype), \"reset\", this).call(this);\n      var state = this.state;\n      state._pointerId = undefined;\n      state._pointerActive = false;\n      state._keyboardActive = false;\n      state._preventScroll = false;\n      state._delayed = false;\n      state.swipe = [0, 0];\n      state.tap = false;\n      state.canceled = false;\n      state.cancel = this.cancel.bind(this);\n    }\n  }, {\n    key: \"setup\",\n    value: function setup() {\n      var state = this.state;\n      if (state._bounds instanceof HTMLElement) {\n        var boundRect = state._bounds.getBoundingClientRect();\n        var targetRect = state.currentTarget.getBoundingClientRect();\n        var _bounds = {\n          left: boundRect.left - targetRect.left + state.offset[0],\n          right: boundRect.right - targetRect.right + state.offset[0],\n          top: boundRect.top - targetRect.top + state.offset[1],\n          bottom: boundRect.bottom - targetRect.bottom + state.offset[1]\n        };\n        state._bounds = coordinatesConfigResolver.bounds(_bounds);\n      }\n    }\n  }, {\n    key: \"cancel\",\n    value: function cancel() {\n      var _this3 = this;\n      var state = this.state;\n      if (state.canceled) return;\n      state.canceled = true;\n      state._active = false;\n      setTimeout(function () {\n        _this3.compute();\n        _this3.emit();\n      }, 0);\n    }\n  }, {\n    key: \"setActive\",\n    value: function setActive() {\n      this.state._active = this.state._pointerActive || this.state._keyboardActive;\n    }\n  }, {\n    key: \"clean\",\n    value: function clean() {\n      this.pointerClean();\n      this.state._pointerActive = false;\n      this.state._keyboardActive = false;\n      _get(_getPrototypeOf(DragEngine.prototype), \"clean\", this).call(this);\n    }\n  }, {\n    key: \"pointerDown\",\n    value: function pointerDown(event) {\n      var config = this.config;\n      var state = this.state;\n      if (event.buttons != null && (Array.isArray(config.pointerButtons) ? !config.pointerButtons.includes(event.buttons) : config.pointerButtons !== -1 && config.pointerButtons !== event.buttons)) return;\n      var ctrlIds = this.ctrl.setEventIds(event);\n      if (config.pointerCapture) {\n        event.target.setPointerCapture(event.pointerId);\n      }\n      if (ctrlIds && ctrlIds.size > 1 && state._pointerActive) return;\n      this.start(event);\n      this.setupPointer(event);\n      state._pointerId = pointerId(event);\n      state._pointerActive = true;\n      this.computeValues(pointerValues(event));\n      this.computeInitial();\n      if (config.preventScrollAxis && getPointerType(event) !== 'mouse') {\n        state._active = false;\n        this.setupScrollPrevention(event);\n      } else if (config.delay > 0) {\n        this.setupDelayTrigger(event);\n        if (config.triggerAllEvents) {\n          this.compute(event);\n          this.emit();\n        }\n      } else {\n        this.startPointerDrag(event);\n      }\n    }\n  }, {\n    key: \"startPointerDrag\",\n    value: function startPointerDrag(event) {\n      var state = this.state;\n      state._active = true;\n      state._preventScroll = true;\n      state._delayed = false;\n      this.compute(event);\n      this.emit();\n    }\n  }, {\n    key: \"pointerMove\",\n    value: function pointerMove(event) {\n      var state = this.state;\n      var config = this.config;\n      if (!state._pointerActive) return;\n      var id = pointerId(event);\n      if (state._pointerId !== undefined && id !== state._pointerId) return;\n      var _values = pointerValues(event);\n      if (document.pointerLockElement === event.target) {\n        state._delta = [event.movementX, event.movementY];\n      } else {\n        state._delta = V.sub(_values, state._values);\n        this.computeValues(_values);\n      }\n      V.addTo(state._movement, state._delta);\n      this.compute(event);\n      if (state._delayed && state.intentional) {\n        this.timeoutStore.remove('dragDelay');\n        state.active = false;\n        this.startPointerDrag(event);\n        return;\n      }\n      if (config.preventScrollAxis && !state._preventScroll) {\n        if (state.axis) {\n          if (state.axis === config.preventScrollAxis || config.preventScrollAxis === 'xy') {\n            state._active = false;\n            this.clean();\n            return;\n          } else {\n            this.timeoutStore.remove('startPointerDrag');\n            this.startPointerDrag(event);\n            return;\n          }\n        } else {\n          return;\n        }\n      }\n      this.emit();\n    }\n  }, {\n    key: \"pointerUp\",\n    value: function pointerUp(event) {\n      this.ctrl.setEventIds(event);\n      try {\n        if (this.config.pointerCapture && event.target.hasPointerCapture(event.pointerId)) {\n          ;\n          event.target.releasePointerCapture(event.pointerId);\n        }\n      } catch (_unused) {\n        if (process.env.NODE_ENV === 'development') {\n          console.warn(\"[@use-gesture]: If you see this message, it's likely that you're using an outdated version of `@react-three/fiber`. \\n\\nPlease upgrade to the latest version.\");\n        }\n      }\n      var state = this.state;\n      var config = this.config;\n      if (!state._active || !state._pointerActive) return;\n      var id = pointerId(event);\n      if (state._pointerId !== undefined && id !== state._pointerId) return;\n      this.state._pointerActive = false;\n      this.setActive();\n      this.compute(event);\n      var _state$_distance = _slicedToArray(state._distance, 2),\n        dx = _state$_distance[0],\n        dy = _state$_distance[1];\n      state.tap = dx <= config.tapsThreshold && dy <= config.tapsThreshold;\n      if (state.tap && config.filterTaps) {\n        state._force = true;\n      } else {\n        var _state$_delta = _slicedToArray(state._delta, 2),\n          _dx = _state$_delta[0],\n          _dy = _state$_delta[1];\n        var _state$_movement2 = _slicedToArray(state._movement, 2),\n          _mx = _state$_movement2[0],\n          _my = _state$_movement2[1];\n        var _config$swipe$velocit = _slicedToArray(config.swipe.velocity, 2),\n          svx = _config$swipe$velocit[0],\n          svy = _config$swipe$velocit[1];\n        var _config$swipe$distanc = _slicedToArray(config.swipe.distance, 2),\n          sx = _config$swipe$distanc[0],\n          sy = _config$swipe$distanc[1];\n        var sdt = config.swipe.duration;\n        if (state.elapsedTime < sdt) {\n          var _vx = Math.abs(_dx / state.timeDelta);\n          var _vy = Math.abs(_dy / state.timeDelta);\n          if (_vx > svx && Math.abs(_mx) > sx) state.swipe[0] = Math.sign(_dx);\n          if (_vy > svy && Math.abs(_my) > sy) state.swipe[1] = Math.sign(_dy);\n        }\n      }\n      this.emit();\n    }\n  }, {\n    key: \"pointerClick\",\n    value: function pointerClick(event) {\n      if (!this.state.tap && event.detail > 0) {\n        event.preventDefault();\n        event.stopPropagation();\n      }\n    }\n  }, {\n    key: \"setupPointer\",\n    value: function setupPointer(event) {\n      var config = this.config;\n      var device = config.device;\n      if (process.env.NODE_ENV === 'development') {\n        try {\n          if (device === 'pointer' && config.preventScrollDelay === undefined) {\n            var currentTarget = 'uv' in event ? event.sourceEvent.currentTarget : event.currentTarget;\n            var style = window.getComputedStyle(currentTarget);\n            if (style.touchAction === 'auto') {\n              console.warn(\"[@use-gesture]: The drag target has its `touch-action` style property set to `auto`. It is recommended to add `touch-action: 'none'` so that the drag gesture behaves correctly on touch-enabled devices. For more information read this: https://use-gesture.netlify.app/docs/extras/#touch-action.\\n\\nThis message will only show in development mode. It won't appear in production. If this is intended, you can ignore it.\", currentTarget);\n            }\n          }\n        } catch (_unused2) {}\n      }\n      if (config.pointerLock) {\n        event.currentTarget.requestPointerLock();\n      }\n      if (!config.pointerCapture) {\n        this.eventStore.add(this.sharedConfig.window, device, 'change', this.pointerMove.bind(this));\n        this.eventStore.add(this.sharedConfig.window, device, 'end', this.pointerUp.bind(this));\n        this.eventStore.add(this.sharedConfig.window, device, 'cancel', this.pointerUp.bind(this));\n      }\n    }\n  }, {\n    key: \"pointerClean\",\n    value: function pointerClean() {\n      if (this.config.pointerLock && document.pointerLockElement === this.state.currentTarget) {\n        document.exitPointerLock();\n      }\n    }\n  }, {\n    key: \"preventScroll\",\n    value: function preventScroll(event) {\n      if (this.state._preventScroll && event.cancelable) {\n        event.preventDefault();\n      }\n    }\n  }, {\n    key: \"setupScrollPrevention\",\n    value: function setupScrollPrevention(event) {\n      this.state._preventScroll = false;\n      persistEvent(event);\n      var remove = this.eventStore.add(this.sharedConfig.window, 'touch', 'change', this.preventScroll.bind(this), {\n        passive: false\n      });\n      this.eventStore.add(this.sharedConfig.window, 'touch', 'end', remove);\n      this.eventStore.add(this.sharedConfig.window, 'touch', 'cancel', remove);\n      this.timeoutStore.add('startPointerDrag', this.startPointerDrag.bind(this), this.config.preventScrollDelay, event);\n    }\n  }, {\n    key: \"setupDelayTrigger\",\n    value: function setupDelayTrigger(event) {\n      var _this4 = this;\n      this.state._delayed = true;\n      this.timeoutStore.add('dragDelay', function () {\n        _this4.state._step = [0, 0];\n        _this4.startPointerDrag(event);\n      }, this.config.delay);\n    }\n  }, {\n    key: \"keyDown\",\n    value: function keyDown(event) {\n      var deltaFn = KEYS_DELTA_MAP[event.key];\n      if (deltaFn) {\n        var state = this.state;\n        var factor = event.shiftKey ? 10 : event.altKey ? 0.1 : 1;\n        this.start(event);\n        state._delta = deltaFn(this.config.keyboardDisplacement, factor);\n        state._keyboardActive = true;\n        V.addTo(state._movement, state._delta);\n        this.compute(event);\n        this.emit();\n      }\n    }\n  }, {\n    key: \"keyUp\",\n    value: function keyUp(event) {\n      if (!(event.key in KEYS_DELTA_MAP)) return;\n      this.state._keyboardActive = false;\n      this.setActive();\n      this.compute(event);\n      this.emit();\n    }\n  }, {\n    key: \"bind\",\n    value: function bind(bindFunction) {\n      var device = this.config.device;\n      bindFunction(device, 'start', this.pointerDown.bind(this));\n      if (this.config.pointerCapture) {\n        bindFunction(device, 'change', this.pointerMove.bind(this));\n        bindFunction(device, 'end', this.pointerUp.bind(this));\n        bindFunction(device, 'cancel', this.pointerUp.bind(this));\n        bindFunction('lostPointerCapture', '', this.pointerUp.bind(this));\n      }\n      if (this.config.keys) {\n        bindFunction('key', 'down', this.keyDown.bind(this));\n        bindFunction('key', 'up', this.keyUp.bind(this));\n      }\n      if (this.config.filterTaps) {\n        bindFunction('click', '', this.pointerClick.bind(this), {\n          capture: true,\n          passive: false\n        });\n      }\n    }\n  }]);\n  return DragEngine;\n}(CoordinatesEngine);\nfunction persistEvent(event) {\n  'persist' in event && typeof event.persist === 'function' && event.persist();\n}\nvar isBrowser = typeof window !== 'undefined' && window.document && window.document.createElement;\nfunction supportsTouchEvents() {\n  return isBrowser && 'ontouchstart' in window;\n}\nfunction isTouchScreen() {\n  return supportsTouchEvents() || isBrowser && window.navigator.maxTouchPoints > 1;\n}\nfunction supportsPointerEvents() {\n  return isBrowser && 'onpointerdown' in window;\n}\nfunction supportsPointerLock() {\n  return isBrowser && 'exitPointerLock' in window.document;\n}\nfunction supportsGestureEvents() {\n  try {\n    return 'constructor' in GestureEvent;\n  } catch (e) {\n    return false;\n  }\n}\nvar SUPPORT = {\n  isBrowser: isBrowser,\n  gesture: supportsGestureEvents(),\n  touch: isTouchScreen(),\n  touchscreen: isTouchScreen(),\n  pointer: supportsPointerEvents(),\n  pointerLock: supportsPointerLock()\n};\nvar DEFAULT_PREVENT_SCROLL_DELAY = 250;\nvar DEFAULT_DRAG_DELAY = 180;\nvar DEFAULT_SWIPE_VELOCITY = 0.5;\nvar DEFAULT_SWIPE_DISTANCE = 50;\nvar DEFAULT_SWIPE_DURATION = 250;\nvar DEFAULT_KEYBOARD_DISPLACEMENT = 10;\nvar DEFAULT_DRAG_AXIS_THRESHOLD = {\n  mouse: 0,\n  touch: 0,\n  pen: 8\n};\nvar dragConfigResolver = _objectSpread2(_objectSpread2({}, coordinatesConfigResolver), {}, {\n  device: function device(_v, _k, _ref6) {\n    var _ref6$pointer = _ref6.pointer,\n      _ref6$pointer2 = _ref6$pointer === void 0 ? {} : _ref6$pointer,\n      _ref6$pointer2$touch = _ref6$pointer2.touch,\n      touch = _ref6$pointer2$touch === void 0 ? false : _ref6$pointer2$touch,\n      _ref6$pointer2$lock = _ref6$pointer2.lock,\n      lock = _ref6$pointer2$lock === void 0 ? false : _ref6$pointer2$lock,\n      _ref6$pointer2$mouse = _ref6$pointer2.mouse,\n      mouse = _ref6$pointer2$mouse === void 0 ? false : _ref6$pointer2$mouse;\n    this.pointerLock = lock && SUPPORT.pointerLock;\n    if (SUPPORT.touch && touch) return 'touch';\n    if (this.pointerLock) return 'mouse';\n    if (SUPPORT.pointer && !mouse) return 'pointer';\n    if (SUPPORT.touch) return 'touch';\n    return 'mouse';\n  },\n  preventScrollAxis: function preventScrollAxis(value, _k, _ref7) {\n    var preventScroll = _ref7.preventScroll;\n    this.preventScrollDelay = typeof preventScroll === 'number' ? preventScroll : preventScroll || preventScroll === undefined && value ? DEFAULT_PREVENT_SCROLL_DELAY : undefined;\n    if (!SUPPORT.touchscreen || preventScroll === false) return undefined;\n    return value ? value : preventScroll !== undefined ? 'y' : undefined;\n  },\n  pointerCapture: function pointerCapture(_v, _k, _ref8) {\n    var _ref8$pointer = _ref8.pointer,\n      _ref8$pointer2 = _ref8$pointer === void 0 ? {} : _ref8$pointer,\n      _ref8$pointer2$captur = _ref8$pointer2.capture,\n      capture = _ref8$pointer2$captur === void 0 ? true : _ref8$pointer2$captur,\n      _ref8$pointer2$button = _ref8$pointer2.buttons,\n      buttons = _ref8$pointer2$button === void 0 ? 1 : _ref8$pointer2$button,\n      _ref8$pointer2$keys = _ref8$pointer2.keys,\n      keys = _ref8$pointer2$keys === void 0 ? true : _ref8$pointer2$keys;\n    this.pointerButtons = buttons;\n    this.keys = keys;\n    return !this.pointerLock && this.device === 'pointer' && capture;\n  },\n  threshold: function threshold(value, _k, _ref9) {\n    var _ref9$filterTaps = _ref9.filterTaps,\n      filterTaps = _ref9$filterTaps === void 0 ? false : _ref9$filterTaps,\n      _ref9$tapsThreshold = _ref9.tapsThreshold,\n      tapsThreshold = _ref9$tapsThreshold === void 0 ? 3 : _ref9$tapsThreshold,\n      _ref9$axis = _ref9.axis,\n      axis = _ref9$axis === void 0 ? undefined : _ref9$axis;\n    var threshold = V.toVector(value, filterTaps ? tapsThreshold : axis ? 1 : 0);\n    this.filterTaps = filterTaps;\n    this.tapsThreshold = tapsThreshold;\n    return threshold;\n  },\n  swipe: function swipe() {\n    var _ref10 = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : {},\n      _ref10$velocity = _ref10.velocity,\n      velocity = _ref10$velocity === void 0 ? DEFAULT_SWIPE_VELOCITY : _ref10$velocity,\n      _ref10$distance = _ref10.distance,\n      distance = _ref10$distance === void 0 ? DEFAULT_SWIPE_DISTANCE : _ref10$distance,\n      _ref10$duration = _ref10.duration,\n      duration = _ref10$duration === void 0 ? DEFAULT_SWIPE_DURATION : _ref10$duration;\n    return {\n      velocity: this.transform(V.toVector(velocity)),\n      distance: this.transform(V.toVector(distance)),\n      duration: duration\n    };\n  },\n  delay: function delay() {\n    var value = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : 0;\n    switch (value) {\n      case true:\n        return DEFAULT_DRAG_DELAY;\n      case false:\n        return 0;\n      default:\n        return value;\n    }\n  },\n  axisThreshold: function axisThreshold(value) {\n    if (!value) return DEFAULT_DRAG_AXIS_THRESHOLD;\n    return _objectSpread2(_objectSpread2({}, DEFAULT_DRAG_AXIS_THRESHOLD), value);\n  },\n  keyboardDisplacement: function keyboardDisplacement() {\n    var value = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : DEFAULT_KEYBOARD_DISPLACEMENT;\n    return value;\n  }\n});\nif (process.env.NODE_ENV === 'development') {\n  Object.assign(dragConfigResolver, {\n    useTouch: function useTouch(value) {\n      if (value !== undefined) {\n        throw Error(\"[@use-gesture]: `useTouch` option has been renamed to `pointer.touch`. Use it as in `{ pointer: { touch: true } }`.\");\n      }\n      return NaN;\n    },\n    experimental_preventWindowScrollY: function experimental_preventWindowScrollY(value) {\n      if (value !== undefined) {\n        throw Error(\"[@use-gesture]: `experimental_preventWindowScrollY` option has been renamed to `preventScroll`.\");\n      }\n      return NaN;\n    },\n    swipeVelocity: function swipeVelocity(value) {\n      if (value !== undefined) {\n        throw Error(\"[@use-gesture]: `swipeVelocity` option has been renamed to `swipe.velocity`. Use it as in `{ swipe: { velocity: 0.5 } }`.\");\n      }\n      return NaN;\n    },\n    swipeDistance: function swipeDistance(value) {\n      if (value !== undefined) {\n        throw Error(\"[@use-gesture]: `swipeDistance` option has been renamed to `swipe.distance`. Use it as in `{ swipe: { distance: 50 } }`.\");\n      }\n      return NaN;\n    },\n    swipeDuration: function swipeDuration(value) {\n      if (value !== undefined) {\n        throw Error(\"[@use-gesture]: `swipeDuration` option has been renamed to `swipe.duration`. Use it as in `{ swipe: { duration: 250 } }`.\");\n      }\n      return NaN;\n    }\n  });\n}\nfunction clampStateInternalMovementToBounds(state) {\n  var _state$overflow = _slicedToArray(state.overflow, 2),\n    ox = _state$overflow[0],\n    oy = _state$overflow[1];\n  var _state$_delta2 = _slicedToArray(state._delta, 2),\n    dx = _state$_delta2[0],\n    dy = _state$_delta2[1];\n  var _state$_direction = _slicedToArray(state._direction, 2),\n    dirx = _state$_direction[0],\n    diry = _state$_direction[1];\n  if (ox < 0 && dx > 0 && dirx < 0 || ox > 0 && dx < 0 && dirx > 0) {\n    state._movement[0] = state._movementBound[0];\n  }\n  if (oy < 0 && dy > 0 && diry < 0 || oy > 0 && dy < 0 && diry > 0) {\n    state._movement[1] = state._movementBound[1];\n  }\n}\nvar SCALE_ANGLE_RATIO_INTENT_DEG = 30;\nvar PINCH_WHEEL_RATIO = 100;\nvar PinchEngine = /*#__PURE__*/function (_Engine2) {\n  _inherits(PinchEngine, _Engine2);\n  var _super3 = _createSuper(PinchEngine);\n  function PinchEngine() {\n    var _this5;\n    _classCallCheck(this, PinchEngine);\n    for (var _len5 = arguments.length, args = new Array(_len5), _key5 = 0; _key5 < _len5; _key5++) {\n      args[_key5] = arguments[_key5];\n    }\n    _this5 = _super3.call.apply(_super3, [this].concat(args));\n    _defineProperty(_assertThisInitialized(_this5), \"ingKey\", 'pinching');\n    _defineProperty(_assertThisInitialized(_this5), \"aliasKey\", 'da');\n    return _this5;\n  }\n  _createClass(PinchEngine, [{\n    key: \"init\",\n    value: function init() {\n      this.state.offset = [1, 0];\n      this.state.lastOffset = [1, 0];\n      this.state._pointerEvents = new Map();\n    }\n  }, {\n    key: \"reset\",\n    value: function reset() {\n      _get(_getPrototypeOf(PinchEngine.prototype), \"reset\", this).call(this);\n      var state = this.state;\n      state._touchIds = [];\n      state.canceled = false;\n      state.cancel = this.cancel.bind(this);\n      state.turns = 0;\n    }\n  }, {\n    key: \"computeOffset\",\n    value: function computeOffset() {\n      var _this$state = this.state,\n        type = _this$state.type,\n        movement = _this$state.movement,\n        lastOffset = _this$state.lastOffset;\n      if (type === 'wheel') {\n        this.state.offset = V.add(movement, lastOffset);\n      } else {\n        this.state.offset = [(1 + movement[0]) * lastOffset[0], movement[1] + lastOffset[1]];\n      }\n    }\n  }, {\n    key: \"computeMovement\",\n    value: function computeMovement() {\n      var _this$state2 = this.state,\n        offset = _this$state2.offset,\n        lastOffset = _this$state2.lastOffset;\n      this.state.movement = [offset[0] / lastOffset[0], offset[1] - lastOffset[1]];\n    }\n  }, {\n    key: \"axisIntent\",\n    value: function axisIntent() {\n      var state = this.state;\n      var _state$_movement3 = _slicedToArray(state._movement, 2),\n        _m0 = _state$_movement3[0],\n        _m1 = _state$_movement3[1];\n      if (!state.axis) {\n        var axisMovementDifference = Math.abs(_m0) * SCALE_ANGLE_RATIO_INTENT_DEG - Math.abs(_m1);\n        if (axisMovementDifference < 0) state.axis = 'angle';else if (axisMovementDifference > 0) state.axis = 'scale';\n      }\n    }\n  }, {\n    key: \"restrictToAxis\",\n    value: function restrictToAxis(v) {\n      if (this.config.lockDirection) {\n        if (this.state.axis === 'scale') v[1] = 0;else if (this.state.axis === 'angle') v[0] = 0;\n      }\n    }\n  }, {\n    key: \"cancel\",\n    value: function cancel() {\n      var _this6 = this;\n      var state = this.state;\n      if (state.canceled) return;\n      setTimeout(function () {\n        state.canceled = true;\n        state._active = false;\n        _this6.compute();\n        _this6.emit();\n      }, 0);\n    }\n  }, {\n    key: \"touchStart\",\n    value: function touchStart(event) {\n      this.ctrl.setEventIds(event);\n      var state = this.state;\n      var ctrlTouchIds = this.ctrl.touchIds;\n      if (state._active) {\n        if (state._touchIds.every(function (id) {\n          return ctrlTouchIds.has(id);\n        })) return;\n      }\n      if (ctrlTouchIds.size < 2) return;\n      this.start(event);\n      state._touchIds = Array.from(ctrlTouchIds).slice(0, 2);\n      var payload = touchDistanceAngle(event, state._touchIds);\n      if (!payload) return;\n      this.pinchStart(event, payload);\n    }\n  }, {\n    key: \"pointerStart\",\n    value: function pointerStart(event) {\n      if (event.buttons != null && event.buttons % 2 !== 1) return;\n      this.ctrl.setEventIds(event);\n      event.target.setPointerCapture(event.pointerId);\n      var state = this.state;\n      var _pointerEvents = state._pointerEvents;\n      var ctrlPointerIds = this.ctrl.pointerIds;\n      if (state._active) {\n        if (Array.from(_pointerEvents.keys()).every(function (id) {\n          return ctrlPointerIds.has(id);\n        })) return;\n      }\n      if (_pointerEvents.size < 2) {\n        _pointerEvents.set(event.pointerId, event);\n      }\n      if (state._pointerEvents.size < 2) return;\n      this.start(event);\n      var payload = distanceAngle.apply(void 0, _toConsumableArray(Array.from(_pointerEvents.values())));\n      if (!payload) return;\n      this.pinchStart(event, payload);\n    }\n  }, {\n    key: \"pinchStart\",\n    value: function pinchStart(event, payload) {\n      var state = this.state;\n      state.origin = payload.origin;\n      this.computeValues([payload.distance, payload.angle]);\n      this.computeInitial();\n      this.compute(event);\n      this.emit();\n    }\n  }, {\n    key: \"touchMove\",\n    value: function touchMove(event) {\n      if (!this.state._active) return;\n      var payload = touchDistanceAngle(event, this.state._touchIds);\n      if (!payload) return;\n      this.pinchMove(event, payload);\n    }\n  }, {\n    key: \"pointerMove\",\n    value: function pointerMove(event) {\n      var _pointerEvents = this.state._pointerEvents;\n      if (_pointerEvents.has(event.pointerId)) {\n        _pointerEvents.set(event.pointerId, event);\n      }\n      if (!this.state._active) return;\n      var payload = distanceAngle.apply(void 0, _toConsumableArray(Array.from(_pointerEvents.values())));\n      if (!payload) return;\n      this.pinchMove(event, payload);\n    }\n  }, {\n    key: \"pinchMove\",\n    value: function pinchMove(event, payload) {\n      var state = this.state;\n      var prev_a = state._values[1];\n      var delta_a = payload.angle - prev_a;\n      var delta_turns = 0;\n      if (Math.abs(delta_a) > 270) delta_turns += Math.sign(delta_a);\n      this.computeValues([payload.distance, payload.angle - 360 * delta_turns]);\n      state.origin = payload.origin;\n      state.turns = delta_turns;\n      state._movement = [state._values[0] / state._initial[0] - 1, state._values[1] - state._initial[1]];\n      this.compute(event);\n      this.emit();\n    }\n  }, {\n    key: \"touchEnd\",\n    value: function touchEnd(event) {\n      var _this7 = this;\n      this.ctrl.setEventIds(event);\n      if (!this.state._active) return;\n      if (this.state._touchIds.some(function (id) {\n        return !_this7.ctrl.touchIds.has(id);\n      })) {\n        this.state._active = false;\n        this.compute(event);\n        this.emit();\n      }\n    }\n  }, {\n    key: \"pointerEnd\",\n    value: function pointerEnd(event) {\n      var state = this.state;\n      this.ctrl.setEventIds(event);\n      try {\n        event.target.releasePointerCapture(event.pointerId);\n      } catch (_unused) {}\n      if (state._pointerEvents.has(event.pointerId)) {\n        state._pointerEvents.delete(event.pointerId);\n      }\n      if (!state._active) return;\n      if (state._pointerEvents.size < 2) {\n        state._active = false;\n        this.compute(event);\n        this.emit();\n      }\n    }\n  }, {\n    key: \"gestureStart\",\n    value: function gestureStart(event) {\n      if (event.cancelable) event.preventDefault();\n      var state = this.state;\n      if (state._active) return;\n      this.start(event);\n      this.computeValues([event.scale, event.rotation]);\n      state.origin = [event.clientX, event.clientY];\n      this.compute(event);\n      this.emit();\n    }\n  }, {\n    key: \"gestureMove\",\n    value: function gestureMove(event) {\n      if (event.cancelable) event.preventDefault();\n      if (!this.state._active) return;\n      var state = this.state;\n      this.computeValues([event.scale, event.rotation]);\n      state.origin = [event.clientX, event.clientY];\n      var _previousMovement = state._movement;\n      state._movement = [event.scale - 1, event.rotation];\n      state._delta = V.sub(state._movement, _previousMovement);\n      this.compute(event);\n      this.emit();\n    }\n  }, {\n    key: \"gestureEnd\",\n    value: function gestureEnd(event) {\n      if (!this.state._active) return;\n      this.state._active = false;\n      this.compute(event);\n      this.emit();\n    }\n  }, {\n    key: \"wheel\",\n    value: function wheel(event) {\n      var modifierKey = this.config.modifierKey;\n      if (modifierKey && !event[modifierKey]) return;\n      if (!this.state._active) this.wheelStart(event);else this.wheelChange(event);\n      this.timeoutStore.add('wheelEnd', this.wheelEnd.bind(this));\n    }\n  }, {\n    key: \"wheelStart\",\n    value: function wheelStart(event) {\n      this.start(event);\n      this.wheelChange(event);\n    }\n  }, {\n    key: \"wheelChange\",\n    value: function wheelChange(event) {\n      var isR3f = ('uv' in event);\n      if (!isR3f) {\n        if (event.cancelable) {\n          event.preventDefault();\n        }\n        if (process.env.NODE_ENV === 'development' && !event.defaultPrevented) {\n          console.warn(\"[@use-gesture]: To properly support zoom on trackpads, try using the `target` option.\\n\\nThis message will only appear in development mode.\");\n        }\n      }\n      var state = this.state;\n      state._delta = [-wheelValues(event)[1] / PINCH_WHEEL_RATIO * state.offset[0], 0];\n      V.addTo(state._movement, state._delta);\n      clampStateInternalMovementToBounds(state);\n      this.state.origin = [event.clientX, event.clientY];\n      this.compute(event);\n      this.emit();\n    }\n  }, {\n    key: \"wheelEnd\",\n    value: function wheelEnd() {\n      if (!this.state._active) return;\n      this.state._active = false;\n      this.compute();\n      this.emit();\n    }\n  }, {\n    key: \"bind\",\n    value: function bind(bindFunction) {\n      var device = this.config.device;\n      if (!!device) {\n        bindFunction(device, 'start', this[device + 'Start'].bind(this));\n        bindFunction(device, 'change', this[device + 'Move'].bind(this));\n        bindFunction(device, 'end', this[device + 'End'].bind(this));\n        bindFunction(device, 'cancel', this[device + 'End'].bind(this));\n        bindFunction('lostPointerCapture', '', this[device + 'End'].bind(this));\n      }\n      if (this.config.pinchOnWheel) {\n        bindFunction('wheel', '', this.wheel.bind(this), {\n          passive: false\n        });\n      }\n    }\n  }]);\n  return PinchEngine;\n}(Engine);\nvar pinchConfigResolver = _objectSpread2(_objectSpread2({}, commonConfigResolver), {}, {\n  device: function device(_v, _k, _ref11) {\n    var shared = _ref11.shared,\n      _ref11$pointer = _ref11.pointer,\n      _ref11$pointer2 = _ref11$pointer === void 0 ? {} : _ref11$pointer,\n      _ref11$pointer2$touch = _ref11$pointer2.touch,\n      touch = _ref11$pointer2$touch === void 0 ? false : _ref11$pointer2$touch;\n    var sharedConfig = shared;\n    if (sharedConfig.target && !SUPPORT.touch && SUPPORT.gesture) return 'gesture';\n    if (SUPPORT.touch && touch) return 'touch';\n    if (SUPPORT.touchscreen) {\n      if (SUPPORT.pointer) return 'pointer';\n      if (SUPPORT.touch) return 'touch';\n    }\n  },\n  bounds: function bounds(_v, _k, _ref12) {\n    var _ref12$scaleBounds = _ref12.scaleBounds,\n      scaleBounds = _ref12$scaleBounds === void 0 ? {} : _ref12$scaleBounds,\n      _ref12$angleBounds = _ref12.angleBounds,\n      angleBounds = _ref12$angleBounds === void 0 ? {} : _ref12$angleBounds;\n    var _scaleBounds = function _scaleBounds(state) {\n      var D = assignDefault(call(scaleBounds, state), {\n        min: -Infinity,\n        max: Infinity\n      });\n      return [D.min, D.max];\n    };\n    var _angleBounds = function _angleBounds(state) {\n      var A = assignDefault(call(angleBounds, state), {\n        min: -Infinity,\n        max: Infinity\n      });\n      return [A.min, A.max];\n    };\n    if (typeof scaleBounds !== 'function' && typeof angleBounds !== 'function') return [_scaleBounds(), _angleBounds()];\n    return function (state) {\n      return [_scaleBounds(state), _angleBounds(state)];\n    };\n  },\n  threshold: function threshold(value, _k, config) {\n    this.lockDirection = config.axis === 'lock';\n    var threshold = V.toVector(value, this.lockDirection ? [0.1, 3] : 0);\n    return threshold;\n  },\n  modifierKey: function modifierKey(value) {\n    if (value === undefined) return 'ctrlKey';\n    return value;\n  },\n  pinchOnWheel: function pinchOnWheel() {\n    var value = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : true;\n    return value;\n  }\n});\nvar MoveEngine = /*#__PURE__*/function (_CoordinatesEngine2) {\n  _inherits(MoveEngine, _CoordinatesEngine2);\n  var _super4 = _createSuper(MoveEngine);\n  function MoveEngine() {\n    var _this8;\n    _classCallCheck(this, MoveEngine);\n    for (var _len6 = arguments.length, args = new Array(_len6), _key6 = 0; _key6 < _len6; _key6++) {\n      args[_key6] = arguments[_key6];\n    }\n    _this8 = _super4.call.apply(_super4, [this].concat(args));\n    _defineProperty(_assertThisInitialized(_this8), \"ingKey\", 'moving');\n    return _this8;\n  }\n  _createClass(MoveEngine, [{\n    key: \"move\",\n    value: function move(event) {\n      if (this.config.mouseOnly && event.pointerType !== 'mouse') return;\n      if (!this.state._active) this.moveStart(event);else this.moveChange(event);\n      this.timeoutStore.add('moveEnd', this.moveEnd.bind(this));\n    }\n  }, {\n    key: \"moveStart\",\n    value: function moveStart(event) {\n      this.start(event);\n      this.computeValues(pointerValues(event));\n      this.compute(event);\n      this.computeInitial();\n      this.emit();\n    }\n  }, {\n    key: \"moveChange\",\n    value: function moveChange(event) {\n      if (!this.state._active) return;\n      var values = pointerValues(event);\n      var state = this.state;\n      state._delta = V.sub(values, state._values);\n      V.addTo(state._movement, state._delta);\n      this.computeValues(values);\n      this.compute(event);\n      this.emit();\n    }\n  }, {\n    key: \"moveEnd\",\n    value: function moveEnd(event) {\n      if (!this.state._active) return;\n      this.state._active = false;\n      this.compute(event);\n      this.emit();\n    }\n  }, {\n    key: \"bind\",\n    value: function bind(bindFunction) {\n      bindFunction('pointer', 'change', this.move.bind(this));\n      bindFunction('pointer', 'leave', this.moveEnd.bind(this));\n    }\n  }]);\n  return MoveEngine;\n}(CoordinatesEngine);\nvar moveConfigResolver = _objectSpread2(_objectSpread2({}, coordinatesConfigResolver), {}, {\n  mouseOnly: function mouseOnly() {\n    var value = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : true;\n    return value;\n  }\n});\nvar ScrollEngine = /*#__PURE__*/function (_CoordinatesEngine3) {\n  _inherits(ScrollEngine, _CoordinatesEngine3);\n  var _super5 = _createSuper(ScrollEngine);\n  function ScrollEngine() {\n    var _this9;\n    _classCallCheck(this, ScrollEngine);\n    for (var _len7 = arguments.length, args = new Array(_len7), _key7 = 0; _key7 < _len7; _key7++) {\n      args[_key7] = arguments[_key7];\n    }\n    _this9 = _super5.call.apply(_super5, [this].concat(args));\n    _defineProperty(_assertThisInitialized(_this9), \"ingKey\", 'scrolling');\n    return _this9;\n  }\n  _createClass(ScrollEngine, [{\n    key: \"scroll\",\n    value: function scroll(event) {\n      if (!this.state._active) this.start(event);\n      this.scrollChange(event);\n      this.timeoutStore.add('scrollEnd', this.scrollEnd.bind(this));\n    }\n  }, {\n    key: \"scrollChange\",\n    value: function scrollChange(event) {\n      if (event.cancelable) event.preventDefault();\n      var state = this.state;\n      var values = scrollValues(event);\n      state._delta = V.sub(values, state._values);\n      V.addTo(state._movement, state._delta);\n      this.computeValues(values);\n      this.compute(event);\n      this.emit();\n    }\n  }, {\n    key: \"scrollEnd\",\n    value: function scrollEnd() {\n      if (!this.state._active) return;\n      this.state._active = false;\n      this.compute();\n      this.emit();\n    }\n  }, {\n    key: \"bind\",\n    value: function bind(bindFunction) {\n      bindFunction('scroll', '', this.scroll.bind(this));\n    }\n  }]);\n  return ScrollEngine;\n}(CoordinatesEngine);\nvar scrollConfigResolver = coordinatesConfigResolver;\nvar WheelEngine = /*#__PURE__*/function (_CoordinatesEngine4) {\n  _inherits(WheelEngine, _CoordinatesEngine4);\n  var _super6 = _createSuper(WheelEngine);\n  function WheelEngine() {\n    var _this10;\n    _classCallCheck(this, WheelEngine);\n    for (var _len8 = arguments.length, args = new Array(_len8), _key8 = 0; _key8 < _len8; _key8++) {\n      args[_key8] = arguments[_key8];\n    }\n    _this10 = _super6.call.apply(_super6, [this].concat(args));\n    _defineProperty(_assertThisInitialized(_this10), \"ingKey\", 'wheeling');\n    return _this10;\n  }\n  _createClass(WheelEngine, [{\n    key: \"wheel\",\n    value: function wheel(event) {\n      if (!this.state._active) this.start(event);\n      this.wheelChange(event);\n      this.timeoutStore.add('wheelEnd', this.wheelEnd.bind(this));\n    }\n  }, {\n    key: \"wheelChange\",\n    value: function wheelChange(event) {\n      var state = this.state;\n      state._delta = wheelValues(event);\n      V.addTo(state._movement, state._delta);\n      clampStateInternalMovementToBounds(state);\n      this.compute(event);\n      this.emit();\n    }\n  }, {\n    key: \"wheelEnd\",\n    value: function wheelEnd() {\n      if (!this.state._active) return;\n      this.state._active = false;\n      this.compute();\n      this.emit();\n    }\n  }, {\n    key: \"bind\",\n    value: function bind(bindFunction) {\n      bindFunction('wheel', '', this.wheel.bind(this));\n    }\n  }]);\n  return WheelEngine;\n}(CoordinatesEngine);\nvar wheelConfigResolver = coordinatesConfigResolver;\nvar HoverEngine = /*#__PURE__*/function (_CoordinatesEngine5) {\n  _inherits(HoverEngine, _CoordinatesEngine5);\n  var _super7 = _createSuper(HoverEngine);\n  function HoverEngine() {\n    var _this11;\n    _classCallCheck(this, HoverEngine);\n    for (var _len9 = arguments.length, args = new Array(_len9), _key9 = 0; _key9 < _len9; _key9++) {\n      args[_key9] = arguments[_key9];\n    }\n    _this11 = _super7.call.apply(_super7, [this].concat(args));\n    _defineProperty(_assertThisInitialized(_this11), \"ingKey\", 'hovering');\n    return _this11;\n  }\n  _createClass(HoverEngine, [{\n    key: \"enter\",\n    value: function enter(event) {\n      if (this.config.mouseOnly && event.pointerType !== 'mouse') return;\n      this.start(event);\n      this.computeValues(pointerValues(event));\n      this.compute(event);\n      this.emit();\n    }\n  }, {\n    key: \"leave\",\n    value: function leave(event) {\n      if (this.config.mouseOnly && event.pointerType !== 'mouse') return;\n      var state = this.state;\n      if (!state._active) return;\n      state._active = false;\n      var values = pointerValues(event);\n      state._movement = state._delta = V.sub(values, state._values);\n      this.computeValues(values);\n      this.compute(event);\n      state.delta = state.movement;\n      this.emit();\n    }\n  }, {\n    key: \"bind\",\n    value: function bind(bindFunction) {\n      bindFunction('pointer', 'enter', this.enter.bind(this));\n      bindFunction('pointer', 'leave', this.leave.bind(this));\n    }\n  }]);\n  return HoverEngine;\n}(CoordinatesEngine);\nvar hoverConfigResolver = _objectSpread2(_objectSpread2({}, coordinatesConfigResolver), {}, {\n  mouseOnly: function mouseOnly() {\n    var value = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : true;\n    return value;\n  }\n});\nvar EngineMap = new Map();\nvar ConfigResolverMap = new Map();\nfunction registerAction(action) {\n  EngineMap.set(action.key, action.engine);\n  ConfigResolverMap.set(action.key, action.resolver);\n}\nvar dragAction = {\n  key: 'drag',\n  engine: DragEngine,\n  resolver: dragConfigResolver\n};\nvar hoverAction = {\n  key: 'hover',\n  engine: HoverEngine,\n  resolver: hoverConfigResolver\n};\nvar moveAction = {\n  key: 'move',\n  engine: MoveEngine,\n  resolver: moveConfigResolver\n};\nvar pinchAction = {\n  key: 'pinch',\n  engine: PinchEngine,\n  resolver: pinchConfigResolver\n};\nvar scrollAction = {\n  key: 'scroll',\n  engine: ScrollEngine,\n  resolver: scrollConfigResolver\n};\nvar wheelAction = {\n  key: 'wheel',\n  engine: WheelEngine,\n  resolver: wheelConfigResolver\n};\nexport { ConfigResolverMap as C, EngineMap as E, SUPPORT as S, _objectSpread2 as _, _defineProperty as a, touchIds as b, chain as c, toHandlerProp as d, dragAction as e, pinchAction as f, hoverAction as h, isTouch as i, moveAction as m, parseProp as p, registerAction as r, scrollAction as s, toDomEventType as t, wheelAction as w };","map":{"version":3,"names":["V","c","computeRubberband","_toPrimitive","input","hint","prim","Symbol","toPrimitive","undefined","res","call","TypeError","String","Number","_toPropertyKey","arg","key","_defineProperty","obj","value","Object","defineProperty","enumerable","configurable","writable","ownKeys","object","enumerableOnly","keys","getOwnPropertySymbols","symbols","filter","sym","getOwnPropertyDescriptor","push","apply","_objectSpread2","target","i","arguments","length","source","forEach","getOwnPropertyDescriptors","defineProperties","EVENT_TYPE_MAP","pointer","start","change","end","mouse","touch","gesture","capitalize","string","toUpperCase","slice","actionsWithoutCaptureSupported","hasCapture","capture","actionKey","includes","toHandlerProp","device","action","deviceProps","pointerCaptureEvents","parseProp","prop","eventKey","substring","toLowerCase","passive","indexOf","replace","captureKey","toDomEventType","isTouch","event","getPointerType","pointerType","getCurrentTargetTouchList","Array","from","touches","e","_event$currentTarget","_event$currentTarget$","currentTarget","contains","getTouchList","type","changedTouches","targetTouches","getValueEvent","distanceAngle","P1","P2","dx","clientX","dy","clientY","cx","cy","distance","Math","hypot","angle","atan2","PI","origin","_unused","touchIds","map","identifier","touchDistanceAngle","ids","_Array$from$filter","_Array$from$filter2","_slicedToArray","pointerId","valueEvent","pointerValues","LINE_HEIGHT","PAGE_HEIGHT","wheelValues","deltaX","deltaY","deltaMode","scrollValues","_ref","_ref2","_event$currentTarget2","scrollX","scrollY","scrollLeft","scrollTop","getEventDetails","payload","buttons","shiftKey","altKey","metaKey","ctrlKey","assign","v","_len","args","_key","noop","chain","_len2","fns","_key2","result","_i","_fns","fn","assignDefault","fallback","BEFORE_LAST_KINEMATICS_DELAY","Engine","ctrl","_classCallCheck","state","computeValues","computeInitial","init","reset","_createClass","get","set","shared","gestureEventStores","gestureTimeoutStores","config","handlers","ingKey","_active","active","_blocked","_force","_step","intentional","_movement","_distance","_direction","_delta","_bounds","Infinity","axis","memo","elapsedTime","timeDelta","direction","overflow","_movementBound","velocity","movement","delta","timeStamp","lastOffset","offset","startTime","values","_values","transform","_initial","initial","compute","dt","preventDefault","cancelable","pointerIds","size","locked","document","pointerLockElement","down","pressed","_absoluteDelta","abs","addTo","axisIntent","_state$_movement","_m0","_m1","_config$threshold","threshold","t0","t1","hasCustomTransform","sign","_values2","v0","v1","restrictToAxis","previousOffset","gestureIsActive","first","last","bounds","setup","computeOffset","_state$offset","ox","oy","_state$_bounds","_state$_bounds$","x0","x1","_state$_bounds$2","y0","y1","rubberband","sub","computeMovement","absoluteDelta","emit","clean","triggerAllEvents","handler","_defineProperty2","aliasKey","eventStore","timeoutStore","selectAxis","_ref3","_ref4","absDx","absDy","CoordinatesEngine","_Engine","_inherits","_super","_createSuper","_this","_len3","_key3","concat","_assertThisInitialized","_get","_getPrototypeOf","prototype","add","axisThreshold","lockDirection","identity","DEFAULT_RUBBERBAND","commonConfigResolver","enabled","eventOptions","_k","toVector","process","env","NODE_ENV","originalTransform","r","isFinite","console","warn","domTarget","Error","NaN","DEFAULT_AXIS_THRESHOLD","coordinatesConfigResolver","_v","_ref5","current","HTMLElement","_value$left","left","_value$right","right","_value$top","top","_value$bottom","bottom","KEYS_DELTA_MAP","ArrowRight","displacement","factor","ArrowLeft","ArrowUp","ArrowDown","DragEngine","_CoordinatesEngine","_super2","_this2","_len4","_key4","_pointerId","_pointerActive","_keyboardActive","_preventScroll","_delayed","swipe","tap","canceled","cancel","bind","boundRect","getBoundingClientRect","targetRect","_this3","setTimeout","setActive","pointerClean","pointerDown","isArray","pointerButtons","ctrlIds","setEventIds","pointerCapture","setPointerCapture","setupPointer","preventScrollAxis","setupScrollPrevention","delay","setupDelayTrigger","startPointerDrag","pointerMove","id","movementX","movementY","remove","pointerUp","hasPointerCapture","releasePointerCapture","_state$_distance","tapsThreshold","filterTaps","_state$_delta","_dx","_dy","_state$_movement2","_mx","_my","_config$swipe$velocit","svx","svy","_config$swipe$distanc","sx","sy","sdt","duration","_vx","_vy","pointerClick","detail","stopPropagation","preventScrollDelay","sourceEvent","style","window","getComputedStyle","touchAction","_unused2","pointerLock","requestPointerLock","sharedConfig","exitPointerLock","preventScroll","persistEvent","_this4","keyDown","deltaFn","keyboardDisplacement","keyUp","bindFunction","persist","isBrowser","createElement","supportsTouchEvents","isTouchScreen","navigator","maxTouchPoints","supportsPointerEvents","supportsPointerLock","supportsGestureEvents","GestureEvent","SUPPORT","touchscreen","DEFAULT_PREVENT_SCROLL_DELAY","DEFAULT_DRAG_DELAY","DEFAULT_SWIPE_VELOCITY","DEFAULT_SWIPE_DISTANCE","DEFAULT_SWIPE_DURATION","DEFAULT_KEYBOARD_DISPLACEMENT","DEFAULT_DRAG_AXIS_THRESHOLD","pen","dragConfigResolver","_ref6","_ref6$pointer","_ref6$pointer2","_ref6$pointer2$touch","_ref6$pointer2$lock","lock","_ref6$pointer2$mouse","_ref7","_ref8","_ref8$pointer","_ref8$pointer2","_ref8$pointer2$captur","_ref8$pointer2$button","_ref8$pointer2$keys","_ref9","_ref9$filterTaps","_ref9$tapsThreshold","_ref9$axis","_ref10","_ref10$velocity","_ref10$distance","_ref10$duration","useTouch","experimental_preventWindowScrollY","swipeVelocity","swipeDistance","swipeDuration","clampStateInternalMovementToBounds","_state$overflow","_state$_delta2","_state$_direction","dirx","diry","SCALE_ANGLE_RATIO_INTENT_DEG","PINCH_WHEEL_RATIO","PinchEngine","_Engine2","_super3","_this5","_len5","_key5","_pointerEvents","Map","_touchIds","turns","_this$state","_this$state2","_state$_movement3","axisMovementDifference","_this6","touchStart","ctrlTouchIds","every","has","pinchStart","pointerStart","ctrlPointerIds","_toConsumableArray","touchMove","pinchMove","prev_a","delta_a","delta_turns","touchEnd","_this7","some","pointerEnd","delete","gestureStart","scale","rotation","gestureMove","_previousMovement","gestureEnd","wheel","modifierKey","wheelStart","wheelChange","wheelEnd","isR3f","defaultPrevented","pinchOnWheel","pinchConfigResolver","_ref11","_ref11$pointer","_ref11$pointer2","_ref11$pointer2$touch","_ref12","_ref12$scaleBounds","scaleBounds","_ref12$angleBounds","angleBounds","_scaleBounds","D","min","max","_angleBounds","A","MoveEngine","_CoordinatesEngine2","_super4","_this8","_len6","_key6","move","mouseOnly","moveStart","moveChange","moveEnd","moveConfigResolver","ScrollEngine","_CoordinatesEngine3","_super5","_this9","_len7","_key7","scroll","scrollChange","scrollEnd","scrollConfigResolver","WheelEngine","_CoordinatesEngine4","_super6","_this10","_len8","_key8","wheelConfigResolver","HoverEngine","_CoordinatesEngine5","_super7","_this11","_len9","_key9","enter","leave","hoverConfigResolver","EngineMap","ConfigResolverMap","registerAction","engine","resolver","dragAction","hoverAction","moveAction","pinchAction","scrollAction","wheelAction","C","E","S","_","a","b","d","f","h","m","p","s","t","w"],"sources":["/home/krug/Coding/JavaScript/Websites/Personal/personal/node_modules/.pnpm/@use-gesture+core@10.2.27/node_modules/@use-gesture/core/dist/actions-76b8683e.esm.js"],"sourcesContent":["import { V, c as computeRubberband } from './maths-0ab39ae9.esm.js';\n\nfunction _toPrimitive(input, hint) {\n  if (typeof input !== \"object\" || input === null) return input;\n  var prim = input[Symbol.toPrimitive];\n  if (prim !== undefined) {\n    var res = prim.call(input, hint || \"default\");\n    if (typeof res !== \"object\") return res;\n    throw new TypeError(\"@@toPrimitive must return a primitive value.\");\n  }\n  return (hint === \"string\" ? String : Number)(input);\n}\n\nfunction _toPropertyKey(arg) {\n  var key = _toPrimitive(arg, \"string\");\n  return typeof key === \"symbol\" ? key : String(key);\n}\n\nfunction _defineProperty(obj, key, value) {\n  key = _toPropertyKey(key);\n  if (key in obj) {\n    Object.defineProperty(obj, key, {\n      value: value,\n      enumerable: true,\n      configurable: true,\n      writable: true\n    });\n  } else {\n    obj[key] = value;\n  }\n  return obj;\n}\n\nfunction ownKeys(object, enumerableOnly) {\n  var keys = Object.keys(object);\n  if (Object.getOwnPropertySymbols) {\n    var symbols = Object.getOwnPropertySymbols(object);\n    enumerableOnly && (symbols = symbols.filter(function (sym) {\n      return Object.getOwnPropertyDescriptor(object, sym).enumerable;\n    })), keys.push.apply(keys, symbols);\n  }\n  return keys;\n}\nfunction _objectSpread2(target) {\n  for (var i = 1; i < arguments.length; i++) {\n    var source = null != arguments[i] ? arguments[i] : {};\n    i % 2 ? ownKeys(Object(source), !0).forEach(function (key) {\n      _defineProperty(target, key, source[key]);\n    }) : Object.getOwnPropertyDescriptors ? Object.defineProperties(target, Object.getOwnPropertyDescriptors(source)) : ownKeys(Object(source)).forEach(function (key) {\n      Object.defineProperty(target, key, Object.getOwnPropertyDescriptor(source, key));\n    });\n  }\n  return target;\n}\n\nconst EVENT_TYPE_MAP = {\n  pointer: {\n    start: 'down',\n    change: 'move',\n    end: 'up'\n  },\n  mouse: {\n    start: 'down',\n    change: 'move',\n    end: 'up'\n  },\n  touch: {\n    start: 'start',\n    change: 'move',\n    end: 'end'\n  },\n  gesture: {\n    start: 'start',\n    change: 'change',\n    end: 'end'\n  }\n};\nfunction capitalize(string) {\n  if (!string) return '';\n  return string[0].toUpperCase() + string.slice(1);\n}\nconst actionsWithoutCaptureSupported = ['enter', 'leave'];\nfunction hasCapture(capture = false, actionKey) {\n  return capture && !actionsWithoutCaptureSupported.includes(actionKey);\n}\nfunction toHandlerProp(device, action = '', capture = false) {\n  const deviceProps = EVENT_TYPE_MAP[device];\n  const actionKey = deviceProps ? deviceProps[action] || action : action;\n  return 'on' + capitalize(device) + capitalize(actionKey) + (hasCapture(capture, actionKey) ? 'Capture' : '');\n}\nconst pointerCaptureEvents = ['gotpointercapture', 'lostpointercapture'];\nfunction parseProp(prop) {\n  let eventKey = prop.substring(2).toLowerCase();\n  const passive = !!~eventKey.indexOf('passive');\n  if (passive) eventKey = eventKey.replace('passive', '');\n  const captureKey = pointerCaptureEvents.includes(eventKey) ? 'capturecapture' : 'capture';\n  const capture = !!~eventKey.indexOf(captureKey);\n  if (capture) eventKey = eventKey.replace('capture', '');\n  return {\n    device: eventKey,\n    capture,\n    passive\n  };\n}\nfunction toDomEventType(device, action = '') {\n  const deviceProps = EVENT_TYPE_MAP[device];\n  const actionKey = deviceProps ? deviceProps[action] || action : action;\n  return device + actionKey;\n}\nfunction isTouch(event) {\n  return 'touches' in event;\n}\nfunction getPointerType(event) {\n  if (isTouch(event)) return 'touch';\n  if ('pointerType' in event) return event.pointerType;\n  return 'mouse';\n}\nfunction getCurrentTargetTouchList(event) {\n  return Array.from(event.touches).filter(e => {\n    var _event$currentTarget, _event$currentTarget$;\n    return e.target === event.currentTarget || ((_event$currentTarget = event.currentTarget) === null || _event$currentTarget === void 0 ? void 0 : (_event$currentTarget$ = _event$currentTarget.contains) === null || _event$currentTarget$ === void 0 ? void 0 : _event$currentTarget$.call(_event$currentTarget, e.target));\n  });\n}\nfunction getTouchList(event) {\n  return event.type === 'touchend' || event.type === 'touchcancel' ? event.changedTouches : event.targetTouches;\n}\nfunction getValueEvent(event) {\n  return isTouch(event) ? getTouchList(event)[0] : event;\n}\nfunction distanceAngle(P1, P2) {\n  try {\n    const dx = P2.clientX - P1.clientX;\n    const dy = P2.clientY - P1.clientY;\n    const cx = (P2.clientX + P1.clientX) / 2;\n    const cy = (P2.clientY + P1.clientY) / 2;\n    const distance = Math.hypot(dx, dy);\n    const angle = -(Math.atan2(dx, dy) * 180) / Math.PI;\n    const origin = [cx, cy];\n    return {\n      angle,\n      distance,\n      origin\n    };\n  } catch (_unused) {}\n  return null;\n}\nfunction touchIds(event) {\n  return getCurrentTargetTouchList(event).map(touch => touch.identifier);\n}\nfunction touchDistanceAngle(event, ids) {\n  const [P1, P2] = Array.from(event.touches).filter(touch => ids.includes(touch.identifier));\n  return distanceAngle(P1, P2);\n}\nfunction pointerId(event) {\n  const valueEvent = getValueEvent(event);\n  return isTouch(event) ? valueEvent.identifier : valueEvent.pointerId;\n}\nfunction pointerValues(event) {\n  const valueEvent = getValueEvent(event);\n  return [valueEvent.clientX, valueEvent.clientY];\n}\nconst LINE_HEIGHT = 40;\nconst PAGE_HEIGHT = 800;\nfunction wheelValues(event) {\n  let {\n    deltaX,\n    deltaY,\n    deltaMode\n  } = event;\n  if (deltaMode === 1) {\n    deltaX *= LINE_HEIGHT;\n    deltaY *= LINE_HEIGHT;\n  } else if (deltaMode === 2) {\n    deltaX *= PAGE_HEIGHT;\n    deltaY *= PAGE_HEIGHT;\n  }\n  return [deltaX, deltaY];\n}\nfunction scrollValues(event) {\n  var _ref, _ref2;\n  const {\n    scrollX,\n    scrollY,\n    scrollLeft,\n    scrollTop\n  } = event.currentTarget;\n  return [(_ref = scrollX !== null && scrollX !== void 0 ? scrollX : scrollLeft) !== null && _ref !== void 0 ? _ref : 0, (_ref2 = scrollY !== null && scrollY !== void 0 ? scrollY : scrollTop) !== null && _ref2 !== void 0 ? _ref2 : 0];\n}\nfunction getEventDetails(event) {\n  const payload = {};\n  if ('buttons' in event) payload.buttons = event.buttons;\n  if ('shiftKey' in event) {\n    const {\n      shiftKey,\n      altKey,\n      metaKey,\n      ctrlKey\n    } = event;\n    Object.assign(payload, {\n      shiftKey,\n      altKey,\n      metaKey,\n      ctrlKey\n    });\n  }\n  return payload;\n}\n\nfunction call(v, ...args) {\n  if (typeof v === 'function') {\n    return v(...args);\n  } else {\n    return v;\n  }\n}\nfunction noop() {}\nfunction chain(...fns) {\n  if (fns.length === 0) return noop;\n  if (fns.length === 1) return fns[0];\n  return function () {\n    let result;\n    for (const fn of fns) {\n      result = fn.apply(this, arguments) || result;\n    }\n    return result;\n  };\n}\nfunction assignDefault(value, fallback) {\n  return Object.assign({}, fallback, value || {});\n}\n\nconst BEFORE_LAST_KINEMATICS_DELAY = 32;\nclass Engine {\n  constructor(ctrl, args, key) {\n    this.ctrl = ctrl;\n    this.args = args;\n    this.key = key;\n    if (!this.state) {\n      this.state = {};\n      this.computeValues([0, 0]);\n      this.computeInitial();\n      if (this.init) this.init();\n      this.reset();\n    }\n  }\n  get state() {\n    return this.ctrl.state[this.key];\n  }\n  set state(state) {\n    this.ctrl.state[this.key] = state;\n  }\n  get shared() {\n    return this.ctrl.state.shared;\n  }\n  get eventStore() {\n    return this.ctrl.gestureEventStores[this.key];\n  }\n  get timeoutStore() {\n    return this.ctrl.gestureTimeoutStores[this.key];\n  }\n  get config() {\n    return this.ctrl.config[this.key];\n  }\n  get sharedConfig() {\n    return this.ctrl.config.shared;\n  }\n  get handler() {\n    return this.ctrl.handlers[this.key];\n  }\n  reset() {\n    const {\n      state,\n      shared,\n      ingKey,\n      args\n    } = this;\n    shared[ingKey] = state._active = state.active = state._blocked = state._force = false;\n    state._step = [false, false];\n    state.intentional = false;\n    state._movement = [0, 0];\n    state._distance = [0, 0];\n    state._direction = [0, 0];\n    state._delta = [0, 0];\n    state._bounds = [[-Infinity, Infinity], [-Infinity, Infinity]];\n    state.args = args;\n    state.axis = undefined;\n    state.memo = undefined;\n    state.elapsedTime = state.timeDelta = 0;\n    state.direction = [0, 0];\n    state.distance = [0, 0];\n    state.overflow = [0, 0];\n    state._movementBound = [false, false];\n    state.velocity = [0, 0];\n    state.movement = [0, 0];\n    state.delta = [0, 0];\n    state.timeStamp = 0;\n  }\n  start(event) {\n    const state = this.state;\n    const config = this.config;\n    if (!state._active) {\n      this.reset();\n      this.computeInitial();\n      state._active = true;\n      state.target = event.target;\n      state.currentTarget = event.currentTarget;\n      state.lastOffset = config.from ? call(config.from, state) : state.offset;\n      state.offset = state.lastOffset;\n      state.startTime = state.timeStamp = event.timeStamp;\n    }\n  }\n  computeValues(values) {\n    const state = this.state;\n    state._values = values;\n    state.values = this.config.transform(values);\n  }\n  computeInitial() {\n    const state = this.state;\n    state._initial = state._values;\n    state.initial = state.values;\n  }\n  compute(event) {\n    const {\n      state,\n      config,\n      shared\n    } = this;\n    state.args = this.args;\n    let dt = 0;\n    if (event) {\n      state.event = event;\n      if (config.preventDefault && event.cancelable) state.event.preventDefault();\n      state.type = event.type;\n      shared.touches = this.ctrl.pointerIds.size || this.ctrl.touchIds.size;\n      shared.locked = !!document.pointerLockElement;\n      Object.assign(shared, getEventDetails(event));\n      shared.down = shared.pressed = shared.buttons % 2 === 1 || shared.touches > 0;\n      dt = event.timeStamp - state.timeStamp;\n      state.timeStamp = event.timeStamp;\n      state.elapsedTime = state.timeStamp - state.startTime;\n    }\n    if (state._active) {\n      const _absoluteDelta = state._delta.map(Math.abs);\n      V.addTo(state._distance, _absoluteDelta);\n    }\n    if (this.axisIntent) this.axisIntent(event);\n    const [_m0, _m1] = state._movement;\n    const [t0, t1] = config.threshold;\n    const {\n      _step,\n      values\n    } = state;\n    if (config.hasCustomTransform) {\n      if (_step[0] === false) _step[0] = Math.abs(_m0) >= t0 && values[0];\n      if (_step[1] === false) _step[1] = Math.abs(_m1) >= t1 && values[1];\n    } else {\n      if (_step[0] === false) _step[0] = Math.abs(_m0) >= t0 && Math.sign(_m0) * t0;\n      if (_step[1] === false) _step[1] = Math.abs(_m1) >= t1 && Math.sign(_m1) * t1;\n    }\n    state.intentional = _step[0] !== false || _step[1] !== false;\n    if (!state.intentional) return;\n    const movement = [0, 0];\n    if (config.hasCustomTransform) {\n      const [v0, v1] = values;\n      movement[0] = _step[0] !== false ? v0 - _step[0] : 0;\n      movement[1] = _step[1] !== false ? v1 - _step[1] : 0;\n    } else {\n      movement[0] = _step[0] !== false ? _m0 - _step[0] : 0;\n      movement[1] = _step[1] !== false ? _m1 - _step[1] : 0;\n    }\n    if (this.restrictToAxis && !state._blocked) this.restrictToAxis(movement);\n    const previousOffset = state.offset;\n    const gestureIsActive = state._active && !state._blocked || state.active;\n    if (gestureIsActive) {\n      state.first = state._active && !state.active;\n      state.last = !state._active && state.active;\n      state.active = shared[this.ingKey] = state._active;\n      if (event) {\n        if (state.first) {\n          if ('bounds' in config) state._bounds = call(config.bounds, state);\n          if (this.setup) this.setup();\n        }\n        state.movement = movement;\n        this.computeOffset();\n      }\n    }\n    const [ox, oy] = state.offset;\n    const [[x0, x1], [y0, y1]] = state._bounds;\n    state.overflow = [ox < x0 ? -1 : ox > x1 ? 1 : 0, oy < y0 ? -1 : oy > y1 ? 1 : 0];\n    state._movementBound[0] = state.overflow[0] ? state._movementBound[0] === false ? state._movement[0] : state._movementBound[0] : false;\n    state._movementBound[1] = state.overflow[1] ? state._movementBound[1] === false ? state._movement[1] : state._movementBound[1] : false;\n    const rubberband = state._active ? config.rubberband || [0, 0] : [0, 0];\n    state.offset = computeRubberband(state._bounds, state.offset, rubberband);\n    state.delta = V.sub(state.offset, previousOffset);\n    this.computeMovement();\n    if (gestureIsActive && (!state.last || dt > BEFORE_LAST_KINEMATICS_DELAY)) {\n      state.delta = V.sub(state.offset, previousOffset);\n      const absoluteDelta = state.delta.map(Math.abs);\n      V.addTo(state.distance, absoluteDelta);\n      state.direction = state.delta.map(Math.sign);\n      state._direction = state._delta.map(Math.sign);\n      if (!state.first && dt > 0) {\n        state.velocity = [absoluteDelta[0] / dt, absoluteDelta[1] / dt];\n        state.timeDelta = dt;\n      }\n    }\n  }\n  emit() {\n    const state = this.state;\n    const shared = this.shared;\n    const config = this.config;\n    if (!state._active) this.clean();\n    if ((state._blocked || !state.intentional) && !state._force && !config.triggerAllEvents) return;\n    const memo = this.handler(_objectSpread2(_objectSpread2(_objectSpread2({}, shared), state), {}, {\n      [this.aliasKey]: state.values\n    }));\n    if (memo !== undefined) state.memo = memo;\n  }\n  clean() {\n    this.eventStore.clean();\n    this.timeoutStore.clean();\n  }\n}\n\nfunction selectAxis([dx, dy], threshold) {\n  const absDx = Math.abs(dx);\n  const absDy = Math.abs(dy);\n  if (absDx > absDy && absDx > threshold) {\n    return 'x';\n  }\n  if (absDy > absDx && absDy > threshold) {\n    return 'y';\n  }\n  return undefined;\n}\nclass CoordinatesEngine extends Engine {\n  constructor(...args) {\n    super(...args);\n    _defineProperty(this, \"aliasKey\", 'xy');\n  }\n  reset() {\n    super.reset();\n    this.state.axis = undefined;\n  }\n  init() {\n    this.state.offset = [0, 0];\n    this.state.lastOffset = [0, 0];\n  }\n  computeOffset() {\n    this.state.offset = V.add(this.state.lastOffset, this.state.movement);\n  }\n  computeMovement() {\n    this.state.movement = V.sub(this.state.offset, this.state.lastOffset);\n  }\n  axisIntent(event) {\n    const state = this.state;\n    const config = this.config;\n    if (!state.axis && event) {\n      const threshold = typeof config.axisThreshold === 'object' ? config.axisThreshold[getPointerType(event)] : config.axisThreshold;\n      state.axis = selectAxis(state._movement, threshold);\n    }\n    state._blocked = (config.lockDirection || !!config.axis) && !state.axis || !!config.axis && config.axis !== state.axis;\n  }\n  restrictToAxis(v) {\n    if (this.config.axis || this.config.lockDirection) {\n      switch (this.state.axis) {\n        case 'x':\n          v[1] = 0;\n          break;\n        case 'y':\n          v[0] = 0;\n          break;\n      }\n    }\n  }\n}\n\nconst identity = v => v;\nconst DEFAULT_RUBBERBAND = 0.15;\nconst commonConfigResolver = {\n  enabled(value = true) {\n    return value;\n  },\n  eventOptions(value, _k, config) {\n    return _objectSpread2(_objectSpread2({}, config.shared.eventOptions), value);\n  },\n  preventDefault(value = false) {\n    return value;\n  },\n  triggerAllEvents(value = false) {\n    return value;\n  },\n  rubberband(value = 0) {\n    switch (value) {\n      case true:\n        return [DEFAULT_RUBBERBAND, DEFAULT_RUBBERBAND];\n      case false:\n        return [0, 0];\n      default:\n        return V.toVector(value);\n    }\n  },\n  from(value) {\n    if (typeof value === 'function') return value;\n    if (value != null) return V.toVector(value);\n  },\n  transform(value, _k, config) {\n    const transform = value || config.shared.transform;\n    this.hasCustomTransform = !!transform;\n    if (process.env.NODE_ENV === 'development') {\n      const originalTransform = transform || identity;\n      return v => {\n        const r = originalTransform(v);\n        if (!isFinite(r[0]) || !isFinite(r[1])) {\n          console.warn(`[@use-gesture]: config.transform() must produce a valid result, but it was: [${r[0]},${[1]}]`);\n        }\n        return r;\n      };\n    }\n    return transform || identity;\n  },\n  threshold(value) {\n    return V.toVector(value, 0);\n  }\n};\nif (process.env.NODE_ENV === 'development') {\n  Object.assign(commonConfigResolver, {\n    domTarget(value) {\n      if (value !== undefined) {\n        throw Error(`[@use-gesture]: \\`domTarget\\` option has been renamed to \\`target\\`.`);\n      }\n      return NaN;\n    },\n    lockDirection(value) {\n      if (value !== undefined) {\n        throw Error(`[@use-gesture]: \\`lockDirection\\` option has been merged with \\`axis\\`. Use it as in \\`{ axis: 'lock' }\\``);\n      }\n      return NaN;\n    },\n    initial(value) {\n      if (value !== undefined) {\n        throw Error(`[@use-gesture]: \\`initial\\` option has been renamed to \\`from\\`.`);\n      }\n      return NaN;\n    }\n  });\n}\n\nconst DEFAULT_AXIS_THRESHOLD = 0;\nconst coordinatesConfigResolver = _objectSpread2(_objectSpread2({}, commonConfigResolver), {}, {\n  axis(_v, _k, {\n    axis\n  }) {\n    this.lockDirection = axis === 'lock';\n    if (!this.lockDirection) return axis;\n  },\n  axisThreshold(value = DEFAULT_AXIS_THRESHOLD) {\n    return value;\n  },\n  bounds(value = {}) {\n    if (typeof value === 'function') {\n      return state => coordinatesConfigResolver.bounds(value(state));\n    }\n    if ('current' in value) {\n      return () => value.current;\n    }\n    if (typeof HTMLElement === 'function' && value instanceof HTMLElement) {\n      return value;\n    }\n    const {\n      left = -Infinity,\n      right = Infinity,\n      top = -Infinity,\n      bottom = Infinity\n    } = value;\n    return [[left, right], [top, bottom]];\n  }\n});\n\nconst KEYS_DELTA_MAP = {\n  ArrowRight: (displacement, factor = 1) => [displacement * factor, 0],\n  ArrowLeft: (displacement, factor = 1) => [-1 * displacement * factor, 0],\n  ArrowUp: (displacement, factor = 1) => [0, -1 * displacement * factor],\n  ArrowDown: (displacement, factor = 1) => [0, displacement * factor]\n};\nclass DragEngine extends CoordinatesEngine {\n  constructor(...args) {\n    super(...args);\n    _defineProperty(this, \"ingKey\", 'dragging');\n  }\n  reset() {\n    super.reset();\n    const state = this.state;\n    state._pointerId = undefined;\n    state._pointerActive = false;\n    state._keyboardActive = false;\n    state._preventScroll = false;\n    state._delayed = false;\n    state.swipe = [0, 0];\n    state.tap = false;\n    state.canceled = false;\n    state.cancel = this.cancel.bind(this);\n  }\n  setup() {\n    const state = this.state;\n    if (state._bounds instanceof HTMLElement) {\n      const boundRect = state._bounds.getBoundingClientRect();\n      const targetRect = state.currentTarget.getBoundingClientRect();\n      const _bounds = {\n        left: boundRect.left - targetRect.left + state.offset[0],\n        right: boundRect.right - targetRect.right + state.offset[0],\n        top: boundRect.top - targetRect.top + state.offset[1],\n        bottom: boundRect.bottom - targetRect.bottom + state.offset[1]\n      };\n      state._bounds = coordinatesConfigResolver.bounds(_bounds);\n    }\n  }\n  cancel() {\n    const state = this.state;\n    if (state.canceled) return;\n    state.canceled = true;\n    state._active = false;\n    setTimeout(() => {\n      this.compute();\n      this.emit();\n    }, 0);\n  }\n  setActive() {\n    this.state._active = this.state._pointerActive || this.state._keyboardActive;\n  }\n  clean() {\n    this.pointerClean();\n    this.state._pointerActive = false;\n    this.state._keyboardActive = false;\n    super.clean();\n  }\n  pointerDown(event) {\n    const config = this.config;\n    const state = this.state;\n    if (event.buttons != null && (Array.isArray(config.pointerButtons) ? !config.pointerButtons.includes(event.buttons) : config.pointerButtons !== -1 && config.pointerButtons !== event.buttons)) return;\n    const ctrlIds = this.ctrl.setEventIds(event);\n    if (config.pointerCapture) {\n      event.target.setPointerCapture(event.pointerId);\n    }\n    if (ctrlIds && ctrlIds.size > 1 && state._pointerActive) return;\n    this.start(event);\n    this.setupPointer(event);\n    state._pointerId = pointerId(event);\n    state._pointerActive = true;\n    this.computeValues(pointerValues(event));\n    this.computeInitial();\n    if (config.preventScrollAxis && getPointerType(event) !== 'mouse') {\n      state._active = false;\n      this.setupScrollPrevention(event);\n    } else if (config.delay > 0) {\n      this.setupDelayTrigger(event);\n      if (config.triggerAllEvents) {\n        this.compute(event);\n        this.emit();\n      }\n    } else {\n      this.startPointerDrag(event);\n    }\n  }\n  startPointerDrag(event) {\n    const state = this.state;\n    state._active = true;\n    state._preventScroll = true;\n    state._delayed = false;\n    this.compute(event);\n    this.emit();\n  }\n  pointerMove(event) {\n    const state = this.state;\n    const config = this.config;\n    if (!state._pointerActive) return;\n    const id = pointerId(event);\n    if (state._pointerId !== undefined && id !== state._pointerId) return;\n    const _values = pointerValues(event);\n    if (document.pointerLockElement === event.target) {\n      state._delta = [event.movementX, event.movementY];\n    } else {\n      state._delta = V.sub(_values, state._values);\n      this.computeValues(_values);\n    }\n    V.addTo(state._movement, state._delta);\n    this.compute(event);\n    if (state._delayed && state.intentional) {\n      this.timeoutStore.remove('dragDelay');\n      state.active = false;\n      this.startPointerDrag(event);\n      return;\n    }\n    if (config.preventScrollAxis && !state._preventScroll) {\n      if (state.axis) {\n        if (state.axis === config.preventScrollAxis || config.preventScrollAxis === 'xy') {\n          state._active = false;\n          this.clean();\n          return;\n        } else {\n          this.timeoutStore.remove('startPointerDrag');\n          this.startPointerDrag(event);\n          return;\n        }\n      } else {\n        return;\n      }\n    }\n    this.emit();\n  }\n  pointerUp(event) {\n    this.ctrl.setEventIds(event);\n    try {\n      if (this.config.pointerCapture && event.target.hasPointerCapture(event.pointerId)) {\n        ;\n        event.target.releasePointerCapture(event.pointerId);\n      }\n    } catch (_unused) {\n      if (process.env.NODE_ENV === 'development') {\n        console.warn(`[@use-gesture]: If you see this message, it's likely that you're using an outdated version of \\`@react-three/fiber\\`. \\n\\nPlease upgrade to the latest version.`);\n      }\n    }\n    const state = this.state;\n    const config = this.config;\n    if (!state._active || !state._pointerActive) return;\n    const id = pointerId(event);\n    if (state._pointerId !== undefined && id !== state._pointerId) return;\n    this.state._pointerActive = false;\n    this.setActive();\n    this.compute(event);\n    const [dx, dy] = state._distance;\n    state.tap = dx <= config.tapsThreshold && dy <= config.tapsThreshold;\n    if (state.tap && config.filterTaps) {\n      state._force = true;\n    } else {\n      const [_dx, _dy] = state._delta;\n      const [_mx, _my] = state._movement;\n      const [svx, svy] = config.swipe.velocity;\n      const [sx, sy] = config.swipe.distance;\n      const sdt = config.swipe.duration;\n      if (state.elapsedTime < sdt) {\n        const _vx = Math.abs(_dx / state.timeDelta);\n        const _vy = Math.abs(_dy / state.timeDelta);\n        if (_vx > svx && Math.abs(_mx) > sx) state.swipe[0] = Math.sign(_dx);\n        if (_vy > svy && Math.abs(_my) > sy) state.swipe[1] = Math.sign(_dy);\n      }\n    }\n    this.emit();\n  }\n  pointerClick(event) {\n    if (!this.state.tap && event.detail > 0) {\n      event.preventDefault();\n      event.stopPropagation();\n    }\n  }\n  setupPointer(event) {\n    const config = this.config;\n    const device = config.device;\n    if (process.env.NODE_ENV === 'development') {\n      try {\n        if (device === 'pointer' && config.preventScrollDelay === undefined) {\n          const currentTarget = 'uv' in event ? event.sourceEvent.currentTarget : event.currentTarget;\n          const style = window.getComputedStyle(currentTarget);\n          if (style.touchAction === 'auto') {\n            console.warn(`[@use-gesture]: The drag target has its \\`touch-action\\` style property set to \\`auto\\`. It is recommended to add \\`touch-action: 'none'\\` so that the drag gesture behaves correctly on touch-enabled devices. For more information read this: https://use-gesture.netlify.app/docs/extras/#touch-action.\\n\\nThis message will only show in development mode. It won't appear in production. If this is intended, you can ignore it.`, currentTarget);\n          }\n        }\n      } catch (_unused2) {}\n    }\n    if (config.pointerLock) {\n      event.currentTarget.requestPointerLock();\n    }\n    if (!config.pointerCapture) {\n      this.eventStore.add(this.sharedConfig.window, device, 'change', this.pointerMove.bind(this));\n      this.eventStore.add(this.sharedConfig.window, device, 'end', this.pointerUp.bind(this));\n      this.eventStore.add(this.sharedConfig.window, device, 'cancel', this.pointerUp.bind(this));\n    }\n  }\n  pointerClean() {\n    if (this.config.pointerLock && document.pointerLockElement === this.state.currentTarget) {\n      document.exitPointerLock();\n    }\n  }\n  preventScroll(event) {\n    if (this.state._preventScroll && event.cancelable) {\n      event.preventDefault();\n    }\n  }\n  setupScrollPrevention(event) {\n    this.state._preventScroll = false;\n    persistEvent(event);\n    const remove = this.eventStore.add(this.sharedConfig.window, 'touch', 'change', this.preventScroll.bind(this), {\n      passive: false\n    });\n    this.eventStore.add(this.sharedConfig.window, 'touch', 'end', remove);\n    this.eventStore.add(this.sharedConfig.window, 'touch', 'cancel', remove);\n    this.timeoutStore.add('startPointerDrag', this.startPointerDrag.bind(this), this.config.preventScrollDelay, event);\n  }\n  setupDelayTrigger(event) {\n    this.state._delayed = true;\n    this.timeoutStore.add('dragDelay', () => {\n      this.state._step = [0, 0];\n      this.startPointerDrag(event);\n    }, this.config.delay);\n  }\n  keyDown(event) {\n    const deltaFn = KEYS_DELTA_MAP[event.key];\n    if (deltaFn) {\n      const state = this.state;\n      const factor = event.shiftKey ? 10 : event.altKey ? 0.1 : 1;\n      this.start(event);\n      state._delta = deltaFn(this.config.keyboardDisplacement, factor);\n      state._keyboardActive = true;\n      V.addTo(state._movement, state._delta);\n      this.compute(event);\n      this.emit();\n    }\n  }\n  keyUp(event) {\n    if (!(event.key in KEYS_DELTA_MAP)) return;\n    this.state._keyboardActive = false;\n    this.setActive();\n    this.compute(event);\n    this.emit();\n  }\n  bind(bindFunction) {\n    const device = this.config.device;\n    bindFunction(device, 'start', this.pointerDown.bind(this));\n    if (this.config.pointerCapture) {\n      bindFunction(device, 'change', this.pointerMove.bind(this));\n      bindFunction(device, 'end', this.pointerUp.bind(this));\n      bindFunction(device, 'cancel', this.pointerUp.bind(this));\n      bindFunction('lostPointerCapture', '', this.pointerUp.bind(this));\n    }\n    if (this.config.keys) {\n      bindFunction('key', 'down', this.keyDown.bind(this));\n      bindFunction('key', 'up', this.keyUp.bind(this));\n    }\n    if (this.config.filterTaps) {\n      bindFunction('click', '', this.pointerClick.bind(this), {\n        capture: true,\n        passive: false\n      });\n    }\n  }\n}\nfunction persistEvent(event) {\n  'persist' in event && typeof event.persist === 'function' && event.persist();\n}\n\nconst isBrowser = typeof window !== 'undefined' && window.document && window.document.createElement;\nfunction supportsTouchEvents() {\n  return isBrowser && 'ontouchstart' in window;\n}\nfunction isTouchScreen() {\n  return supportsTouchEvents() || isBrowser && window.navigator.maxTouchPoints > 1;\n}\nfunction supportsPointerEvents() {\n  return isBrowser && 'onpointerdown' in window;\n}\nfunction supportsPointerLock() {\n  return isBrowser && 'exitPointerLock' in window.document;\n}\nfunction supportsGestureEvents() {\n  try {\n    return 'constructor' in GestureEvent;\n  } catch (e) {\n    return false;\n  }\n}\nconst SUPPORT = {\n  isBrowser,\n  gesture: supportsGestureEvents(),\n  touch: isTouchScreen(),\n  touchscreen: isTouchScreen(),\n  pointer: supportsPointerEvents(),\n  pointerLock: supportsPointerLock()\n};\n\nconst DEFAULT_PREVENT_SCROLL_DELAY = 250;\nconst DEFAULT_DRAG_DELAY = 180;\nconst DEFAULT_SWIPE_VELOCITY = 0.5;\nconst DEFAULT_SWIPE_DISTANCE = 50;\nconst DEFAULT_SWIPE_DURATION = 250;\nconst DEFAULT_KEYBOARD_DISPLACEMENT = 10;\nconst DEFAULT_DRAG_AXIS_THRESHOLD = {\n  mouse: 0,\n  touch: 0,\n  pen: 8\n};\nconst dragConfigResolver = _objectSpread2(_objectSpread2({}, coordinatesConfigResolver), {}, {\n  device(_v, _k, {\n    pointer: {\n      touch = false,\n      lock = false,\n      mouse = false\n    } = {}\n  }) {\n    this.pointerLock = lock && SUPPORT.pointerLock;\n    if (SUPPORT.touch && touch) return 'touch';\n    if (this.pointerLock) return 'mouse';\n    if (SUPPORT.pointer && !mouse) return 'pointer';\n    if (SUPPORT.touch) return 'touch';\n    return 'mouse';\n  },\n  preventScrollAxis(value, _k, {\n    preventScroll\n  }) {\n    this.preventScrollDelay = typeof preventScroll === 'number' ? preventScroll : preventScroll || preventScroll === undefined && value ? DEFAULT_PREVENT_SCROLL_DELAY : undefined;\n    if (!SUPPORT.touchscreen || preventScroll === false) return undefined;\n    return value ? value : preventScroll !== undefined ? 'y' : undefined;\n  },\n  pointerCapture(_v, _k, {\n    pointer: {\n      capture = true,\n      buttons = 1,\n      keys = true\n    } = {}\n  }) {\n    this.pointerButtons = buttons;\n    this.keys = keys;\n    return !this.pointerLock && this.device === 'pointer' && capture;\n  },\n  threshold(value, _k, {\n    filterTaps = false,\n    tapsThreshold = 3,\n    axis = undefined\n  }) {\n    const threshold = V.toVector(value, filterTaps ? tapsThreshold : axis ? 1 : 0);\n    this.filterTaps = filterTaps;\n    this.tapsThreshold = tapsThreshold;\n    return threshold;\n  },\n  swipe({\n    velocity = DEFAULT_SWIPE_VELOCITY,\n    distance = DEFAULT_SWIPE_DISTANCE,\n    duration = DEFAULT_SWIPE_DURATION\n  } = {}) {\n    return {\n      velocity: this.transform(V.toVector(velocity)),\n      distance: this.transform(V.toVector(distance)),\n      duration\n    };\n  },\n  delay(value = 0) {\n    switch (value) {\n      case true:\n        return DEFAULT_DRAG_DELAY;\n      case false:\n        return 0;\n      default:\n        return value;\n    }\n  },\n  axisThreshold(value) {\n    if (!value) return DEFAULT_DRAG_AXIS_THRESHOLD;\n    return _objectSpread2(_objectSpread2({}, DEFAULT_DRAG_AXIS_THRESHOLD), value);\n  },\n  keyboardDisplacement(value = DEFAULT_KEYBOARD_DISPLACEMENT) {\n    return value;\n  }\n});\nif (process.env.NODE_ENV === 'development') {\n  Object.assign(dragConfigResolver, {\n    useTouch(value) {\n      if (value !== undefined) {\n        throw Error(`[@use-gesture]: \\`useTouch\\` option has been renamed to \\`pointer.touch\\`. Use it as in \\`{ pointer: { touch: true } }\\`.`);\n      }\n      return NaN;\n    },\n    experimental_preventWindowScrollY(value) {\n      if (value !== undefined) {\n        throw Error(`[@use-gesture]: \\`experimental_preventWindowScrollY\\` option has been renamed to \\`preventScroll\\`.`);\n      }\n      return NaN;\n    },\n    swipeVelocity(value) {\n      if (value !== undefined) {\n        throw Error(`[@use-gesture]: \\`swipeVelocity\\` option has been renamed to \\`swipe.velocity\\`. Use it as in \\`{ swipe: { velocity: 0.5 } }\\`.`);\n      }\n      return NaN;\n    },\n    swipeDistance(value) {\n      if (value !== undefined) {\n        throw Error(`[@use-gesture]: \\`swipeDistance\\` option has been renamed to \\`swipe.distance\\`. Use it as in \\`{ swipe: { distance: 50 } }\\`.`);\n      }\n      return NaN;\n    },\n    swipeDuration(value) {\n      if (value !== undefined) {\n        throw Error(`[@use-gesture]: \\`swipeDuration\\` option has been renamed to \\`swipe.duration\\`. Use it as in \\`{ swipe: { duration: 250 } }\\`.`);\n      }\n      return NaN;\n    }\n  });\n}\n\nfunction clampStateInternalMovementToBounds(state) {\n  const [ox, oy] = state.overflow;\n  const [dx, dy] = state._delta;\n  const [dirx, diry] = state._direction;\n  if (ox < 0 && dx > 0 && dirx < 0 || ox > 0 && dx < 0 && dirx > 0) {\n    state._movement[0] = state._movementBound[0];\n  }\n  if (oy < 0 && dy > 0 && diry < 0 || oy > 0 && dy < 0 && diry > 0) {\n    state._movement[1] = state._movementBound[1];\n  }\n}\n\nconst SCALE_ANGLE_RATIO_INTENT_DEG = 30;\nconst PINCH_WHEEL_RATIO = 100;\nclass PinchEngine extends Engine {\n  constructor(...args) {\n    super(...args);\n    _defineProperty(this, \"ingKey\", 'pinching');\n    _defineProperty(this, \"aliasKey\", 'da');\n  }\n  init() {\n    this.state.offset = [1, 0];\n    this.state.lastOffset = [1, 0];\n    this.state._pointerEvents = new Map();\n  }\n  reset() {\n    super.reset();\n    const state = this.state;\n    state._touchIds = [];\n    state.canceled = false;\n    state.cancel = this.cancel.bind(this);\n    state.turns = 0;\n  }\n  computeOffset() {\n    const {\n      type,\n      movement,\n      lastOffset\n    } = this.state;\n    if (type === 'wheel') {\n      this.state.offset = V.add(movement, lastOffset);\n    } else {\n      this.state.offset = [(1 + movement[0]) * lastOffset[0], movement[1] + lastOffset[1]];\n    }\n  }\n  computeMovement() {\n    const {\n      offset,\n      lastOffset\n    } = this.state;\n    this.state.movement = [offset[0] / lastOffset[0], offset[1] - lastOffset[1]];\n  }\n  axisIntent() {\n    const state = this.state;\n    const [_m0, _m1] = state._movement;\n    if (!state.axis) {\n      const axisMovementDifference = Math.abs(_m0) * SCALE_ANGLE_RATIO_INTENT_DEG - Math.abs(_m1);\n      if (axisMovementDifference < 0) state.axis = 'angle';else if (axisMovementDifference > 0) state.axis = 'scale';\n    }\n  }\n  restrictToAxis(v) {\n    if (this.config.lockDirection) {\n      if (this.state.axis === 'scale') v[1] = 0;else if (this.state.axis === 'angle') v[0] = 0;\n    }\n  }\n  cancel() {\n    const state = this.state;\n    if (state.canceled) return;\n    setTimeout(() => {\n      state.canceled = true;\n      state._active = false;\n      this.compute();\n      this.emit();\n    }, 0);\n  }\n  touchStart(event) {\n    this.ctrl.setEventIds(event);\n    const state = this.state;\n    const ctrlTouchIds = this.ctrl.touchIds;\n    if (state._active) {\n      if (state._touchIds.every(id => ctrlTouchIds.has(id))) return;\n    }\n    if (ctrlTouchIds.size < 2) return;\n    this.start(event);\n    state._touchIds = Array.from(ctrlTouchIds).slice(0, 2);\n    const payload = touchDistanceAngle(event, state._touchIds);\n    if (!payload) return;\n    this.pinchStart(event, payload);\n  }\n  pointerStart(event) {\n    if (event.buttons != null && event.buttons % 2 !== 1) return;\n    this.ctrl.setEventIds(event);\n    event.target.setPointerCapture(event.pointerId);\n    const state = this.state;\n    const _pointerEvents = state._pointerEvents;\n    const ctrlPointerIds = this.ctrl.pointerIds;\n    if (state._active) {\n      if (Array.from(_pointerEvents.keys()).every(id => ctrlPointerIds.has(id))) return;\n    }\n    if (_pointerEvents.size < 2) {\n      _pointerEvents.set(event.pointerId, event);\n    }\n    if (state._pointerEvents.size < 2) return;\n    this.start(event);\n    const payload = distanceAngle(...Array.from(_pointerEvents.values()));\n    if (!payload) return;\n    this.pinchStart(event, payload);\n  }\n  pinchStart(event, payload) {\n    const state = this.state;\n    state.origin = payload.origin;\n    this.computeValues([payload.distance, payload.angle]);\n    this.computeInitial();\n    this.compute(event);\n    this.emit();\n  }\n  touchMove(event) {\n    if (!this.state._active) return;\n    const payload = touchDistanceAngle(event, this.state._touchIds);\n    if (!payload) return;\n    this.pinchMove(event, payload);\n  }\n  pointerMove(event) {\n    const _pointerEvents = this.state._pointerEvents;\n    if (_pointerEvents.has(event.pointerId)) {\n      _pointerEvents.set(event.pointerId, event);\n    }\n    if (!this.state._active) return;\n    const payload = distanceAngle(...Array.from(_pointerEvents.values()));\n    if (!payload) return;\n    this.pinchMove(event, payload);\n  }\n  pinchMove(event, payload) {\n    const state = this.state;\n    const prev_a = state._values[1];\n    const delta_a = payload.angle - prev_a;\n    let delta_turns = 0;\n    if (Math.abs(delta_a) > 270) delta_turns += Math.sign(delta_a);\n    this.computeValues([payload.distance, payload.angle - 360 * delta_turns]);\n    state.origin = payload.origin;\n    state.turns = delta_turns;\n    state._movement = [state._values[0] / state._initial[0] - 1, state._values[1] - state._initial[1]];\n    this.compute(event);\n    this.emit();\n  }\n  touchEnd(event) {\n    this.ctrl.setEventIds(event);\n    if (!this.state._active) return;\n    if (this.state._touchIds.some(id => !this.ctrl.touchIds.has(id))) {\n      this.state._active = false;\n      this.compute(event);\n      this.emit();\n    }\n  }\n  pointerEnd(event) {\n    const state = this.state;\n    this.ctrl.setEventIds(event);\n    try {\n      event.target.releasePointerCapture(event.pointerId);\n    } catch (_unused) {}\n    if (state._pointerEvents.has(event.pointerId)) {\n      state._pointerEvents.delete(event.pointerId);\n    }\n    if (!state._active) return;\n    if (state._pointerEvents.size < 2) {\n      state._active = false;\n      this.compute(event);\n      this.emit();\n    }\n  }\n  gestureStart(event) {\n    if (event.cancelable) event.preventDefault();\n    const state = this.state;\n    if (state._active) return;\n    this.start(event);\n    this.computeValues([event.scale, event.rotation]);\n    state.origin = [event.clientX, event.clientY];\n    this.compute(event);\n    this.emit();\n  }\n  gestureMove(event) {\n    if (event.cancelable) event.preventDefault();\n    if (!this.state._active) return;\n    const state = this.state;\n    this.computeValues([event.scale, event.rotation]);\n    state.origin = [event.clientX, event.clientY];\n    const _previousMovement = state._movement;\n    state._movement = [event.scale - 1, event.rotation];\n    state._delta = V.sub(state._movement, _previousMovement);\n    this.compute(event);\n    this.emit();\n  }\n  gestureEnd(event) {\n    if (!this.state._active) return;\n    this.state._active = false;\n    this.compute(event);\n    this.emit();\n  }\n  wheel(event) {\n    const modifierKey = this.config.modifierKey;\n    if (modifierKey && !event[modifierKey]) return;\n    if (!this.state._active) this.wheelStart(event);else this.wheelChange(event);\n    this.timeoutStore.add('wheelEnd', this.wheelEnd.bind(this));\n  }\n  wheelStart(event) {\n    this.start(event);\n    this.wheelChange(event);\n  }\n  wheelChange(event) {\n    const isR3f = ('uv' in event);\n    if (!isR3f) {\n      if (event.cancelable) {\n        event.preventDefault();\n      }\n      if (process.env.NODE_ENV === 'development' && !event.defaultPrevented) {\n        console.warn(`[@use-gesture]: To properly support zoom on trackpads, try using the \\`target\\` option.\\n\\nThis message will only appear in development mode.`);\n      }\n    }\n    const state = this.state;\n    state._delta = [-wheelValues(event)[1] / PINCH_WHEEL_RATIO * state.offset[0], 0];\n    V.addTo(state._movement, state._delta);\n    clampStateInternalMovementToBounds(state);\n    this.state.origin = [event.clientX, event.clientY];\n    this.compute(event);\n    this.emit();\n  }\n  wheelEnd() {\n    if (!this.state._active) return;\n    this.state._active = false;\n    this.compute();\n    this.emit();\n  }\n  bind(bindFunction) {\n    const device = this.config.device;\n    if (!!device) {\n      bindFunction(device, 'start', this[device + 'Start'].bind(this));\n      bindFunction(device, 'change', this[device + 'Move'].bind(this));\n      bindFunction(device, 'end', this[device + 'End'].bind(this));\n      bindFunction(device, 'cancel', this[device + 'End'].bind(this));\n      bindFunction('lostPointerCapture', '', this[device + 'End'].bind(this));\n    }\n    if (this.config.pinchOnWheel) {\n      bindFunction('wheel', '', this.wheel.bind(this), {\n        passive: false\n      });\n    }\n  }\n}\n\nconst pinchConfigResolver = _objectSpread2(_objectSpread2({}, commonConfigResolver), {}, {\n  device(_v, _k, {\n    shared,\n    pointer: {\n      touch = false\n    } = {}\n  }) {\n    const sharedConfig = shared;\n    if (sharedConfig.target && !SUPPORT.touch && SUPPORT.gesture) return 'gesture';\n    if (SUPPORT.touch && touch) return 'touch';\n    if (SUPPORT.touchscreen) {\n      if (SUPPORT.pointer) return 'pointer';\n      if (SUPPORT.touch) return 'touch';\n    }\n  },\n  bounds(_v, _k, {\n    scaleBounds = {},\n    angleBounds = {}\n  }) {\n    const _scaleBounds = state => {\n      const D = assignDefault(call(scaleBounds, state), {\n        min: -Infinity,\n        max: Infinity\n      });\n      return [D.min, D.max];\n    };\n    const _angleBounds = state => {\n      const A = assignDefault(call(angleBounds, state), {\n        min: -Infinity,\n        max: Infinity\n      });\n      return [A.min, A.max];\n    };\n    if (typeof scaleBounds !== 'function' && typeof angleBounds !== 'function') return [_scaleBounds(), _angleBounds()];\n    return state => [_scaleBounds(state), _angleBounds(state)];\n  },\n  threshold(value, _k, config) {\n    this.lockDirection = config.axis === 'lock';\n    const threshold = V.toVector(value, this.lockDirection ? [0.1, 3] : 0);\n    return threshold;\n  },\n  modifierKey(value) {\n    if (value === undefined) return 'ctrlKey';\n    return value;\n  },\n  pinchOnWheel(value = true) {\n    return value;\n  }\n});\n\nclass MoveEngine extends CoordinatesEngine {\n  constructor(...args) {\n    super(...args);\n    _defineProperty(this, \"ingKey\", 'moving');\n  }\n  move(event) {\n    if (this.config.mouseOnly && event.pointerType !== 'mouse') return;\n    if (!this.state._active) this.moveStart(event);else this.moveChange(event);\n    this.timeoutStore.add('moveEnd', this.moveEnd.bind(this));\n  }\n  moveStart(event) {\n    this.start(event);\n    this.computeValues(pointerValues(event));\n    this.compute(event);\n    this.computeInitial();\n    this.emit();\n  }\n  moveChange(event) {\n    if (!this.state._active) return;\n    const values = pointerValues(event);\n    const state = this.state;\n    state._delta = V.sub(values, state._values);\n    V.addTo(state._movement, state._delta);\n    this.computeValues(values);\n    this.compute(event);\n    this.emit();\n  }\n  moveEnd(event) {\n    if (!this.state._active) return;\n    this.state._active = false;\n    this.compute(event);\n    this.emit();\n  }\n  bind(bindFunction) {\n    bindFunction('pointer', 'change', this.move.bind(this));\n    bindFunction('pointer', 'leave', this.moveEnd.bind(this));\n  }\n}\n\nconst moveConfigResolver = _objectSpread2(_objectSpread2({}, coordinatesConfigResolver), {}, {\n  mouseOnly: (value = true) => value\n});\n\nclass ScrollEngine extends CoordinatesEngine {\n  constructor(...args) {\n    super(...args);\n    _defineProperty(this, \"ingKey\", 'scrolling');\n  }\n  scroll(event) {\n    if (!this.state._active) this.start(event);\n    this.scrollChange(event);\n    this.timeoutStore.add('scrollEnd', this.scrollEnd.bind(this));\n  }\n  scrollChange(event) {\n    if (event.cancelable) event.preventDefault();\n    const state = this.state;\n    const values = scrollValues(event);\n    state._delta = V.sub(values, state._values);\n    V.addTo(state._movement, state._delta);\n    this.computeValues(values);\n    this.compute(event);\n    this.emit();\n  }\n  scrollEnd() {\n    if (!this.state._active) return;\n    this.state._active = false;\n    this.compute();\n    this.emit();\n  }\n  bind(bindFunction) {\n    bindFunction('scroll', '', this.scroll.bind(this));\n  }\n}\n\nconst scrollConfigResolver = coordinatesConfigResolver;\n\nclass WheelEngine extends CoordinatesEngine {\n  constructor(...args) {\n    super(...args);\n    _defineProperty(this, \"ingKey\", 'wheeling');\n  }\n  wheel(event) {\n    if (!this.state._active) this.start(event);\n    this.wheelChange(event);\n    this.timeoutStore.add('wheelEnd', this.wheelEnd.bind(this));\n  }\n  wheelChange(event) {\n    const state = this.state;\n    state._delta = wheelValues(event);\n    V.addTo(state._movement, state._delta);\n    clampStateInternalMovementToBounds(state);\n    this.compute(event);\n    this.emit();\n  }\n  wheelEnd() {\n    if (!this.state._active) return;\n    this.state._active = false;\n    this.compute();\n    this.emit();\n  }\n  bind(bindFunction) {\n    bindFunction('wheel', '', this.wheel.bind(this));\n  }\n}\n\nconst wheelConfigResolver = coordinatesConfigResolver;\n\nclass HoverEngine extends CoordinatesEngine {\n  constructor(...args) {\n    super(...args);\n    _defineProperty(this, \"ingKey\", 'hovering');\n  }\n  enter(event) {\n    if (this.config.mouseOnly && event.pointerType !== 'mouse') return;\n    this.start(event);\n    this.computeValues(pointerValues(event));\n    this.compute(event);\n    this.emit();\n  }\n  leave(event) {\n    if (this.config.mouseOnly && event.pointerType !== 'mouse') return;\n    const state = this.state;\n    if (!state._active) return;\n    state._active = false;\n    const values = pointerValues(event);\n    state._movement = state._delta = V.sub(values, state._values);\n    this.computeValues(values);\n    this.compute(event);\n    state.delta = state.movement;\n    this.emit();\n  }\n  bind(bindFunction) {\n    bindFunction('pointer', 'enter', this.enter.bind(this));\n    bindFunction('pointer', 'leave', this.leave.bind(this));\n  }\n}\n\nconst hoverConfigResolver = _objectSpread2(_objectSpread2({}, coordinatesConfigResolver), {}, {\n  mouseOnly: (value = true) => value\n});\n\nconst EngineMap = new Map();\nconst ConfigResolverMap = new Map();\nfunction registerAction(action) {\n  EngineMap.set(action.key, action.engine);\n  ConfigResolverMap.set(action.key, action.resolver);\n}\nconst dragAction = {\n  key: 'drag',\n  engine: DragEngine,\n  resolver: dragConfigResolver\n};\nconst hoverAction = {\n  key: 'hover',\n  engine: HoverEngine,\n  resolver: hoverConfigResolver\n};\nconst moveAction = {\n  key: 'move',\n  engine: MoveEngine,\n  resolver: moveConfigResolver\n};\nconst pinchAction = {\n  key: 'pinch',\n  engine: PinchEngine,\n  resolver: pinchConfigResolver\n};\nconst scrollAction = {\n  key: 'scroll',\n  engine: ScrollEngine,\n  resolver: scrollConfigResolver\n};\nconst wheelAction = {\n  key: 'wheel',\n  engine: WheelEngine,\n  resolver: wheelConfigResolver\n};\n\nexport { ConfigResolverMap as C, EngineMap as E, SUPPORT as S, _objectSpread2 as _, _defineProperty as a, touchIds as b, chain as c, toHandlerProp as d, dragAction as e, pinchAction as f, hoverAction as h, isTouch as i, moveAction as m, parseProp as p, registerAction as r, scrollAction as s, toDomEventType as t, wheelAction as w };\n"],"mappings":"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"},"metadata":{},"sourceType":"module","externalDependencies":[]}