{"ast":null,"code":"import _regeneratorRuntime from \"/home/krug/Coding/JavaScript/Websites/Personal/personal/node_modules/.pnpm/@babel+runtime@7.22.3/node_modules/@babel/runtime/helpers/esm/regeneratorRuntime.js\";\nimport _asyncToGenerator from \"/home/krug/Coding/JavaScript/Websites/Personal/personal/node_modules/.pnpm/@babel+runtime@7.22.3/node_modules/@babel/runtime/helpers/esm/asyncToGenerator.js\";\nexport function create() {\n  return _create.apply(this, arguments);\n}\nfunction _create() {\n  _create = _asyncToGenerator( /*#__PURE__*/_regeneratorRuntime().mark(function _callee() {\n    return _regeneratorRuntime().wrap(function _callee$(_context) {\n      while (1) switch (_context.prev = _context.next) {\n        case 0:\n          return _context.abrupt(\"return\", {\n            docs: {},\n            count: 0\n          });\n        case 1:\n        case \"end\":\n          return _context.stop();\n      }\n    }, _callee);\n  }));\n  return _create.apply(this, arguments);\n}\nexport function get(_x, _x2) {\n  return _get.apply(this, arguments);\n}\nfunction _get() {\n  _get = _asyncToGenerator( /*#__PURE__*/_regeneratorRuntime().mark(function _callee2(store, id) {\n    return _regeneratorRuntime().wrap(function _callee2$(_context2) {\n      while (1) switch (_context2.prev = _context2.next) {\n        case 0:\n          return _context2.abrupt(\"return\", store.docs[id]);\n        case 1:\n        case \"end\":\n          return _context2.stop();\n      }\n    }, _callee2);\n  }));\n  return _get.apply(this, arguments);\n}\nexport function getMultiple(_x3, _x4) {\n  return _getMultiple.apply(this, arguments);\n}\nfunction _getMultiple() {\n  _getMultiple = _asyncToGenerator( /*#__PURE__*/_regeneratorRuntime().mark(function _callee3(store, ids) {\n    var found, i;\n    return _regeneratorRuntime().wrap(function _callee3$(_context3) {\n      while (1) switch (_context3.prev = _context3.next) {\n        case 0:\n          found = Array.from({\n            length: ids.length\n          });\n          for (i = 0; i < ids.length; i++) {\n            found[i] = store.docs[ids[i]];\n          }\n          return _context3.abrupt(\"return\", found);\n        case 3:\n        case \"end\":\n          return _context3.stop();\n      }\n    }, _callee3);\n  }));\n  return _getMultiple.apply(this, arguments);\n}\nexport function getAll(_x5) {\n  return _getAll.apply(this, arguments);\n}\nfunction _getAll() {\n  _getAll = _asyncToGenerator( /*#__PURE__*/_regeneratorRuntime().mark(function _callee4(store) {\n    return _regeneratorRuntime().wrap(function _callee4$(_context4) {\n      while (1) switch (_context4.prev = _context4.next) {\n        case 0:\n          return _context4.abrupt(\"return\", store.docs);\n        case 1:\n        case \"end\":\n          return _context4.stop();\n      }\n    }, _callee4);\n  }));\n  return _getAll.apply(this, arguments);\n}\nexport function store(_x6, _x7, _x8) {\n  return _store.apply(this, arguments);\n}\nfunction _store() {\n  _store = _asyncToGenerator( /*#__PURE__*/_regeneratorRuntime().mark(function _callee5(store, id, doc) {\n    return _regeneratorRuntime().wrap(function _callee5$(_context5) {\n      while (1) switch (_context5.prev = _context5.next) {\n        case 0:\n          if (!(typeof store.docs[id] !== 'undefined')) {\n            _context5.next = 2;\n            break;\n          }\n          return _context5.abrupt(\"return\", false);\n        case 2:\n          store.docs[id] = doc;\n          store.count++;\n          return _context5.abrupt(\"return\", true);\n        case 5:\n        case \"end\":\n          return _context5.stop();\n      }\n    }, _callee5);\n  }));\n  return _store.apply(this, arguments);\n}\nexport function remove(_x9, _x10) {\n  return _remove.apply(this, arguments);\n}\nfunction _remove() {\n  _remove = _asyncToGenerator( /*#__PURE__*/_regeneratorRuntime().mark(function _callee6(store, id) {\n    return _regeneratorRuntime().wrap(function _callee6$(_context6) {\n      while (1) switch (_context6.prev = _context6.next) {\n        case 0:\n          if (!(typeof store.docs[id] === 'undefined')) {\n            _context6.next = 2;\n            break;\n          }\n          return _context6.abrupt(\"return\", false);\n        case 2:\n          delete store.docs[id];\n          store.count--;\n          return _context6.abrupt(\"return\", true);\n        case 5:\n        case \"end\":\n          return _context6.stop();\n      }\n    }, _callee6);\n  }));\n  return _remove.apply(this, arguments);\n}\nexport function count(_x11) {\n  return _count.apply(this, arguments);\n}\nfunction _count() {\n  _count = _asyncToGenerator( /*#__PURE__*/_regeneratorRuntime().mark(function _callee7(store) {\n    return _regeneratorRuntime().wrap(function _callee7$(_context7) {\n      while (1) switch (_context7.prev = _context7.next) {\n        case 0:\n          return _context7.abrupt(\"return\", store.count);\n        case 1:\n        case \"end\":\n          return _context7.stop();\n      }\n    }, _callee7);\n  }));\n  return _count.apply(this, arguments);\n}\nexport function load(_x12) {\n  return _load.apply(this, arguments);\n}\nfunction _load() {\n  _load = _asyncToGenerator( /*#__PURE__*/_regeneratorRuntime().mark(function _callee8(raw) {\n    var rawDocument;\n    return _regeneratorRuntime().wrap(function _callee8$(_context8) {\n      while (1) switch (_context8.prev = _context8.next) {\n        case 0:\n          rawDocument = raw;\n          return _context8.abrupt(\"return\", {\n            docs: rawDocument.docs,\n            count: rawDocument.count\n          });\n        case 2:\n        case \"end\":\n          return _context8.stop();\n      }\n    }, _callee8);\n  }));\n  return _load.apply(this, arguments);\n}\nexport function save(_x13) {\n  return _save.apply(this, arguments);\n}\nfunction _save() {\n  _save = _asyncToGenerator( /*#__PURE__*/_regeneratorRuntime().mark(function _callee9(store) {\n    return _regeneratorRuntime().wrap(function _callee9$(_context9) {\n      while (1) switch (_context9.prev = _context9.next) {\n        case 0:\n          return _context9.abrupt(\"return\", {\n            docs: store.docs,\n            count: store.count\n          });\n        case 1:\n        case \"end\":\n          return _context9.stop();\n      }\n    }, _callee9);\n  }));\n  return _save.apply(this, arguments);\n}\nexport function createDocumentsStore() {\n  return _createDocumentsStore.apply(this, arguments);\n}\nfunction _createDocumentsStore() {\n  _createDocumentsStore = _asyncToGenerator( /*#__PURE__*/_regeneratorRuntime().mark(function _callee10() {\n    return _regeneratorRuntime().wrap(function _callee10$(_context10) {\n      while (1) switch (_context10.prev = _context10.next) {\n        case 0:\n          return _context10.abrupt(\"return\", {\n            create: create,\n            get: get,\n            getMultiple: getMultiple,\n            getAll: getAll,\n            store: store,\n            remove: remove,\n            count: count,\n            load: load,\n            save: save\n          });\n        case 1:\n        case \"end\":\n          return _context10.stop();\n      }\n    }, _callee10);\n  }));\n  return _createDocumentsStore.apply(this, arguments);\n}","map":{"version":3,"names":["create","_create","apply","arguments","_asyncToGenerator","_regeneratorRuntime","mark","_callee","wrap","_callee$","_context","prev","next","abrupt","docs","count","stop","get","_x","_x2","_get","_callee2","store","id","_callee2$","_context2","getMultiple","_x3","_x4","_getMultiple","_callee3","ids","found","i","_callee3$","_context3","Array","from","length","getAll","_x5","_getAll","_callee4","_callee4$","_context4","_x6","_x7","_x8","_store","_callee5","doc","_callee5$","_context5","remove","_x9","_x10","_remove","_callee6","_callee6$","_context6","_x11","_count","_callee7","_callee7$","_context7","load","_x12","_load","_callee8","raw","rawDocument","_callee8$","_context8","save","_x13","_save","_callee9","_callee9$","_context9","createDocumentsStore","_createDocumentsStore","_callee10","_callee10$","_context10"],"sources":["/home/krug/Coding/JavaScript/Websites/Personal/personal/node_modules/.pnpm/@orama+orama@1.0.3/node_modules/@orama/orama/src/components/documents-store.ts"],"sourcesContent":["import { Document, IDocumentsStore, OpaqueDocumentStore } from '../types.js'\n\nexport interface DocumentsStore extends OpaqueDocumentStore {\n  docs: Record<string, Document | undefined>\n  count: number\n}\n\nexport type DefaultDocumentsStore = IDocumentsStore<DocumentsStore>\n\nexport async function create(): Promise<DocumentsStore> {\n  return {\n    docs: {},\n    count: 0,\n  }\n}\n\nexport async function get(store: DocumentsStore, id: string): Promise<Document | undefined> {\n  return store.docs[id]\n}\n\nexport async function getMultiple(store: DocumentsStore, ids: string[]): Promise<(Document | undefined)[]> {\n  const found: (Document | undefined)[] = Array.from({ length: ids.length })\n\n  for (let i = 0; i < ids.length; i++) {\n    found[i] = store.docs[ids[i]]\n  }\n\n  return found\n}\n\nexport async function getAll(store: DocumentsStore): Promise<Record<string, Document>> {\n  return store.docs as Record<string, Document>\n}\n\nexport async function store(store: DocumentsStore, id: string, doc: Document): Promise<boolean> {\n  if (typeof store.docs[id] !== 'undefined') {\n    return false\n  }\n\n  store.docs[id] = doc\n  store.count++\n\n  return true\n}\n\nexport async function remove(store: DocumentsStore, id: string): Promise<boolean> {\n  if (typeof store.docs[id] === 'undefined') {\n    return false\n  }\n\n  delete store.docs[id]\n  store.count--\n\n  return true\n}\n\nexport async function count(store: DocumentsStore): Promise<number> {\n  return store.count\n}\n\nexport async function load<R = unknown>(raw: R): Promise<DocumentsStore> {\n  const rawDocument = raw as DocumentsStore\n\n  return {\n    docs: rawDocument.docs,\n    count: rawDocument.count,\n  }\n}\n\nexport async function save<R = unknown>(store: DocumentsStore): Promise<R> {\n  return {\n    docs: store.docs,\n    count: store.count,\n  } as R\n}\n\nexport async function createDocumentsStore(): Promise<DefaultDocumentsStore> {\n  return {\n    create,\n    get,\n    getMultiple,\n    getAll,\n    store,\n    remove,\n    count,\n    load,\n    save,\n  }\n}\n"],"mappings":"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"},"metadata":{},"sourceType":"module","externalDependencies":[]}