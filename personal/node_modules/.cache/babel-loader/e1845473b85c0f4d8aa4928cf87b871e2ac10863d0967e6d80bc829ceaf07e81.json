{"ast":null,"code":"import { DepthTexture, DepthFormat, UnsignedShortType } from 'three';\nimport * as React from 'react';\nimport { useThree, useFrame } from '@react-three/fiber';\nimport { useFBO } from './useFBO.js';\nfunction useDepthBuffer() {\n  var _ref = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : {},\n    _ref$size = _ref.size,\n    size = _ref$size === void 0 ? 256 : _ref$size,\n    _ref$frames = _ref.frames,\n    frames = _ref$frames === void 0 ? Infinity : _ref$frames;\n  var dpr = useThree(function (state) {\n    return state.viewport.dpr;\n  });\n  var _useThree = useThree(function (state) {\n      return state.size;\n    }),\n    width = _useThree.width,\n    height = _useThree.height;\n  var w = size || width * dpr;\n  var h = size || height * dpr;\n  var depthConfig = React.useMemo(function () {\n    var depthTexture = new DepthTexture(w, h);\n    depthTexture.format = DepthFormat;\n    depthTexture.type = UnsignedShortType;\n    return {\n      depthTexture: depthTexture\n    };\n  }, [w, h]);\n  var count = 0;\n  var depthFBO = useFBO(w, h, depthConfig);\n  useFrame(function (state) {\n    if (frames === Infinity || count < frames) {\n      state.gl.setRenderTarget(depthFBO);\n      state.gl.render(state.scene, state.camera);\n      state.gl.setRenderTarget(null);\n      count++;\n    }\n  });\n  return depthFBO.depthTexture;\n}\nexport { useDepthBuffer };","map":{"version":3,"names":["DepthTexture","DepthFormat","UnsignedShortType","React","useThree","useFrame","useFBO","useDepthBuffer","_ref","arguments","length","undefined","_ref$size","size","_ref$frames","frames","Infinity","dpr","state","viewport","_useThree","width","height","w","h","depthConfig","useMemo","depthTexture","format","type","count","depthFBO","gl","setRenderTarget","render","scene","camera"],"sources":["/home/krug/Coding/JavaScript/Websites/Personal/personal/node_modules/.pnpm/@react-three+drei@9.72.1_@react-three+fiber@8.13.0_@types+three@0.150.2_react-dom@18.2.0_react@18.2.0_three@0.151.3/node_modules/@react-three/drei/core/useDepthBuffer.js"],"sourcesContent":["import { DepthTexture, DepthFormat, UnsignedShortType } from 'three';\nimport * as React from 'react';\nimport { useThree, useFrame } from '@react-three/fiber';\nimport { useFBO } from './useFBO.js';\n\nfunction useDepthBuffer({\n  size = 256,\n  frames = Infinity\n} = {}) {\n  const dpr = useThree(state => state.viewport.dpr);\n  const {\n    width,\n    height\n  } = useThree(state => state.size);\n  const w = size || width * dpr;\n  const h = size || height * dpr;\n  const depthConfig = React.useMemo(() => {\n    const depthTexture = new DepthTexture(w, h);\n    depthTexture.format = DepthFormat;\n    depthTexture.type = UnsignedShortType;\n    return {\n      depthTexture\n    };\n  }, [w, h]);\n  let count = 0;\n  const depthFBO = useFBO(w, h, depthConfig);\n  useFrame(state => {\n    if (frames === Infinity || count < frames) {\n      state.gl.setRenderTarget(depthFBO);\n      state.gl.render(state.scene, state.camera);\n      state.gl.setRenderTarget(null);\n      count++;\n    }\n  });\n  return depthFBO.depthTexture;\n}\n\nexport { useDepthBuffer };\n"],"mappings":"AAAA,SAASA,YAAY,EAAEC,WAAW,EAAEC,iBAAiB,QAAQ,OAAO;AACpE,OAAO,KAAKC,KAAK,MAAM,OAAO;AAC9B,SAASC,QAAQ,EAAEC,QAAQ,QAAQ,oBAAoB;AACvD,SAASC,MAAM,QAAQ,aAAa;AAEpC,SAASC,cAAcA,CAAA,EAGf;EAAA,IAAAC,IAAA,GAAAC,SAAA,CAAAC,MAAA,QAAAD,SAAA,QAAAE,SAAA,GAAAF,SAAA,MAAJ,CAAC,CAAC;IAAAG,SAAA,GAAAJ,IAAA,CAFJK,IAAI;IAAJA,IAAI,GAAAD,SAAA,cAAG,GAAG,GAAAA,SAAA;IAAAE,WAAA,GAAAN,IAAA,CACVO,MAAM;IAANA,MAAM,GAAAD,WAAA,cAAGE,QAAQ,GAAAF,WAAA;EAEjB,IAAMG,GAAG,GAAGb,QAAQ,CAAC,UAAAc,KAAK;IAAA,OAAIA,KAAK,CAACC,QAAQ,CAACF,GAAG;EAAA,EAAC;EACjD,IAAAG,SAAA,GAGIhB,QAAQ,CAAC,UAAAc,KAAK;MAAA,OAAIA,KAAK,CAACL,IAAI;IAAA,EAAC;IAF/BQ,KAAK,GAAAD,SAAA,CAALC,KAAK;IACLC,MAAM,GAAAF,SAAA,CAANE,MAAM;EAER,IAAMC,CAAC,GAAGV,IAAI,IAAIQ,KAAK,GAAGJ,GAAG;EAC7B,IAAMO,CAAC,GAAGX,IAAI,IAAIS,MAAM,GAAGL,GAAG;EAC9B,IAAMQ,WAAW,GAAGtB,KAAK,CAACuB,OAAO,CAAC,YAAM;IACtC,IAAMC,YAAY,GAAG,IAAI3B,YAAY,CAACuB,CAAC,EAAEC,CAAC,CAAC;IAC3CG,YAAY,CAACC,MAAM,GAAG3B,WAAW;IACjC0B,YAAY,CAACE,IAAI,GAAG3B,iBAAiB;IACrC,OAAO;MACLyB,YAAY,EAAZA;IACF,CAAC;EACH,CAAC,EAAE,CAACJ,CAAC,EAAEC,CAAC,CAAC,CAAC;EACV,IAAIM,KAAK,GAAG,CAAC;EACb,IAAMC,QAAQ,GAAGzB,MAAM,CAACiB,CAAC,EAAEC,CAAC,EAAEC,WAAW,CAAC;EAC1CpB,QAAQ,CAAC,UAAAa,KAAK,EAAI;IAChB,IAAIH,MAAM,KAAKC,QAAQ,IAAIc,KAAK,GAAGf,MAAM,EAAE;MACzCG,KAAK,CAACc,EAAE,CAACC,eAAe,CAACF,QAAQ,CAAC;MAClCb,KAAK,CAACc,EAAE,CAACE,MAAM,CAAChB,KAAK,CAACiB,KAAK,EAAEjB,KAAK,CAACkB,MAAM,CAAC;MAC1ClB,KAAK,CAACc,EAAE,CAACC,eAAe,CAAC,IAAI,CAAC;MAC9BH,KAAK,EAAE;IACT;EACF,CAAC,CAAC;EACF,OAAOC,QAAQ,CAACJ,YAAY;AAC9B;AAEA,SAASpB,cAAc"},"metadata":{},"sourceType":"module","externalDependencies":[]}