{"ast":null,"code":"import _createClass from \"/home/krug/Coding/JavaScript/Websites/Personal/personal/node_modules/.pnpm/@babel+runtime@7.22.3/node_modules/@babel/runtime/helpers/esm/createClass.js\";\nimport _classCallCheck from \"/home/krug/Coding/JavaScript/Websites/Personal/personal/node_modules/.pnpm/@babel+runtime@7.22.3/node_modules/@babel/runtime/helpers/esm/classCallCheck.js\";\nimport _assertThisInitialized from \"/home/krug/Coding/JavaScript/Websites/Personal/personal/node_modules/.pnpm/@babel+runtime@7.22.3/node_modules/@babel/runtime/helpers/esm/assertThisInitialized.js\";\nimport _inherits from \"/home/krug/Coding/JavaScript/Websites/Personal/personal/node_modules/.pnpm/@babel+runtime@7.22.3/node_modules/@babel/runtime/helpers/esm/inherits.js\";\nimport _createSuper from \"/home/krug/Coding/JavaScript/Websites/Personal/personal/node_modules/.pnpm/@babel+runtime@7.22.3/node_modules/@babel/runtime/helpers/esm/createSuper.js\";\nvar __defProp = Object.defineProperty;\nvar __defNormalProp = function __defNormalProp(obj, key, value) {\n  return key in obj ? __defProp(obj, key, {\n    enumerable: true,\n    configurable: true,\n    writable: true,\n    value: value\n  }) : obj[key] = value;\n};\nvar __publicField = function __publicField(obj, key, value) {\n  __defNormalProp(obj, typeof key !== \"symbol\" ? key + \"\" : key, value);\n  return value;\n};\nimport { Mesh, PerspectiveCamera, Color, Plane, Matrix4, WebGLRenderTarget, HalfFloatType, ShaderMaterial, UniformsUtils, Vector3, Quaternion, Vector4, NoToneMapping } from \"three\";\nvar _Refractor = /*#__PURE__*/function (_Mesh) {\n  _inherits(_Refractor, _Mesh);\n  var _super = _createSuper(_Refractor);\n  function _Refractor(geometry) {\n    var _this;\n    var options = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : {};\n    _classCallCheck(this, _Refractor);\n    _this = _super.call(this, geometry);\n    _this.isRefractor = true;\n    _this.type = \"Refractor\";\n    _this.camera = new PerspectiveCamera();\n    var scope = _assertThisInitialized(_this);\n    var color = options.color !== void 0 ? new Color(options.color) : new Color(8355711);\n    var textureWidth = options.textureWidth || 512;\n    var textureHeight = options.textureHeight || 512;\n    var clipBias = options.clipBias || 0;\n    var shader = options.shader || _Refractor.RefractorShader;\n    var multisample = options.multisample !== void 0 ? options.multisample : 4;\n    var virtualCamera = _this.camera;\n    virtualCamera.matrixAutoUpdate = false;\n    virtualCamera.userData.refractor = true;\n    var refractorPlane = new Plane();\n    var textureMatrix = new Matrix4();\n    var renderTarget = new WebGLRenderTarget(textureWidth, textureHeight, {\n      samples: multisample,\n      type: HalfFloatType\n    });\n    _this.material = new ShaderMaterial({\n      uniforms: UniformsUtils.clone(shader.uniforms),\n      vertexShader: shader.vertexShader,\n      fragmentShader: shader.fragmentShader,\n      transparent: true\n      // ensures, refractors are drawn from farthest to closest\n    });\n\n    _this.material.uniforms[\"color\"].value = color;\n    _this.material.uniforms[\"tDiffuse\"].value = renderTarget.texture;\n    _this.material.uniforms[\"textureMatrix\"].value = textureMatrix;\n    var visible = function () {\n      var refractorWorldPosition = new Vector3();\n      var cameraWorldPosition = new Vector3();\n      var rotationMatrix = new Matrix4();\n      var view = new Vector3();\n      var normal = new Vector3();\n      return function visible2(camera) {\n        refractorWorldPosition.setFromMatrixPosition(scope.matrixWorld);\n        cameraWorldPosition.setFromMatrixPosition(camera.matrixWorld);\n        view.subVectors(refractorWorldPosition, cameraWorldPosition);\n        rotationMatrix.extractRotation(scope.matrixWorld);\n        normal.set(0, 0, 1);\n        normal.applyMatrix4(rotationMatrix);\n        return view.dot(normal) < 0;\n      };\n    }();\n    var updateRefractorPlane = function () {\n      var normal = new Vector3();\n      var position = new Vector3();\n      var quaternion = new Quaternion();\n      var scale = new Vector3();\n      return function updateRefractorPlane2() {\n        scope.matrixWorld.decompose(position, quaternion, scale);\n        normal.set(0, 0, 1).applyQuaternion(quaternion).normalize();\n        normal.negate();\n        refractorPlane.setFromNormalAndCoplanarPoint(normal, position);\n      };\n    }();\n    var updateVirtualCamera = function () {\n      var clipPlane = new Plane();\n      var clipVector = new Vector4();\n      var q = new Vector4();\n      return function updateVirtualCamera2(camera) {\n        virtualCamera.matrixWorld.copy(camera.matrixWorld);\n        virtualCamera.matrixWorldInverse.copy(virtualCamera.matrixWorld).invert();\n        virtualCamera.projectionMatrix.copy(camera.projectionMatrix);\n        virtualCamera.far = camera.far;\n        clipPlane.copy(refractorPlane);\n        clipPlane.applyMatrix4(virtualCamera.matrixWorldInverse);\n        clipVector.set(clipPlane.normal.x, clipPlane.normal.y, clipPlane.normal.z, clipPlane.constant);\n        var projectionMatrix = virtualCamera.projectionMatrix;\n        q.x = (Math.sign(clipVector.x) + projectionMatrix.elements[8]) / projectionMatrix.elements[0];\n        q.y = (Math.sign(clipVector.y) + projectionMatrix.elements[9]) / projectionMatrix.elements[5];\n        q.z = -1;\n        q.w = (1 + projectionMatrix.elements[10]) / projectionMatrix.elements[14];\n        clipVector.multiplyScalar(2 / clipVector.dot(q));\n        projectionMatrix.elements[2] = clipVector.x;\n        projectionMatrix.elements[6] = clipVector.y;\n        projectionMatrix.elements[10] = clipVector.z + 1 - clipBias;\n        projectionMatrix.elements[14] = clipVector.w;\n      };\n    }();\n    function updateTextureMatrix(camera) {\n      textureMatrix.set(0.5, 0, 0, 0.5, 0, 0.5, 0, 0.5, 0, 0, 0.5, 0.5, 0, 0, 0, 1);\n      textureMatrix.multiply(camera.projectionMatrix);\n      textureMatrix.multiply(camera.matrixWorldInverse);\n      textureMatrix.multiply(scope.matrixWorld);\n    }\n    function render(renderer, scene, camera) {\n      scope.visible = false;\n      var currentRenderTarget = renderer.getRenderTarget();\n      var currentXrEnabled = renderer.xr.enabled;\n      var currentShadowAutoUpdate = renderer.shadowMap.autoUpdate;\n      var currentToneMapping = renderer.toneMapping;\n      var isSRGB = false;\n      if (\"outputColorSpace\" in renderer) isSRGB = renderer.outputColorSpace === \"srgb\";else isSRGB = renderer.outputEncoding === 3001;\n      renderer.xr.enabled = false;\n      renderer.shadowMap.autoUpdate = false;\n      if (\"outputColorSpace\" in renderer) renderer.outputColorSpace = \"linear-srgb\";else renderer.outputEncoding = 3e3;\n      renderer.toneMapping = NoToneMapping;\n      renderer.setRenderTarget(renderTarget);\n      if (renderer.autoClear === false) renderer.clear();\n      renderer.render(scene, virtualCamera);\n      renderer.xr.enabled = currentXrEnabled;\n      renderer.shadowMap.autoUpdate = currentShadowAutoUpdate;\n      renderer.toneMapping = currentToneMapping;\n      renderer.setRenderTarget(currentRenderTarget);\n      if (\"outputColorSpace\" in renderer) renderer.outputColorSpace = isSRGB ? \"srgb\" : \"srgb-linear\";else renderer.outputEncoding = isSRGB ? 3001 : 3e3;\n      var viewport = camera.viewport;\n      if (viewport !== void 0) {\n        renderer.state.viewport(viewport);\n      }\n      scope.visible = true;\n    }\n    _this.onBeforeRender = function (renderer, scene, camera) {\n      if (camera.userData.refractor === true) return;\n      if (!visible(camera) === true) return;\n      updateRefractorPlane();\n      updateTextureMatrix(camera);\n      updateVirtualCamera(camera);\n      render(renderer, scene, camera);\n    };\n    _this.getRenderTarget = function () {\n      return renderTarget;\n    };\n    _this.dispose = function () {\n      renderTarget.dispose();\n      scope.material.dispose();\n    };\n    return _this;\n  }\n  return _createClass(_Refractor);\n}(Mesh);\nvar Refractor = _Refractor;\n__publicField(Refractor, \"RefractorShader\", {\n  uniforms: {\n    color: {\n      value: null\n    },\n    tDiffuse: {\n      value: null\n    },\n    textureMatrix: {\n      value: null\n    }\n  },\n  vertexShader: /* glsl */\"\\n\\n\\t\\tuniform mat4 textureMatrix;\\n\\n\\t\\tvarying vec4 vUv;\\n\\n\\t\\tvoid main() {\\n\\n\\t\\t\\tvUv = textureMatrix * vec4( position, 1.0 );\\n\\t\\t\\tgl_Position = projectionMatrix * modelViewMatrix * vec4( position, 1.0 );\\n\\n\\t\\t}\",\n  fragmentShader: /* glsl */\"\\n\\n\\t\\tuniform vec3 color;\\n\\t\\tuniform sampler2D tDiffuse;\\n\\n\\t\\tvarying vec4 vUv;\\n\\n\\t\\tfloat blendOverlay( float base, float blend ) {\\n\\n\\t\\t\\treturn( base < 0.5 ? ( 2.0 * base * blend ) : ( 1.0 - 2.0 * ( 1.0 - base ) * ( 1.0 - blend ) ) );\\n\\n\\t\\t}\\n\\n\\t\\tvec3 blendOverlay( vec3 base, vec3 blend ) {\\n\\n\\t\\t\\treturn vec3( blendOverlay( base.r, blend.r ), blendOverlay( base.g, blend.g ), blendOverlay( base.b, blend.b ) );\\n\\n\\t\\t}\\n\\n\\t\\tvoid main() {\\n\\n\\t\\t\\tvec4 base = texture2DProj( tDiffuse, vUv );\\n\\t\\t\\tgl_FragColor = vec4( blendOverlay( base.rgb, color ), 1.0 );\\n\\n\\t\\t\\t#include <tonemapping_fragment>\\n\\t\\t\\t#include <encodings_fragment>\\n\\n\\t\\t}\"\n});\nexport { Refractor };","map":{"version":3,"names":["__defProp","Object","defineProperty","__defNormalProp","obj","key","value","enumerable","configurable","writable","__publicField","Mesh","PerspectiveCamera","Color","Plane","Matrix4","WebGLRenderTarget","HalfFloatType","ShaderMaterial","UniformsUtils","Vector3","Quaternion","Vector4","NoToneMapping","_Refractor","_Mesh","_inherits","_super","_createSuper","geometry","_this","options","arguments","length","undefined","_classCallCheck","call","isRefractor","type","camera","scope","_assertThisInitialized","color","textureWidth","textureHeight","clipBias","shader","RefractorShader","multisample","virtualCamera","matrixAutoUpdate","userData","refractor","refractorPlane","textureMatrix","renderTarget","samples","material","uniforms","clone","vertexShader","fragmentShader","transparent","texture","visible","refractorWorldPosition","cameraWorldPosition","rotationMatrix","view","normal","visible2","setFromMatrixPosition","matrixWorld","subVectors","extractRotation","set","applyMatrix4","dot","updateRefractorPlane","position","quaternion","scale","updateRefractorPlane2","decompose","applyQuaternion","normalize","negate","setFromNormalAndCoplanarPoint","updateVirtualCamera","clipPlane","clipVector","q","updateVirtualCamera2","copy","matrixWorldInverse","invert","projectionMatrix","far","x","y","z","constant","Math","sign","elements","w","multiplyScalar","updateTextureMatrix","multiply","render","renderer","scene","currentRenderTarget","getRenderTarget","currentXrEnabled","xr","enabled","currentShadowAutoUpdate","shadowMap","autoUpdate","currentToneMapping","toneMapping","isSRGB","outputColorSpace","outputEncoding","setRenderTarget","autoClear","clear","viewport","state","onBeforeRender","dispose","_createClass","Refractor","tDiffuse"],"sources":["/home/krug/Coding/JavaScript/Websites/Personal/personal/node_modules/.pnpm/three-stdlib@2.23.7_three@0.151.3/node_modules/three-stdlib/objects/Refractor.js"],"sourcesContent":["var __defProp = Object.defineProperty;\nvar __defNormalProp = (obj, key, value) => key in obj ? __defProp(obj, key, { enumerable: true, configurable: true, writable: true, value }) : obj[key] = value;\nvar __publicField = (obj, key, value) => {\n  __defNormalProp(obj, typeof key !== \"symbol\" ? key + \"\" : key, value);\n  return value;\n};\nimport { Mesh, PerspectiveCamera, Color, Plane, Matrix4, WebGLRenderTarget, HalfFloatType, ShaderMaterial, UniformsUtils, Vector3, Quaternion, Vector4, NoToneMapping } from \"three\";\nconst _Refractor = class extends Mesh {\n  constructor(geometry, options = {}) {\n    super(geometry);\n    this.isRefractor = true;\n    this.type = \"Refractor\";\n    this.camera = new PerspectiveCamera();\n    const scope = this;\n    const color = options.color !== void 0 ? new Color(options.color) : new Color(8355711);\n    const textureWidth = options.textureWidth || 512;\n    const textureHeight = options.textureHeight || 512;\n    const clipBias = options.clipBias || 0;\n    const shader = options.shader || _Refractor.RefractorShader;\n    const multisample = options.multisample !== void 0 ? options.multisample : 4;\n    const virtualCamera = this.camera;\n    virtualCamera.matrixAutoUpdate = false;\n    virtualCamera.userData.refractor = true;\n    const refractorPlane = new Plane();\n    const textureMatrix = new Matrix4();\n    const renderTarget = new WebGLRenderTarget(textureWidth, textureHeight, {\n      samples: multisample,\n      type: HalfFloatType\n    });\n    this.material = new ShaderMaterial({\n      uniforms: UniformsUtils.clone(shader.uniforms),\n      vertexShader: shader.vertexShader,\n      fragmentShader: shader.fragmentShader,\n      transparent: true\n      // ensures, refractors are drawn from farthest to closest\n    });\n    this.material.uniforms[\"color\"].value = color;\n    this.material.uniforms[\"tDiffuse\"].value = renderTarget.texture;\n    this.material.uniforms[\"textureMatrix\"].value = textureMatrix;\n    const visible = function() {\n      const refractorWorldPosition = new Vector3();\n      const cameraWorldPosition = new Vector3();\n      const rotationMatrix = new Matrix4();\n      const view = new Vector3();\n      const normal = new Vector3();\n      return function visible2(camera) {\n        refractorWorldPosition.setFromMatrixPosition(scope.matrixWorld);\n        cameraWorldPosition.setFromMatrixPosition(camera.matrixWorld);\n        view.subVectors(refractorWorldPosition, cameraWorldPosition);\n        rotationMatrix.extractRotation(scope.matrixWorld);\n        normal.set(0, 0, 1);\n        normal.applyMatrix4(rotationMatrix);\n        return view.dot(normal) < 0;\n      };\n    }();\n    const updateRefractorPlane = function() {\n      const normal = new Vector3();\n      const position = new Vector3();\n      const quaternion = new Quaternion();\n      const scale = new Vector3();\n      return function updateRefractorPlane2() {\n        scope.matrixWorld.decompose(position, quaternion, scale);\n        normal.set(0, 0, 1).applyQuaternion(quaternion).normalize();\n        normal.negate();\n        refractorPlane.setFromNormalAndCoplanarPoint(normal, position);\n      };\n    }();\n    const updateVirtualCamera = function() {\n      const clipPlane = new Plane();\n      const clipVector = new Vector4();\n      const q = new Vector4();\n      return function updateVirtualCamera2(camera) {\n        virtualCamera.matrixWorld.copy(camera.matrixWorld);\n        virtualCamera.matrixWorldInverse.copy(virtualCamera.matrixWorld).invert();\n        virtualCamera.projectionMatrix.copy(camera.projectionMatrix);\n        virtualCamera.far = camera.far;\n        clipPlane.copy(refractorPlane);\n        clipPlane.applyMatrix4(virtualCamera.matrixWorldInverse);\n        clipVector.set(clipPlane.normal.x, clipPlane.normal.y, clipPlane.normal.z, clipPlane.constant);\n        const projectionMatrix = virtualCamera.projectionMatrix;\n        q.x = (Math.sign(clipVector.x) + projectionMatrix.elements[8]) / projectionMatrix.elements[0];\n        q.y = (Math.sign(clipVector.y) + projectionMatrix.elements[9]) / projectionMatrix.elements[5];\n        q.z = -1;\n        q.w = (1 + projectionMatrix.elements[10]) / projectionMatrix.elements[14];\n        clipVector.multiplyScalar(2 / clipVector.dot(q));\n        projectionMatrix.elements[2] = clipVector.x;\n        projectionMatrix.elements[6] = clipVector.y;\n        projectionMatrix.elements[10] = clipVector.z + 1 - clipBias;\n        projectionMatrix.elements[14] = clipVector.w;\n      };\n    }();\n    function updateTextureMatrix(camera) {\n      textureMatrix.set(0.5, 0, 0, 0.5, 0, 0.5, 0, 0.5, 0, 0, 0.5, 0.5, 0, 0, 0, 1);\n      textureMatrix.multiply(camera.projectionMatrix);\n      textureMatrix.multiply(camera.matrixWorldInverse);\n      textureMatrix.multiply(scope.matrixWorld);\n    }\n    function render(renderer, scene, camera) {\n      scope.visible = false;\n      const currentRenderTarget = renderer.getRenderTarget();\n      const currentXrEnabled = renderer.xr.enabled;\n      const currentShadowAutoUpdate = renderer.shadowMap.autoUpdate;\n      const currentToneMapping = renderer.toneMapping;\n      let isSRGB = false;\n      if (\"outputColorSpace\" in renderer)\n        isSRGB = renderer.outputColorSpace === \"srgb\";\n      else\n        isSRGB = renderer.outputEncoding === 3001;\n      renderer.xr.enabled = false;\n      renderer.shadowMap.autoUpdate = false;\n      if (\"outputColorSpace\" in renderer)\n        renderer.outputColorSpace = \"linear-srgb\";\n      else\n        renderer.outputEncoding = 3e3;\n      renderer.toneMapping = NoToneMapping;\n      renderer.setRenderTarget(renderTarget);\n      if (renderer.autoClear === false)\n        renderer.clear();\n      renderer.render(scene, virtualCamera);\n      renderer.xr.enabled = currentXrEnabled;\n      renderer.shadowMap.autoUpdate = currentShadowAutoUpdate;\n      renderer.toneMapping = currentToneMapping;\n      renderer.setRenderTarget(currentRenderTarget);\n      if (\"outputColorSpace\" in renderer)\n        renderer.outputColorSpace = isSRGB ? \"srgb\" : \"srgb-linear\";\n      else\n        renderer.outputEncoding = isSRGB ? 3001 : 3e3;\n      const viewport = camera.viewport;\n      if (viewport !== void 0) {\n        renderer.state.viewport(viewport);\n      }\n      scope.visible = true;\n    }\n    this.onBeforeRender = function(renderer, scene, camera) {\n      if (camera.userData.refractor === true)\n        return;\n      if (!visible(camera) === true)\n        return;\n      updateRefractorPlane();\n      updateTextureMatrix(camera);\n      updateVirtualCamera(camera);\n      render(renderer, scene, camera);\n    };\n    this.getRenderTarget = function() {\n      return renderTarget;\n    };\n    this.dispose = function() {\n      renderTarget.dispose();\n      scope.material.dispose();\n    };\n  }\n};\nlet Refractor = _Refractor;\n__publicField(Refractor, \"RefractorShader\", {\n  uniforms: {\n    color: {\n      value: null\n    },\n    tDiffuse: {\n      value: null\n    },\n    textureMatrix: {\n      value: null\n    }\n  },\n  vertexShader: (\n    /* glsl */\n    `\n\n\t\tuniform mat4 textureMatrix;\n\n\t\tvarying vec4 vUv;\n\n\t\tvoid main() {\n\n\t\t\tvUv = textureMatrix * vec4( position, 1.0 );\n\t\t\tgl_Position = projectionMatrix * modelViewMatrix * vec4( position, 1.0 );\n\n\t\t}`\n  ),\n  fragmentShader: (\n    /* glsl */\n    `\n\n\t\tuniform vec3 color;\n\t\tuniform sampler2D tDiffuse;\n\n\t\tvarying vec4 vUv;\n\n\t\tfloat blendOverlay( float base, float blend ) {\n\n\t\t\treturn( base < 0.5 ? ( 2.0 * base * blend ) : ( 1.0 - 2.0 * ( 1.0 - base ) * ( 1.0 - blend ) ) );\n\n\t\t}\n\n\t\tvec3 blendOverlay( vec3 base, vec3 blend ) {\n\n\t\t\treturn vec3( blendOverlay( base.r, blend.r ), blendOverlay( base.g, blend.g ), blendOverlay( base.b, blend.b ) );\n\n\t\t}\n\n\t\tvoid main() {\n\n\t\t\tvec4 base = texture2DProj( tDiffuse, vUv );\n\t\t\tgl_FragColor = vec4( blendOverlay( base.rgb, color ), 1.0 );\n\n\t\t\t#include <tonemapping_fragment>\n\t\t\t#include <encodings_fragment>\n\n\t\t}`\n  )\n});\nexport {\n  Refractor\n};\n"],"mappings":"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"},"metadata":{},"sourceType":"module","externalDependencies":[]}