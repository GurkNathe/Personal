{"ast":null,"code":"import _toConsumableArray from \"/home/krug/Coding/JavaScript/Websites/Personal/personal/node_modules/.pnpm/@babel+runtime@7.22.3/node_modules/@babel/runtime/helpers/esm/toConsumableArray.js\";\nimport _createForOfIteratorHelper from \"/home/krug/Coding/JavaScript/Websites/Personal/personal/node_modules/.pnpm/@babel+runtime@7.22.3/node_modules/@babel/runtime/helpers/esm/createForOfIteratorHelper.js\";\nimport _classCallCheck from \"/home/krug/Coding/JavaScript/Websites/Personal/personal/node_modules/.pnpm/@babel+runtime@7.22.3/node_modules/@babel/runtime/helpers/esm/classCallCheck.js\";\nimport _createClass from \"/home/krug/Coding/JavaScript/Websites/Personal/personal/node_modules/.pnpm/@babel+runtime@7.22.3/node_modules/@babel/runtime/helpers/esm/createClass.js\";\nimport _slicedToArray from \"/home/krug/Coding/JavaScript/Websites/Personal/personal/node_modules/.pnpm/@babel+runtime@7.22.3/node_modules/@babel/runtime/helpers/esm/slicedToArray.js\";\nimport { S as SUPPORT, C as ConfigResolverMap, _ as _objectSpread2, a as _defineProperty, t as toDomEventType, i as isTouch, b as touchIds, E as EngineMap, c as chain, p as parseProp, d as toHandlerProp } from './actions-76b8683e.esm.js';\nimport './maths-0ab39ae9.esm.js';\nfunction _objectWithoutPropertiesLoose(source, excluded) {\n  if (source == null) return {};\n  var target = {};\n  var sourceKeys = Object.keys(source);\n  var key, i;\n  for (i = 0; i < sourceKeys.length; i++) {\n    key = sourceKeys[i];\n    if (excluded.indexOf(key) >= 0) continue;\n    target[key] = source[key];\n  }\n  return target;\n}\nfunction _objectWithoutProperties(source, excluded) {\n  if (source == null) return {};\n  var target = _objectWithoutPropertiesLoose(source, excluded);\n  var key, i;\n  if (Object.getOwnPropertySymbols) {\n    var sourceSymbolKeys = Object.getOwnPropertySymbols(source);\n    for (i = 0; i < sourceSymbolKeys.length; i++) {\n      key = sourceSymbolKeys[i];\n      if (excluded.indexOf(key) >= 0) continue;\n      if (!Object.prototype.propertyIsEnumerable.call(source, key)) continue;\n      target[key] = source[key];\n    }\n  }\n  return target;\n}\nvar sharedConfigResolver = {\n  target: function target(value) {\n    if (value) {\n      return function () {\n        return 'current' in value ? value.current : value;\n      };\n    }\n    return undefined;\n  },\n  enabled: function enabled() {\n    var value = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : true;\n    return value;\n  },\n  window: function (_window) {\n    function window() {\n      return _window.apply(this, arguments);\n    }\n    window.toString = function () {\n      return _window.toString();\n    };\n    return window;\n  }(function () {\n    var value = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : SUPPORT.isBrowser ? window : undefined;\n    return value;\n  }),\n  eventOptions: function eventOptions() {\n    var _ref2 = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : {},\n      _ref2$passive = _ref2.passive,\n      passive = _ref2$passive === void 0 ? true : _ref2$passive,\n      _ref2$capture = _ref2.capture,\n      capture = _ref2$capture === void 0 ? false : _ref2$capture;\n    return {\n      passive: passive,\n      capture: capture\n    };\n  },\n  transform: function transform(value) {\n    return value;\n  }\n};\nvar _excluded = [\"target\", \"eventOptions\", \"window\", \"enabled\", \"transform\"];\nfunction resolveWith() {\n  var config = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : {};\n  var resolvers = arguments.length > 1 ? arguments[1] : undefined;\n  var result = {};\n  for (var _i = 0, _Object$entries = Object.entries(resolvers); _i < _Object$entries.length; _i++) {\n    var _Object$entries$_i = _slicedToArray(_Object$entries[_i], 2),\n      key = _Object$entries$_i[0],\n      resolver = _Object$entries$_i[1];\n    switch (typeof resolver) {\n      case 'function':\n        if (process.env.NODE_ENV === 'development') {\n          var r = resolver.call(result, config[key], key, config);\n          if (!Number.isNaN(r)) result[key] = r;\n        } else {\n          result[key] = resolver.call(result, config[key], key, config);\n        }\n        break;\n      case 'object':\n        result[key] = resolveWith(config[key], resolver);\n        break;\n      case 'boolean':\n        if (resolver) result[key] = config[key];\n        break;\n    }\n  }\n  return result;\n}\nfunction parse(newConfig, gestureKey) {\n  var _config = arguments.length > 2 && arguments[2] !== undefined ? arguments[2] : {};\n  var _ref = newConfig,\n    target = _ref.target,\n    eventOptions = _ref.eventOptions,\n    window = _ref.window,\n    enabled = _ref.enabled,\n    transform = _ref.transform,\n    rest = _objectWithoutProperties(_ref, _excluded);\n  _config.shared = resolveWith({\n    target: target,\n    eventOptions: eventOptions,\n    window: window,\n    enabled: enabled,\n    transform: transform\n  }, sharedConfigResolver);\n  if (gestureKey) {\n    var resolver = ConfigResolverMap.get(gestureKey);\n    _config[gestureKey] = resolveWith(_objectSpread2({\n      shared: _config.shared\n    }, rest), resolver);\n  } else {\n    for (var key in rest) {\n      var _resolver = ConfigResolverMap.get(key);\n      if (_resolver) {\n        _config[key] = resolveWith(_objectSpread2({\n          shared: _config.shared\n        }, rest[key]), _resolver);\n      } else if (process.env.NODE_ENV === 'development') {\n        if (!['drag', 'pinch', 'scroll', 'wheel', 'move', 'hover'].includes(key)) {\n          if (key === 'domTarget') {\n            throw Error(\"[@use-gesture]: `domTarget` option has been renamed to `target`.\");\n          }\n          console.warn(\"[@use-gesture]: Unknown config key `\".concat(key, \"` was used. Please read the documentation for further information.\"));\n        }\n      }\n    }\n  }\n  return _config;\n}\nvar EventStore = /*#__PURE__*/function () {\n  function EventStore(ctrl, gestureKey) {\n    _classCallCheck(this, EventStore);\n    _defineProperty(this, \"_listeners\", new Set());\n    this._ctrl = ctrl;\n    this._gestureKey = gestureKey;\n  }\n  _createClass(EventStore, [{\n    key: \"add\",\n    value: function add(element, device, action, handler, options) {\n      var listeners = this._listeners;\n      var type = toDomEventType(device, action);\n      var _options = this._gestureKey ? this._ctrl.config[this._gestureKey].eventOptions : {};\n      var eventOptions = _objectSpread2(_objectSpread2({}, _options), options);\n      element.addEventListener(type, handler, eventOptions);\n      var remove = function remove() {\n        element.removeEventListener(type, handler, eventOptions);\n        listeners.delete(remove);\n      };\n      listeners.add(remove);\n      return remove;\n    }\n  }, {\n    key: \"clean\",\n    value: function clean() {\n      this._listeners.forEach(function (remove) {\n        return remove();\n      });\n      this._listeners.clear();\n    }\n  }]);\n  return EventStore;\n}();\nvar TimeoutStore = /*#__PURE__*/function () {\n  function TimeoutStore() {\n    _classCallCheck(this, TimeoutStore);\n    _defineProperty(this, \"_timeouts\", new Map());\n  }\n  _createClass(TimeoutStore, [{\n    key: \"add\",\n    value: function add(key, callback) {\n      var _window2;\n      var ms = arguments.length > 2 && arguments[2] !== undefined ? arguments[2] : 140;\n      this.remove(key);\n      for (var _len = arguments.length, args = new Array(_len > 3 ? _len - 3 : 0), _key = 3; _key < _len; _key++) {\n        args[_key - 3] = arguments[_key];\n      }\n      this._timeouts.set(key, (_window2 = window).setTimeout.apply(_window2, [callback, ms].concat(args)));\n    }\n  }, {\n    key: \"remove\",\n    value: function remove(key) {\n      var timeout = this._timeouts.get(key);\n      if (timeout) window.clearTimeout(timeout);\n    }\n  }, {\n    key: \"clean\",\n    value: function clean() {\n      this._timeouts.forEach(function (timeout) {\n        return void window.clearTimeout(timeout);\n      });\n      this._timeouts.clear();\n    }\n  }]);\n  return TimeoutStore;\n}();\nvar Controller = /*#__PURE__*/function () {\n  function Controller(handlers) {\n    _classCallCheck(this, Controller);\n    _defineProperty(this, \"gestures\", new Set());\n    _defineProperty(this, \"_targetEventStore\", new EventStore(this));\n    _defineProperty(this, \"gestureEventStores\", {});\n    _defineProperty(this, \"gestureTimeoutStores\", {});\n    _defineProperty(this, \"handlers\", {});\n    _defineProperty(this, \"config\", {});\n    _defineProperty(this, \"pointerIds\", new Set());\n    _defineProperty(this, \"touchIds\", new Set());\n    _defineProperty(this, \"state\", {\n      shared: {\n        shiftKey: false,\n        metaKey: false,\n        ctrlKey: false,\n        altKey: false\n      }\n    });\n    resolveGestures(this, handlers);\n  }\n  _createClass(Controller, [{\n    key: \"setEventIds\",\n    value: function setEventIds(event) {\n      if (isTouch(event)) {\n        this.touchIds = new Set(touchIds(event));\n        return this.touchIds;\n      } else if ('pointerId' in event) {\n        if (event.type === 'pointerup' || event.type === 'pointercancel') this.pointerIds.delete(event.pointerId);else if (event.type === 'pointerdown') this.pointerIds.add(event.pointerId);\n        return this.pointerIds;\n      }\n    }\n  }, {\n    key: \"applyHandlers\",\n    value: function applyHandlers(handlers, nativeHandlers) {\n      this.handlers = handlers;\n      this.nativeHandlers = nativeHandlers;\n    }\n  }, {\n    key: \"applyConfig\",\n    value: function applyConfig(config, gestureKey) {\n      this.config = parse(config, gestureKey, this.config);\n    }\n  }, {\n    key: \"clean\",\n    value: function clean() {\n      this._targetEventStore.clean();\n      var _iterator = _createForOfIteratorHelper(this.gestures),\n        _step;\n      try {\n        for (_iterator.s(); !(_step = _iterator.n()).done;) {\n          var key = _step.value;\n          this.gestureEventStores[key].clean();\n          this.gestureTimeoutStores[key].clean();\n        }\n      } catch (err) {\n        _iterator.e(err);\n      } finally {\n        _iterator.f();\n      }\n    }\n  }, {\n    key: \"effect\",\n    value: function effect() {\n      var _this = this;\n      if (this.config.shared.target) this.bind();\n      return function () {\n        return _this._targetEventStore.clean();\n      };\n    }\n  }, {\n    key: \"bind\",\n    value: function bind() {\n      var _this2 = this;\n      for (var _len2 = arguments.length, args = new Array(_len2), _key2 = 0; _key2 < _len2; _key2++) {\n        args[_key2] = arguments[_key2];\n      }\n      var sharedConfig = this.config.shared;\n      var props = {};\n      var target;\n      if (sharedConfig.target) {\n        target = sharedConfig.target();\n        if (!target) return;\n      }\n      if (sharedConfig.enabled) {\n        var _iterator2 = _createForOfIteratorHelper(this.gestures),\n          _step2;\n        try {\n          for (_iterator2.s(); !(_step2 = _iterator2.n()).done;) {\n            var gestureKey = _step2.value;\n            var gestureConfig = this.config[gestureKey];\n            var bindFunction = bindToProps(props, gestureConfig.eventOptions, !!target);\n            if (gestureConfig.enabled) {\n              var Engine = EngineMap.get(gestureKey);\n              new Engine(this, args, gestureKey).bind(bindFunction);\n            }\n          }\n        } catch (err) {\n          _iterator2.e(err);\n        } finally {\n          _iterator2.f();\n        }\n        var nativeBindFunction = bindToProps(props, sharedConfig.eventOptions, !!target);\n        var _loop = function _loop(eventKey) {\n          nativeBindFunction(eventKey, '', function (event) {\n            return _this2.nativeHandlers[eventKey](_objectSpread2(_objectSpread2({}, _this2.state.shared), {}, {\n              event: event,\n              args: args\n            }));\n          }, undefined, true);\n        };\n        for (var eventKey in this.nativeHandlers) {\n          _loop(eventKey);\n        }\n      }\n      for (var handlerProp in props) {\n        props[handlerProp] = chain.apply(void 0, _toConsumableArray(props[handlerProp]));\n      }\n      if (!target) return props;\n      for (var _handlerProp in props) {\n        var _parseProp = parseProp(_handlerProp),\n          device = _parseProp.device,\n          capture = _parseProp.capture,\n          passive = _parseProp.passive;\n        this._targetEventStore.add(target, device, '', props[_handlerProp], {\n          capture: capture,\n          passive: passive\n        });\n      }\n    }\n  }]);\n  return Controller;\n}();\nfunction setupGesture(ctrl, gestureKey) {\n  ctrl.gestures.add(gestureKey);\n  ctrl.gestureEventStores[gestureKey] = new EventStore(ctrl, gestureKey);\n  ctrl.gestureTimeoutStores[gestureKey] = new TimeoutStore();\n}\nfunction resolveGestures(ctrl, internalHandlers) {\n  if (internalHandlers.drag) setupGesture(ctrl, 'drag');\n  if (internalHandlers.wheel) setupGesture(ctrl, 'wheel');\n  if (internalHandlers.scroll) setupGesture(ctrl, 'scroll');\n  if (internalHandlers.move) setupGesture(ctrl, 'move');\n  if (internalHandlers.pinch) setupGesture(ctrl, 'pinch');\n  if (internalHandlers.hover) setupGesture(ctrl, 'hover');\n}\nvar bindToProps = function bindToProps(props, eventOptions, withPassiveOption) {\n  return function (device, action, handler) {\n    var options = arguments.length > 3 && arguments[3] !== undefined ? arguments[3] : {};\n    var isNative = arguments.length > 4 && arguments[4] !== undefined ? arguments[4] : false;\n    var _options$capture, _options$passive;\n    var capture = (_options$capture = options.capture) !== null && _options$capture !== void 0 ? _options$capture : eventOptions.capture;\n    var passive = (_options$passive = options.passive) !== null && _options$passive !== void 0 ? _options$passive : eventOptions.passive;\n    var handlerProp = isNative ? device : toHandlerProp(device, action, capture);\n    if (withPassiveOption && passive) handlerProp += 'Passive';\n    props[handlerProp] = props[handlerProp] || [];\n    props[handlerProp].push(handler);\n  };\n};\nvar RE_NOT_NATIVE = /^on(Drag|Wheel|Scroll|Move|Pinch|Hover)/;\nfunction sortHandlers(_handlers) {\n  var native = {};\n  var handlers = {};\n  var actions = new Set();\n  for (var key in _handlers) {\n    if (RE_NOT_NATIVE.test(key)) {\n      actions.add(RegExp.lastMatch);\n      handlers[key] = _handlers[key];\n    } else {\n      native[key] = _handlers[key];\n    }\n  }\n  return [handlers, native, actions];\n}\nfunction registerGesture(actions, handlers, handlerKey, key, internalHandlers, config) {\n  if (!actions.has(handlerKey)) return;\n  if (!EngineMap.has(key)) {\n    if (process.env.NODE_ENV === 'development') {\n      console.warn(\"[@use-gesture]: You've created a custom handler that that uses the `\".concat(key, \"` gesture but isn't properly configured.\\n\\nPlease add `\").concat(key, \"Action` when creating your handler.\"));\n    }\n    return;\n  }\n  var startKey = handlerKey + 'Start';\n  var endKey = handlerKey + 'End';\n  var fn = function fn(state) {\n    var memo = undefined;\n    if (state.first && startKey in handlers) handlers[startKey](state);\n    if (handlerKey in handlers) memo = handlers[handlerKey](state);\n    if (state.last && endKey in handlers) handlers[endKey](state);\n    return memo;\n  };\n  internalHandlers[key] = fn;\n  config[key] = config[key] || {};\n}\nfunction parseMergedHandlers(mergedHandlers, mergedConfig) {\n  var _sortHandlers = sortHandlers(mergedHandlers),\n    _sortHandlers2 = _slicedToArray(_sortHandlers, 3),\n    handlers = _sortHandlers2[0],\n    nativeHandlers = _sortHandlers2[1],\n    actions = _sortHandlers2[2];\n  var internalHandlers = {};\n  registerGesture(actions, handlers, 'onDrag', 'drag', internalHandlers, mergedConfig);\n  registerGesture(actions, handlers, 'onWheel', 'wheel', internalHandlers, mergedConfig);\n  registerGesture(actions, handlers, 'onScroll', 'scroll', internalHandlers, mergedConfig);\n  registerGesture(actions, handlers, 'onPinch', 'pinch', internalHandlers, mergedConfig);\n  registerGesture(actions, handlers, 'onMove', 'move', internalHandlers, mergedConfig);\n  registerGesture(actions, handlers, 'onHover', 'hover', internalHandlers, mergedConfig);\n  return {\n    handlers: internalHandlers,\n    config: mergedConfig,\n    nativeHandlers: nativeHandlers\n  };\n}\nexport { Controller, parseMergedHandlers };","map":{"version":3,"names":["S","SUPPORT","C","ConfigResolverMap","_","_objectSpread2","a","_defineProperty","t","toDomEventType","i","isTouch","b","touchIds","E","EngineMap","c","chain","p","parseProp","d","toHandlerProp","_objectWithoutPropertiesLoose","source","excluded","target","sourceKeys","Object","keys","key","length","indexOf","_objectWithoutProperties","getOwnPropertySymbols","sourceSymbolKeys","prototype","propertyIsEnumerable","call","sharedConfigResolver","value","current","undefined","enabled","arguments","window","_window","apply","toString","isBrowser","eventOptions","_ref2","_ref2$passive","passive","_ref2$capture","capture","transform","_excluded","resolveWith","config","resolvers","result","_i","_Object$entries","entries","_Object$entries$_i","_slicedToArray","resolver","process","env","NODE_ENV","r","Number","isNaN","parse","newConfig","gestureKey","_config","_ref","rest","shared","get","includes","Error","console","warn","concat","EventStore","ctrl","_classCallCheck","Set","_ctrl","_gestureKey","_createClass","add","element","device","action","handler","options","listeners","_listeners","type","_options","addEventListener","remove","removeEventListener","delete","clean","forEach","clear","TimeoutStore","Map","callback","_window2","ms","_len","args","Array","_key","_timeouts","set","setTimeout","timeout","clearTimeout","Controller","handlers","shiftKey","metaKey","ctrlKey","altKey","resolveGestures","setEventIds","event","pointerIds","pointerId","applyHandlers","nativeHandlers","applyConfig","_targetEventStore","_iterator","_createForOfIteratorHelper","gestures","_step","s","n","done","gestureEventStores","gestureTimeoutStores","err","e","f","effect","_this","bind","_this2","_len2","_key2","sharedConfig","props","_iterator2","_step2","gestureConfig","bindFunction","bindToProps","Engine","nativeBindFunction","_loop","eventKey","state","handlerProp","_toConsumableArray","_parseProp","setupGesture","internalHandlers","drag","wheel","scroll","move","pinch","hover","withPassiveOption","isNative","_options$capture","_options$passive","push","RE_NOT_NATIVE","sortHandlers","_handlers","native","actions","test","RegExp","lastMatch","registerGesture","handlerKey","has","startKey","endKey","fn","memo","first","last","parseMergedHandlers","mergedHandlers","mergedConfig","_sortHandlers","_sortHandlers2"],"sources":["/home/krug/Coding/JavaScript/Websites/Personal/personal/node_modules/.pnpm/@use-gesture+core@10.2.27/node_modules/@use-gesture/core/dist/use-gesture-core.esm.js"],"sourcesContent":["import { S as SUPPORT, C as ConfigResolverMap, _ as _objectSpread2, a as _defineProperty, t as toDomEventType, i as isTouch, b as touchIds, E as EngineMap, c as chain, p as parseProp, d as toHandlerProp } from './actions-76b8683e.esm.js';\nimport './maths-0ab39ae9.esm.js';\n\nfunction _objectWithoutPropertiesLoose(source, excluded) {\n  if (source == null) return {};\n  var target = {};\n  var sourceKeys = Object.keys(source);\n  var key, i;\n  for (i = 0; i < sourceKeys.length; i++) {\n    key = sourceKeys[i];\n    if (excluded.indexOf(key) >= 0) continue;\n    target[key] = source[key];\n  }\n  return target;\n}\n\nfunction _objectWithoutProperties(source, excluded) {\n  if (source == null) return {};\n  var target = _objectWithoutPropertiesLoose(source, excluded);\n  var key, i;\n  if (Object.getOwnPropertySymbols) {\n    var sourceSymbolKeys = Object.getOwnPropertySymbols(source);\n    for (i = 0; i < sourceSymbolKeys.length; i++) {\n      key = sourceSymbolKeys[i];\n      if (excluded.indexOf(key) >= 0) continue;\n      if (!Object.prototype.propertyIsEnumerable.call(source, key)) continue;\n      target[key] = source[key];\n    }\n  }\n  return target;\n}\n\nconst sharedConfigResolver = {\n  target(value) {\n    if (value) {\n      return () => 'current' in value ? value.current : value;\n    }\n    return undefined;\n  },\n  enabled(value = true) {\n    return value;\n  },\n  window(value = SUPPORT.isBrowser ? window : undefined) {\n    return value;\n  },\n  eventOptions({\n    passive = true,\n    capture = false\n  } = {}) {\n    return {\n      passive,\n      capture\n    };\n  },\n  transform(value) {\n    return value;\n  }\n};\n\nconst _excluded = [\"target\", \"eventOptions\", \"window\", \"enabled\", \"transform\"];\nfunction resolveWith(config = {}, resolvers) {\n  const result = {};\n  for (const [key, resolver] of Object.entries(resolvers)) {\n    switch (typeof resolver) {\n      case 'function':\n        if (process.env.NODE_ENV === 'development') {\n          const r = resolver.call(result, config[key], key, config);\n          if (!Number.isNaN(r)) result[key] = r;\n        } else {\n          result[key] = resolver.call(result, config[key], key, config);\n        }\n        break;\n      case 'object':\n        result[key] = resolveWith(config[key], resolver);\n        break;\n      case 'boolean':\n        if (resolver) result[key] = config[key];\n        break;\n    }\n  }\n  return result;\n}\nfunction parse(newConfig, gestureKey, _config = {}) {\n  const _ref = newConfig,\n    {\n      target,\n      eventOptions,\n      window,\n      enabled,\n      transform\n    } = _ref,\n    rest = _objectWithoutProperties(_ref, _excluded);\n  _config.shared = resolveWith({\n    target,\n    eventOptions,\n    window,\n    enabled,\n    transform\n  }, sharedConfigResolver);\n  if (gestureKey) {\n    const resolver = ConfigResolverMap.get(gestureKey);\n    _config[gestureKey] = resolveWith(_objectSpread2({\n      shared: _config.shared\n    }, rest), resolver);\n  } else {\n    for (const key in rest) {\n      const resolver = ConfigResolverMap.get(key);\n      if (resolver) {\n        _config[key] = resolveWith(_objectSpread2({\n          shared: _config.shared\n        }, rest[key]), resolver);\n      } else if (process.env.NODE_ENV === 'development') {\n        if (!['drag', 'pinch', 'scroll', 'wheel', 'move', 'hover'].includes(key)) {\n          if (key === 'domTarget') {\n            throw Error(`[@use-gesture]: \\`domTarget\\` option has been renamed to \\`target\\`.`);\n          }\n          console.warn(`[@use-gesture]: Unknown config key \\`${key}\\` was used. Please read the documentation for further information.`);\n        }\n      }\n    }\n  }\n  return _config;\n}\n\nclass EventStore {\n  constructor(ctrl, gestureKey) {\n    _defineProperty(this, \"_listeners\", new Set());\n    this._ctrl = ctrl;\n    this._gestureKey = gestureKey;\n  }\n  add(element, device, action, handler, options) {\n    const listeners = this._listeners;\n    const type = toDomEventType(device, action);\n    const _options = this._gestureKey ? this._ctrl.config[this._gestureKey].eventOptions : {};\n    const eventOptions = _objectSpread2(_objectSpread2({}, _options), options);\n    element.addEventListener(type, handler, eventOptions);\n    const remove = () => {\n      element.removeEventListener(type, handler, eventOptions);\n      listeners.delete(remove);\n    };\n    listeners.add(remove);\n    return remove;\n  }\n  clean() {\n    this._listeners.forEach(remove => remove());\n    this._listeners.clear();\n  }\n}\n\nclass TimeoutStore {\n  constructor() {\n    _defineProperty(this, \"_timeouts\", new Map());\n  }\n  add(key, callback, ms = 140, ...args) {\n    this.remove(key);\n    this._timeouts.set(key, window.setTimeout(callback, ms, ...args));\n  }\n  remove(key) {\n    const timeout = this._timeouts.get(key);\n    if (timeout) window.clearTimeout(timeout);\n  }\n  clean() {\n    this._timeouts.forEach(timeout => void window.clearTimeout(timeout));\n    this._timeouts.clear();\n  }\n}\n\nclass Controller {\n  constructor(handlers) {\n    _defineProperty(this, \"gestures\", new Set());\n    _defineProperty(this, \"_targetEventStore\", new EventStore(this));\n    _defineProperty(this, \"gestureEventStores\", {});\n    _defineProperty(this, \"gestureTimeoutStores\", {});\n    _defineProperty(this, \"handlers\", {});\n    _defineProperty(this, \"config\", {});\n    _defineProperty(this, \"pointerIds\", new Set());\n    _defineProperty(this, \"touchIds\", new Set());\n    _defineProperty(this, \"state\", {\n      shared: {\n        shiftKey: false,\n        metaKey: false,\n        ctrlKey: false,\n        altKey: false\n      }\n    });\n    resolveGestures(this, handlers);\n  }\n  setEventIds(event) {\n    if (isTouch(event)) {\n      this.touchIds = new Set(touchIds(event));\n      return this.touchIds;\n    } else if ('pointerId' in event) {\n      if (event.type === 'pointerup' || event.type === 'pointercancel') this.pointerIds.delete(event.pointerId);else if (event.type === 'pointerdown') this.pointerIds.add(event.pointerId);\n      return this.pointerIds;\n    }\n  }\n  applyHandlers(handlers, nativeHandlers) {\n    this.handlers = handlers;\n    this.nativeHandlers = nativeHandlers;\n  }\n  applyConfig(config, gestureKey) {\n    this.config = parse(config, gestureKey, this.config);\n  }\n  clean() {\n    this._targetEventStore.clean();\n    for (const key of this.gestures) {\n      this.gestureEventStores[key].clean();\n      this.gestureTimeoutStores[key].clean();\n    }\n  }\n  effect() {\n    if (this.config.shared.target) this.bind();\n    return () => this._targetEventStore.clean();\n  }\n  bind(...args) {\n    const sharedConfig = this.config.shared;\n    const props = {};\n    let target;\n    if (sharedConfig.target) {\n      target = sharedConfig.target();\n      if (!target) return;\n    }\n    if (sharedConfig.enabled) {\n      for (const gestureKey of this.gestures) {\n        const gestureConfig = this.config[gestureKey];\n        const bindFunction = bindToProps(props, gestureConfig.eventOptions, !!target);\n        if (gestureConfig.enabled) {\n          const Engine = EngineMap.get(gestureKey);\n          new Engine(this, args, gestureKey).bind(bindFunction);\n        }\n      }\n      const nativeBindFunction = bindToProps(props, sharedConfig.eventOptions, !!target);\n      for (const eventKey in this.nativeHandlers) {\n        nativeBindFunction(eventKey, '', event => this.nativeHandlers[eventKey](_objectSpread2(_objectSpread2({}, this.state.shared), {}, {\n          event,\n          args\n        })), undefined, true);\n      }\n    }\n    for (const handlerProp in props) {\n      props[handlerProp] = chain(...props[handlerProp]);\n    }\n    if (!target) return props;\n    for (const handlerProp in props) {\n      const {\n        device,\n        capture,\n        passive\n      } = parseProp(handlerProp);\n      this._targetEventStore.add(target, device, '', props[handlerProp], {\n        capture,\n        passive\n      });\n    }\n  }\n}\nfunction setupGesture(ctrl, gestureKey) {\n  ctrl.gestures.add(gestureKey);\n  ctrl.gestureEventStores[gestureKey] = new EventStore(ctrl, gestureKey);\n  ctrl.gestureTimeoutStores[gestureKey] = new TimeoutStore();\n}\nfunction resolveGestures(ctrl, internalHandlers) {\n  if (internalHandlers.drag) setupGesture(ctrl, 'drag');\n  if (internalHandlers.wheel) setupGesture(ctrl, 'wheel');\n  if (internalHandlers.scroll) setupGesture(ctrl, 'scroll');\n  if (internalHandlers.move) setupGesture(ctrl, 'move');\n  if (internalHandlers.pinch) setupGesture(ctrl, 'pinch');\n  if (internalHandlers.hover) setupGesture(ctrl, 'hover');\n}\nconst bindToProps = (props, eventOptions, withPassiveOption) => (device, action, handler, options = {}, isNative = false) => {\n  var _options$capture, _options$passive;\n  const capture = (_options$capture = options.capture) !== null && _options$capture !== void 0 ? _options$capture : eventOptions.capture;\n  const passive = (_options$passive = options.passive) !== null && _options$passive !== void 0 ? _options$passive : eventOptions.passive;\n  let handlerProp = isNative ? device : toHandlerProp(device, action, capture);\n  if (withPassiveOption && passive) handlerProp += 'Passive';\n  props[handlerProp] = props[handlerProp] || [];\n  props[handlerProp].push(handler);\n};\n\nconst RE_NOT_NATIVE = /^on(Drag|Wheel|Scroll|Move|Pinch|Hover)/;\nfunction sortHandlers(_handlers) {\n  const native = {};\n  const handlers = {};\n  const actions = new Set();\n  for (let key in _handlers) {\n    if (RE_NOT_NATIVE.test(key)) {\n      actions.add(RegExp.lastMatch);\n      handlers[key] = _handlers[key];\n    } else {\n      native[key] = _handlers[key];\n    }\n  }\n  return [handlers, native, actions];\n}\nfunction registerGesture(actions, handlers, handlerKey, key, internalHandlers, config) {\n  if (!actions.has(handlerKey)) return;\n  if (!EngineMap.has(key)) {\n    if (process.env.NODE_ENV === 'development') {\n      console.warn(`[@use-gesture]: You've created a custom handler that that uses the \\`${key}\\` gesture but isn't properly configured.\\n\\nPlease add \\`${key}Action\\` when creating your handler.`);\n    }\n    return;\n  }\n  const startKey = handlerKey + 'Start';\n  const endKey = handlerKey + 'End';\n  const fn = state => {\n    let memo = undefined;\n    if (state.first && startKey in handlers) handlers[startKey](state);\n    if (handlerKey in handlers) memo = handlers[handlerKey](state);\n    if (state.last && endKey in handlers) handlers[endKey](state);\n    return memo;\n  };\n  internalHandlers[key] = fn;\n  config[key] = config[key] || {};\n}\nfunction parseMergedHandlers(mergedHandlers, mergedConfig) {\n  const [handlers, nativeHandlers, actions] = sortHandlers(mergedHandlers);\n  const internalHandlers = {};\n  registerGesture(actions, handlers, 'onDrag', 'drag', internalHandlers, mergedConfig);\n  registerGesture(actions, handlers, 'onWheel', 'wheel', internalHandlers, mergedConfig);\n  registerGesture(actions, handlers, 'onScroll', 'scroll', internalHandlers, mergedConfig);\n  registerGesture(actions, handlers, 'onPinch', 'pinch', internalHandlers, mergedConfig);\n  registerGesture(actions, handlers, 'onMove', 'move', internalHandlers, mergedConfig);\n  registerGesture(actions, handlers, 'onHover', 'hover', internalHandlers, mergedConfig);\n  return {\n    handlers: internalHandlers,\n    config: mergedConfig,\n    nativeHandlers\n  };\n}\n\nexport { Controller, parseMergedHandlers };\n"],"mappings":"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"},"metadata":{},"sourceType":"module","externalDependencies":[]}