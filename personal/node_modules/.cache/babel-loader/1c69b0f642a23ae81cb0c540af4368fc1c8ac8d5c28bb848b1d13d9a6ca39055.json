{"ast":null,"code":"import _createClass from \"/home/krug/Coding/JavaScript/Websites/Personal/personal/node_modules/.pnpm/@babel+runtime@7.22.3/node_modules/@babel/runtime/helpers/esm/createClass.js\";\nimport _classCallCheck from \"/home/krug/Coding/JavaScript/Websites/Personal/personal/node_modules/.pnpm/@babel+runtime@7.22.3/node_modules/@babel/runtime/helpers/esm/classCallCheck.js\";\nimport _assertThisInitialized from \"/home/krug/Coding/JavaScript/Websites/Personal/personal/node_modules/.pnpm/@babel+runtime@7.22.3/node_modules/@babel/runtime/helpers/esm/assertThisInitialized.js\";\nimport _inherits from \"/home/krug/Coding/JavaScript/Websites/Personal/personal/node_modules/.pnpm/@babel+runtime@7.22.3/node_modules/@babel/runtime/helpers/esm/inherits.js\";\nimport _createSuper from \"/home/krug/Coding/JavaScript/Websites/Personal/personal/node_modules/.pnpm/@babel+runtime@7.22.3/node_modules/@babel/runtime/helpers/esm/createSuper.js\";\nimport _get from \"/home/krug/Coding/JavaScript/Websites/Personal/personal/node_modules/.pnpm/@babel+runtime@7.22.3/node_modules/@babel/runtime/helpers/esm/get.js\";\nimport _getPrototypeOf from \"/home/krug/Coding/JavaScript/Websites/Personal/personal/node_modules/.pnpm/@babel+runtime@7.22.3/node_modules/@babel/runtime/helpers/esm/getPrototypeOf.js\";\nvar __defProp = Object.defineProperty;\nvar __defNormalProp = function __defNormalProp(obj, key, value) {\n  return key in obj ? __defProp(obj, key, {\n    enumerable: true,\n    configurable: true,\n    writable: true,\n    value: value\n  }) : obj[key] = value;\n};\nvar __publicField = function __publicField(obj, key, value) {\n  __defNormalProp(obj, typeof key !== \"symbol\" ? key + \"\" : key, value);\n  return value;\n};\nimport { Object3D, Raycaster, Vector3, Quaternion, Euler, Matrix4, MeshBasicMaterial, DoubleSide, LineBasicMaterial, CylinderGeometry, BoxGeometry, BufferGeometry, Float32BufferAttribute, Mesh, Line, OctahedronGeometry, PlaneGeometry, TorusGeometry, SphereGeometry, Color } from \"three\";\nvar TransformControls = /*#__PURE__*/function (_Object3D) {\n  _inherits(TransformControls, _Object3D);\n  var _super = _createSuper(TransformControls);\n  function TransformControls(camera, domElement) {\n    var _thisSuper, _this;\n    _classCallCheck(this, TransformControls);\n    _this = _super.call(this);\n    __publicField(_assertThisInitialized(_this), \"isTransformControls\", true);\n    __publicField(_assertThisInitialized(_this), \"visible\", false);\n    __publicField(_assertThisInitialized(_this), \"domElement\");\n    __publicField(_assertThisInitialized(_this), \"raycaster\", new Raycaster());\n    __publicField(_assertThisInitialized(_this), \"gizmo\");\n    __publicField(_assertThisInitialized(_this), \"plane\");\n    __publicField(_assertThisInitialized(_this), \"tempVector\", new Vector3());\n    __publicField(_assertThisInitialized(_this), \"tempVector2\", new Vector3());\n    __publicField(_assertThisInitialized(_this), \"tempQuaternion\", new Quaternion());\n    __publicField(_assertThisInitialized(_this), \"unit\", {\n      X: new Vector3(1, 0, 0),\n      Y: new Vector3(0, 1, 0),\n      Z: new Vector3(0, 0, 1)\n    });\n    __publicField(_assertThisInitialized(_this), \"pointStart\", new Vector3());\n    __publicField(_assertThisInitialized(_this), \"pointEnd\", new Vector3());\n    __publicField(_assertThisInitialized(_this), \"offset\", new Vector3());\n    __publicField(_assertThisInitialized(_this), \"rotationAxis\", new Vector3());\n    __publicField(_assertThisInitialized(_this), \"startNorm\", new Vector3());\n    __publicField(_assertThisInitialized(_this), \"endNorm\", new Vector3());\n    __publicField(_assertThisInitialized(_this), \"rotationAngle\", 0);\n    __publicField(_assertThisInitialized(_this), \"cameraPosition\", new Vector3());\n    __publicField(_assertThisInitialized(_this), \"cameraQuaternion\", new Quaternion());\n    __publicField(_assertThisInitialized(_this), \"cameraScale\", new Vector3());\n    __publicField(_assertThisInitialized(_this), \"parentPosition\", new Vector3());\n    __publicField(_assertThisInitialized(_this), \"parentQuaternion\", new Quaternion());\n    __publicField(_assertThisInitialized(_this), \"parentQuaternionInv\", new Quaternion());\n    __publicField(_assertThisInitialized(_this), \"parentScale\", new Vector3());\n    __publicField(_assertThisInitialized(_this), \"worldPositionStart\", new Vector3());\n    __publicField(_assertThisInitialized(_this), \"worldQuaternionStart\", new Quaternion());\n    __publicField(_assertThisInitialized(_this), \"worldScaleStart\", new Vector3());\n    __publicField(_assertThisInitialized(_this), \"worldPosition\", new Vector3());\n    __publicField(_assertThisInitialized(_this), \"worldQuaternion\", new Quaternion());\n    __publicField(_assertThisInitialized(_this), \"worldQuaternionInv\", new Quaternion());\n    __publicField(_assertThisInitialized(_this), \"worldScale\", new Vector3());\n    __publicField(_assertThisInitialized(_this), \"eye\", new Vector3());\n    __publicField(_assertThisInitialized(_this), \"positionStart\", new Vector3());\n    __publicField(_assertThisInitialized(_this), \"quaternionStart\", new Quaternion());\n    __publicField(_assertThisInitialized(_this), \"scaleStart\", new Vector3());\n    __publicField(_assertThisInitialized(_this), \"camera\");\n    __publicField(_assertThisInitialized(_this), \"object\");\n    __publicField(_assertThisInitialized(_this), \"enabled\", true);\n    __publicField(_assertThisInitialized(_this), \"axis\", null);\n    __publicField(_assertThisInitialized(_this), \"mode\", \"translate\");\n    __publicField(_assertThisInitialized(_this), \"translationSnap\", null);\n    __publicField(_assertThisInitialized(_this), \"rotationSnap\", null);\n    __publicField(_assertThisInitialized(_this), \"scaleSnap\", null);\n    __publicField(_assertThisInitialized(_this), \"space\", \"world\");\n    __publicField(_assertThisInitialized(_this), \"size\", 1);\n    __publicField(_assertThisInitialized(_this), \"dragging\", false);\n    __publicField(_assertThisInitialized(_this), \"showX\", true);\n    __publicField(_assertThisInitialized(_this), \"showY\", true);\n    __publicField(_assertThisInitialized(_this), \"showZ\", true);\n    // events\n    __publicField(_assertThisInitialized(_this), \"changeEvent\", {\n      type: \"change\"\n    });\n    __publicField(_assertThisInitialized(_this), \"mouseDownEvent\", {\n      type: \"mouseDown\",\n      mode: _this.mode\n    });\n    __publicField(_assertThisInitialized(_this), \"mouseUpEvent\", {\n      type: \"mouseUp\",\n      mode: _this.mode\n    });\n    __publicField(_assertThisInitialized(_this), \"objectChangeEvent\", {\n      type: \"objectChange\"\n    });\n    __publicField(_assertThisInitialized(_this), \"intersectObjectWithRay\", function (object, raycaster, includeInvisible) {\n      var allIntersections = raycaster.intersectObject(object, true);\n      for (var i = 0; i < allIntersections.length; i++) {\n        if (allIntersections[i].object.visible || includeInvisible) {\n          return allIntersections[i];\n        }\n      }\n      return false;\n    });\n    // Set current object\n    __publicField(_assertThisInitialized(_this), \"attach\", function (object) {\n      _this.object = object;\n      _this.visible = true;\n      return _assertThisInitialized(_this);\n    });\n    // Detatch from object\n    __publicField(_assertThisInitialized(_this), \"detach\", function () {\n      _this.object = void 0;\n      _this.visible = false;\n      _this.axis = null;\n      return _assertThisInitialized(_this);\n    });\n    // Reset\n    __publicField(_assertThisInitialized(_this), \"reset\", function () {\n      if (!_this.enabled) return _assertThisInitialized(_this);\n      if (_this.dragging) {\n        if (_this.object !== void 0) {\n          _this.object.position.copy(_this.positionStart);\n          _this.object.quaternion.copy(_this.quaternionStart);\n          _this.object.scale.copy(_this.scaleStart);\n          _this.dispatchEvent(_this.changeEvent);\n          _this.dispatchEvent(_this.objectChangeEvent);\n          _this.pointStart.copy(_this.pointEnd);\n        }\n      }\n      return _assertThisInitialized(_this);\n    });\n    __publicField(_assertThisInitialized(_this), \"updateMatrixWorld\", function () {\n      if (_this.object !== void 0) {\n        _this.object.updateMatrixWorld();\n        if (_this.object.parent === null) {\n          console.error(\"TransformControls: The attached 3D object must be a part of the scene graph.\");\n        } else {\n          _this.object.parent.matrixWorld.decompose(_this.parentPosition, _this.parentQuaternion, _this.parentScale);\n        }\n        _this.object.matrixWorld.decompose(_this.worldPosition, _this.worldQuaternion, _this.worldScale);\n        _this.parentQuaternionInv.copy(_this.parentQuaternion).invert();\n        _this.worldQuaternionInv.copy(_this.worldQuaternion).invert();\n      }\n      _this.camera.updateMatrixWorld();\n      _this.camera.matrixWorld.decompose(_this.cameraPosition, _this.cameraQuaternion, _this.cameraScale);\n      _this.eye.copy(_this.cameraPosition).sub(_this.worldPosition).normalize();\n      _get((_thisSuper = _assertThisInitialized(_this), _getPrototypeOf(TransformControls.prototype)), \"updateMatrixWorld\", _thisSuper).call(_thisSuper);\n    });\n    __publicField(_assertThisInitialized(_this), \"pointerHover\", function (pointer) {\n      if (_this.object === void 0 || _this.dragging === true) return;\n      _this.raycaster.setFromCamera(pointer, _this.camera);\n      var intersect = _this.intersectObjectWithRay(_this.gizmo.picker[_this.mode], _this.raycaster);\n      if (intersect) {\n        _this.axis = intersect.object.name;\n      } else {\n        _this.axis = null;\n      }\n    });\n    __publicField(_assertThisInitialized(_this), \"pointerDown\", function (pointer) {\n      if (_this.object === void 0 || _this.dragging === true || pointer.button !== 0) return;\n      if (_this.axis !== null) {\n        _this.raycaster.setFromCamera(pointer, _this.camera);\n        var planeIntersect = _this.intersectObjectWithRay(_this.plane, _this.raycaster, true);\n        if (planeIntersect) {\n          var space = _this.space;\n          if (_this.mode === \"scale\") {\n            space = \"local\";\n          } else if (_this.axis === \"E\" || _this.axis === \"XYZE\" || _this.axis === \"XYZ\") {\n            space = \"world\";\n          }\n          if (space === \"local\" && _this.mode === \"rotate\") {\n            var snap = _this.rotationSnap;\n            if (_this.axis === \"X\" && snap) _this.object.rotation.x = Math.round(_this.object.rotation.x / snap) * snap;\n            if (_this.axis === \"Y\" && snap) _this.object.rotation.y = Math.round(_this.object.rotation.y / snap) * snap;\n            if (_this.axis === \"Z\" && snap) _this.object.rotation.z = Math.round(_this.object.rotation.z / snap) * snap;\n          }\n          _this.object.updateMatrixWorld();\n          if (_this.object.parent) {\n            _this.object.parent.updateMatrixWorld();\n          }\n          _this.positionStart.copy(_this.object.position);\n          _this.quaternionStart.copy(_this.object.quaternion);\n          _this.scaleStart.copy(_this.object.scale);\n          _this.object.matrixWorld.decompose(_this.worldPositionStart, _this.worldQuaternionStart, _this.worldScaleStart);\n          _this.pointStart.copy(planeIntersect.point).sub(_this.worldPositionStart);\n        }\n        _this.dragging = true;\n        _this.mouseDownEvent.mode = _this.mode;\n        _this.dispatchEvent(_this.mouseDownEvent);\n      }\n    });\n    __publicField(_assertThisInitialized(_this), \"pointerMove\", function (pointer) {\n      var axis = _this.axis;\n      var mode = _this.mode;\n      var object = _this.object;\n      var space = _this.space;\n      if (mode === \"scale\") {\n        space = \"local\";\n      } else if (axis === \"E\" || axis === \"XYZE\" || axis === \"XYZ\") {\n        space = \"world\";\n      }\n      if (object === void 0 || axis === null || _this.dragging === false || pointer.button !== -1) return;\n      _this.raycaster.setFromCamera(pointer, _this.camera);\n      var planeIntersect = _this.intersectObjectWithRay(_this.plane, _this.raycaster, true);\n      if (!planeIntersect) return;\n      _this.pointEnd.copy(planeIntersect.point).sub(_this.worldPositionStart);\n      if (mode === \"translate\") {\n        _this.offset.copy(_this.pointEnd).sub(_this.pointStart);\n        if (space === \"local\" && axis !== \"XYZ\") {\n          _this.offset.applyQuaternion(_this.worldQuaternionInv);\n        }\n        if (axis.indexOf(\"X\") === -1) _this.offset.x = 0;\n        if (axis.indexOf(\"Y\") === -1) _this.offset.y = 0;\n        if (axis.indexOf(\"Z\") === -1) _this.offset.z = 0;\n        if (space === \"local\" && axis !== \"XYZ\") {\n          _this.offset.applyQuaternion(_this.quaternionStart).divide(_this.parentScale);\n        } else {\n          _this.offset.applyQuaternion(_this.parentQuaternionInv).divide(_this.parentScale);\n        }\n        object.position.copy(_this.offset).add(_this.positionStart);\n        if (_this.translationSnap) {\n          if (space === \"local\") {\n            object.position.applyQuaternion(_this.tempQuaternion.copy(_this.quaternionStart).invert());\n            if (axis.search(\"X\") !== -1) {\n              object.position.x = Math.round(object.position.x / _this.translationSnap) * _this.translationSnap;\n            }\n            if (axis.search(\"Y\") !== -1) {\n              object.position.y = Math.round(object.position.y / _this.translationSnap) * _this.translationSnap;\n            }\n            if (axis.search(\"Z\") !== -1) {\n              object.position.z = Math.round(object.position.z / _this.translationSnap) * _this.translationSnap;\n            }\n            object.position.applyQuaternion(_this.quaternionStart);\n          }\n          if (space === \"world\") {\n            if (object.parent) {\n              object.position.add(_this.tempVector.setFromMatrixPosition(object.parent.matrixWorld));\n            }\n            if (axis.search(\"X\") !== -1) {\n              object.position.x = Math.round(object.position.x / _this.translationSnap) * _this.translationSnap;\n            }\n            if (axis.search(\"Y\") !== -1) {\n              object.position.y = Math.round(object.position.y / _this.translationSnap) * _this.translationSnap;\n            }\n            if (axis.search(\"Z\") !== -1) {\n              object.position.z = Math.round(object.position.z / _this.translationSnap) * _this.translationSnap;\n            }\n            if (object.parent) {\n              object.position.sub(_this.tempVector.setFromMatrixPosition(object.parent.matrixWorld));\n            }\n          }\n        }\n      } else if (mode === \"scale\") {\n        if (axis.search(\"XYZ\") !== -1) {\n          var d = _this.pointEnd.length() / _this.pointStart.length();\n          if (_this.pointEnd.dot(_this.pointStart) < 0) d *= -1;\n          _this.tempVector2.set(d, d, d);\n        } else {\n          _this.tempVector.copy(_this.pointStart);\n          _this.tempVector2.copy(_this.pointEnd);\n          _this.tempVector.applyQuaternion(_this.worldQuaternionInv);\n          _this.tempVector2.applyQuaternion(_this.worldQuaternionInv);\n          _this.tempVector2.divide(_this.tempVector);\n          if (axis.search(\"X\") === -1) {\n            _this.tempVector2.x = 1;\n          }\n          if (axis.search(\"Y\") === -1) {\n            _this.tempVector2.y = 1;\n          }\n          if (axis.search(\"Z\") === -1) {\n            _this.tempVector2.z = 1;\n          }\n        }\n        object.scale.copy(_this.scaleStart).multiply(_this.tempVector2);\n        if (_this.scaleSnap && _this.object) {\n          if (axis.search(\"X\") !== -1) {\n            _this.object.scale.x = Math.round(object.scale.x / _this.scaleSnap) * _this.scaleSnap || _this.scaleSnap;\n          }\n          if (axis.search(\"Y\") !== -1) {\n            object.scale.y = Math.round(object.scale.y / _this.scaleSnap) * _this.scaleSnap || _this.scaleSnap;\n          }\n          if (axis.search(\"Z\") !== -1) {\n            object.scale.z = Math.round(object.scale.z / _this.scaleSnap) * _this.scaleSnap || _this.scaleSnap;\n          }\n        }\n      } else if (mode === \"rotate\") {\n        _this.offset.copy(_this.pointEnd).sub(_this.pointStart);\n        var ROTATION_SPEED = 20 / _this.worldPosition.distanceTo(_this.tempVector.setFromMatrixPosition(_this.camera.matrixWorld));\n        if (axis === \"E\") {\n          _this.rotationAxis.copy(_this.eye);\n          _this.rotationAngle = _this.pointEnd.angleTo(_this.pointStart);\n          _this.startNorm.copy(_this.pointStart).normalize();\n          _this.endNorm.copy(_this.pointEnd).normalize();\n          _this.rotationAngle *= _this.endNorm.cross(_this.startNorm).dot(_this.eye) < 0 ? 1 : -1;\n        } else if (axis === \"XYZE\") {\n          _this.rotationAxis.copy(_this.offset).cross(_this.eye).normalize();\n          _this.rotationAngle = _this.offset.dot(_this.tempVector.copy(_this.rotationAxis).cross(_this.eye)) * ROTATION_SPEED;\n        } else if (axis === \"X\" || axis === \"Y\" || axis === \"Z\") {\n          _this.rotationAxis.copy(_this.unit[axis]);\n          _this.tempVector.copy(_this.unit[axis]);\n          if (space === \"local\") {\n            _this.tempVector.applyQuaternion(_this.worldQuaternion);\n          }\n          _this.rotationAngle = _this.offset.dot(_this.tempVector.cross(_this.eye).normalize()) * ROTATION_SPEED;\n        }\n        if (_this.rotationSnap) {\n          _this.rotationAngle = Math.round(_this.rotationAngle / _this.rotationSnap) * _this.rotationSnap;\n        }\n        if (space === \"local\" && axis !== \"E\" && axis !== \"XYZE\") {\n          object.quaternion.copy(_this.quaternionStart);\n          object.quaternion.multiply(_this.tempQuaternion.setFromAxisAngle(_this.rotationAxis, _this.rotationAngle)).normalize();\n        } else {\n          _this.rotationAxis.applyQuaternion(_this.parentQuaternionInv);\n          object.quaternion.copy(_this.tempQuaternion.setFromAxisAngle(_this.rotationAxis, _this.rotationAngle));\n          object.quaternion.multiply(_this.quaternionStart).normalize();\n        }\n      }\n      _this.dispatchEvent(_this.changeEvent);\n      _this.dispatchEvent(_this.objectChangeEvent);\n    });\n    __publicField(_assertThisInitialized(_this), \"pointerUp\", function (pointer) {\n      if (pointer.button !== 0) return;\n      if (_this.dragging && _this.axis !== null) {\n        _this.mouseUpEvent.mode = _this.mode;\n        _this.dispatchEvent(_this.mouseUpEvent);\n      }\n      _this.dragging = false;\n      _this.axis = null;\n    });\n    __publicField(_assertThisInitialized(_this), \"getPointer\", function (event) {\n      var _a, _b;\n      if (_this.domElement && ((_a = _this.domElement.ownerDocument) == null ? void 0 : _a.pointerLockElement)) {\n        return {\n          x: 0,\n          y: 0,\n          button: event.button\n        };\n      } else {\n        var pointer = event.changedTouches ? event.changedTouches[0] : event;\n        var rect = (_b = _this.domElement) == null ? void 0 : _b.getBoundingClientRect();\n        return {\n          x: (pointer.clientX - rect.left) / rect.width * 2 - 1,\n          y: -(pointer.clientY - rect.top) / rect.height * 2 + 1,\n          button: event.button\n        };\n      }\n    });\n    __publicField(_assertThisInitialized(_this), \"onPointerHover\", function (event) {\n      if (!_this.enabled) return;\n      switch (event.pointerType) {\n        case \"mouse\":\n        case \"pen\":\n          _this.pointerHover(_this.getPointer(event));\n          break;\n      }\n    });\n    __publicField(_assertThisInitialized(_this), \"onPointerDown\", function (event) {\n      if (!_this.enabled || !_this.domElement) return;\n      _this.domElement.style.touchAction = \"none\";\n      _this.domElement.ownerDocument.addEventListener(\"pointermove\", _this.onPointerMove);\n      _this.pointerHover(_this.getPointer(event));\n      _this.pointerDown(_this.getPointer(event));\n    });\n    __publicField(_assertThisInitialized(_this), \"onPointerMove\", function (event) {\n      if (!_this.enabled) return;\n      _this.pointerMove(_this.getPointer(event));\n    });\n    __publicField(_assertThisInitialized(_this), \"onPointerUp\", function (event) {\n      if (!_this.enabled || !_this.domElement) return;\n      _this.domElement.style.touchAction = \"\";\n      _this.domElement.ownerDocument.removeEventListener(\"pointermove\", _this.onPointerMove);\n      _this.pointerUp(_this.getPointer(event));\n    });\n    __publicField(_assertThisInitialized(_this), \"getMode\", function () {\n      return _this.mode;\n    });\n    __publicField(_assertThisInitialized(_this), \"setMode\", function (mode) {\n      _this.mode = mode;\n    });\n    __publicField(_assertThisInitialized(_this), \"setTranslationSnap\", function (translationSnap) {\n      _this.translationSnap = translationSnap;\n    });\n    __publicField(_assertThisInitialized(_this), \"setRotationSnap\", function (rotationSnap) {\n      _this.rotationSnap = rotationSnap;\n    });\n    __publicField(_assertThisInitialized(_this), \"setScaleSnap\", function (scaleSnap) {\n      _this.scaleSnap = scaleSnap;\n    });\n    __publicField(_assertThisInitialized(_this), \"setSize\", function (size) {\n      _this.size = size;\n    });\n    __publicField(_assertThisInitialized(_this), \"setSpace\", function (space) {\n      _this.space = space;\n    });\n    __publicField(_assertThisInitialized(_this), \"update\", function () {\n      console.warn(\"THREE.TransformControls: update function has no more functionality and therefore has been deprecated.\");\n    });\n    __publicField(_assertThisInitialized(_this), \"connect\", function (domElement) {\n      if (domElement === document) {\n        console.error('THREE.OrbitControls: \"document\" should not be used as the target \"domElement\". Please use \"renderer.domElement\" instead.');\n      }\n      _this.domElement = domElement;\n      _this.domElement.addEventListener(\"pointerdown\", _this.onPointerDown);\n      _this.domElement.addEventListener(\"pointermove\", _this.onPointerHover);\n      _this.domElement.ownerDocument.addEventListener(\"pointerup\", _this.onPointerUp);\n    });\n    __publicField(_assertThisInitialized(_this), \"dispose\", function () {\n      var _a, _b, _c, _d, _e, _f;\n      (_a = _this.domElement) == null ? void 0 : _a.removeEventListener(\"pointerdown\", _this.onPointerDown);\n      (_b = _this.domElement) == null ? void 0 : _b.removeEventListener(\"pointermove\", _this.onPointerHover);\n      (_d = (_c = _this.domElement) == null ? void 0 : _c.ownerDocument) == null ? void 0 : _d.removeEventListener(\"pointermove\", _this.onPointerMove);\n      (_f = (_e = _this.domElement) == null ? void 0 : _e.ownerDocument) == null ? void 0 : _f.removeEventListener(\"pointerup\", _this.onPointerUp);\n      _this.traverse(function (child) {\n        var mesh = child;\n        if (mesh.geometry) {\n          mesh.geometry.dispose();\n        }\n        if (mesh.material) {\n          mesh.material.dispose();\n        }\n      });\n    });\n    _this.domElement = domElement;\n    _this.camera = camera;\n    _this.gizmo = new TransformControlsGizmo();\n    _this.add(_this.gizmo);\n    _this.plane = new TransformControlsPlane();\n    _this.add(_this.plane);\n    var defineProperty = function defineProperty(propName, defaultValue) {\n      var propValue = defaultValue;\n      Object.defineProperty(_assertThisInitialized(_this), propName, {\n        get: function get() {\n          return propValue !== void 0 ? propValue : defaultValue;\n        },\n        set: function set(value) {\n          if (propValue !== value) {\n            propValue = value;\n            this.plane[propName] = value;\n            this.gizmo[propName] = value;\n            this.dispatchEvent({\n              type: propName + \"-changed\",\n              value: value\n            });\n            this.dispatchEvent(this.changeEvent);\n          }\n        }\n      });\n      _this[propName] = defaultValue;\n      _this.plane[propName] = defaultValue;\n      _this.gizmo[propName] = defaultValue;\n    };\n    defineProperty(\"camera\", _this.camera);\n    defineProperty(\"object\", _this.object);\n    defineProperty(\"enabled\", _this.enabled);\n    defineProperty(\"axis\", _this.axis);\n    defineProperty(\"mode\", _this.mode);\n    defineProperty(\"translationSnap\", _this.translationSnap);\n    defineProperty(\"rotationSnap\", _this.rotationSnap);\n    defineProperty(\"scaleSnap\", _this.scaleSnap);\n    defineProperty(\"space\", _this.space);\n    defineProperty(\"size\", _this.size);\n    defineProperty(\"dragging\", _this.dragging);\n    defineProperty(\"showX\", _this.showX);\n    defineProperty(\"showY\", _this.showY);\n    defineProperty(\"showZ\", _this.showZ);\n    defineProperty(\"worldPosition\", _this.worldPosition);\n    defineProperty(\"worldPositionStart\", _this.worldPositionStart);\n    defineProperty(\"worldQuaternion\", _this.worldQuaternion);\n    defineProperty(\"worldQuaternionStart\", _this.worldQuaternionStart);\n    defineProperty(\"cameraPosition\", _this.cameraPosition);\n    defineProperty(\"cameraQuaternion\", _this.cameraQuaternion);\n    defineProperty(\"pointStart\", _this.pointStart);\n    defineProperty(\"pointEnd\", _this.pointEnd);\n    defineProperty(\"rotationAxis\", _this.rotationAxis);\n    defineProperty(\"rotationAngle\", _this.rotationAngle);\n    defineProperty(\"eye\", _this.eye);\n    if (domElement !== void 0) _this.connect(domElement);\n    return _this;\n  }\n  return _createClass(TransformControls);\n}(Object3D);\nvar TransformControlsGizmo = /*#__PURE__*/function (_Object3D2) {\n  _inherits(TransformControlsGizmo, _Object3D2);\n  var _super2 = _createSuper(TransformControlsGizmo);\n  function TransformControlsGizmo() {\n    var _thisSuper2, _this2;\n    _classCallCheck(this, TransformControlsGizmo);\n    _this2 = _super2.call(this);\n    __publicField(_assertThisInitialized(_this2), \"isTransformControlsGizmo\", true);\n    __publicField(_assertThisInitialized(_this2), \"type\", \"TransformControlsGizmo\");\n    __publicField(_assertThisInitialized(_this2), \"tempVector\", new Vector3(0, 0, 0));\n    __publicField(_assertThisInitialized(_this2), \"tempEuler\", new Euler());\n    __publicField(_assertThisInitialized(_this2), \"alignVector\", new Vector3(0, 1, 0));\n    __publicField(_assertThisInitialized(_this2), \"zeroVector\", new Vector3(0, 0, 0));\n    __publicField(_assertThisInitialized(_this2), \"lookAtMatrix\", new Matrix4());\n    __publicField(_assertThisInitialized(_this2), \"tempQuaternion\", new Quaternion());\n    __publicField(_assertThisInitialized(_this2), \"tempQuaternion2\", new Quaternion());\n    __publicField(_assertThisInitialized(_this2), \"identityQuaternion\", new Quaternion());\n    __publicField(_assertThisInitialized(_this2), \"unitX\", new Vector3(1, 0, 0));\n    __publicField(_assertThisInitialized(_this2), \"unitY\", new Vector3(0, 1, 0));\n    __publicField(_assertThisInitialized(_this2), \"unitZ\", new Vector3(0, 0, 1));\n    __publicField(_assertThisInitialized(_this2), \"gizmo\");\n    __publicField(_assertThisInitialized(_this2), \"picker\");\n    __publicField(_assertThisInitialized(_this2), \"helper\");\n    // these are set from parent class TransformControls\n    __publicField(_assertThisInitialized(_this2), \"rotationAxis\", new Vector3());\n    __publicField(_assertThisInitialized(_this2), \"cameraPosition\", new Vector3());\n    __publicField(_assertThisInitialized(_this2), \"worldPositionStart\", new Vector3());\n    __publicField(_assertThisInitialized(_this2), \"worldQuaternionStart\", new Quaternion());\n    __publicField(_assertThisInitialized(_this2), \"worldPosition\", new Vector3());\n    __publicField(_assertThisInitialized(_this2), \"worldQuaternion\", new Quaternion());\n    __publicField(_assertThisInitialized(_this2), \"eye\", new Vector3());\n    __publicField(_assertThisInitialized(_this2), \"camera\", null);\n    __publicField(_assertThisInitialized(_this2), \"enabled\", true);\n    __publicField(_assertThisInitialized(_this2), \"axis\", null);\n    __publicField(_assertThisInitialized(_this2), \"mode\", \"translate\");\n    __publicField(_assertThisInitialized(_this2), \"space\", \"world\");\n    __publicField(_assertThisInitialized(_this2), \"size\", 1);\n    __publicField(_assertThisInitialized(_this2), \"dragging\", false);\n    __publicField(_assertThisInitialized(_this2), \"showX\", true);\n    __publicField(_assertThisInitialized(_this2), \"showY\", true);\n    __publicField(_assertThisInitialized(_this2), \"showZ\", true);\n    // updateMatrixWorld will update transformations and appearance of individual handles\n    __publicField(_assertThisInitialized(_this2), \"updateMatrixWorld\", function () {\n      var space = _this2.space;\n      if (_this2.mode === \"scale\") {\n        space = \"local\";\n      }\n      var quaternion = space === \"local\" ? _this2.worldQuaternion : _this2.identityQuaternion;\n      _this2.gizmo[\"translate\"].visible = _this2.mode === \"translate\";\n      _this2.gizmo[\"rotate\"].visible = _this2.mode === \"rotate\";\n      _this2.gizmo[\"scale\"].visible = _this2.mode === \"scale\";\n      _this2.helper[\"translate\"].visible = _this2.mode === \"translate\";\n      _this2.helper[\"rotate\"].visible = _this2.mode === \"rotate\";\n      _this2.helper[\"scale\"].visible = _this2.mode === \"scale\";\n      var handles = [];\n      handles = handles.concat(_this2.picker[_this2.mode].children);\n      handles = handles.concat(_this2.gizmo[_this2.mode].children);\n      handles = handles.concat(_this2.helper[_this2.mode].children);\n      var _loop = function _loop() {\n        var handle = handles[i];\n        handle.visible = true;\n        handle.rotation.set(0, 0, 0);\n        handle.position.copy(_this2.worldPosition);\n        var factor;\n        if (_this2.camera.isOrthographicCamera) {\n          factor = (_this2.camera.top - _this2.camera.bottom) / _this2.camera.zoom;\n        } else {\n          factor = _this2.worldPosition.distanceTo(_this2.cameraPosition) * Math.min(1.9 * Math.tan(Math.PI * _this2.camera.fov / 360) / _this2.camera.zoom, 7);\n        }\n        handle.scale.set(1, 1, 1).multiplyScalar(factor * _this2.size / 7);\n        if (handle.tag === \"helper\") {\n          handle.visible = false;\n          if (handle.name === \"AXIS\") {\n            handle.position.copy(_this2.worldPositionStart);\n            handle.visible = !!_this2.axis;\n            if (_this2.axis === \"X\") {\n              _this2.tempQuaternion.setFromEuler(_this2.tempEuler.set(0, 0, 0));\n              handle.quaternion.copy(quaternion).multiply(_this2.tempQuaternion);\n              if (Math.abs(_this2.alignVector.copy(_this2.unitX).applyQuaternion(quaternion).dot(_this2.eye)) > 0.9) {\n                handle.visible = false;\n              }\n            }\n            if (_this2.axis === \"Y\") {\n              _this2.tempQuaternion.setFromEuler(_this2.tempEuler.set(0, 0, Math.PI / 2));\n              handle.quaternion.copy(quaternion).multiply(_this2.tempQuaternion);\n              if (Math.abs(_this2.alignVector.copy(_this2.unitY).applyQuaternion(quaternion).dot(_this2.eye)) > 0.9) {\n                handle.visible = false;\n              }\n            }\n            if (_this2.axis === \"Z\") {\n              _this2.tempQuaternion.setFromEuler(_this2.tempEuler.set(0, Math.PI / 2, 0));\n              handle.quaternion.copy(quaternion).multiply(_this2.tempQuaternion);\n              if (Math.abs(_this2.alignVector.copy(_this2.unitZ).applyQuaternion(quaternion).dot(_this2.eye)) > 0.9) {\n                handle.visible = false;\n              }\n            }\n            if (_this2.axis === \"XYZE\") {\n              _this2.tempQuaternion.setFromEuler(_this2.tempEuler.set(0, Math.PI / 2, 0));\n              _this2.alignVector.copy(_this2.rotationAxis);\n              handle.quaternion.setFromRotationMatrix(_this2.lookAtMatrix.lookAt(_this2.zeroVector, _this2.alignVector, _this2.unitY));\n              handle.quaternion.multiply(_this2.tempQuaternion);\n              handle.visible = _this2.dragging;\n            }\n            if (_this2.axis === \"E\") {\n              handle.visible = false;\n            }\n          } else if (handle.name === \"START\") {\n            handle.position.copy(_this2.worldPositionStart);\n            handle.visible = _this2.dragging;\n          } else if (handle.name === \"END\") {\n            handle.position.copy(_this2.worldPosition);\n            handle.visible = _this2.dragging;\n          } else if (handle.name === \"DELTA\") {\n            handle.position.copy(_this2.worldPositionStart);\n            handle.quaternion.copy(_this2.worldQuaternionStart);\n            _this2.tempVector.set(1e-10, 1e-10, 1e-10).add(_this2.worldPositionStart).sub(_this2.worldPosition).multiplyScalar(-1);\n            _this2.tempVector.applyQuaternion(_this2.worldQuaternionStart.clone().invert());\n            handle.scale.copy(_this2.tempVector);\n            handle.visible = _this2.dragging;\n          } else {\n            handle.quaternion.copy(quaternion);\n            if (_this2.dragging) {\n              handle.position.copy(_this2.worldPositionStart);\n            } else {\n              handle.position.copy(_this2.worldPosition);\n            }\n            if (_this2.axis) {\n              handle.visible = _this2.axis.search(handle.name) !== -1;\n            }\n          }\n          return \"continue\";\n        }\n        handle.quaternion.copy(quaternion);\n        if (_this2.mode === \"translate\" || _this2.mode === \"scale\") {\n          var AXIS_HIDE_TRESHOLD = 0.99;\n          var PLANE_HIDE_TRESHOLD = 0.2;\n          var AXIS_FLIP_TRESHOLD = 0;\n          if (handle.name === \"X\" || handle.name === \"XYZX\") {\n            if (Math.abs(_this2.alignVector.copy(_this2.unitX).applyQuaternion(quaternion).dot(_this2.eye)) > AXIS_HIDE_TRESHOLD) {\n              handle.scale.set(1e-10, 1e-10, 1e-10);\n              handle.visible = false;\n            }\n          }\n          if (handle.name === \"Y\" || handle.name === \"XYZY\") {\n            if (Math.abs(_this2.alignVector.copy(_this2.unitY).applyQuaternion(quaternion).dot(_this2.eye)) > AXIS_HIDE_TRESHOLD) {\n              handle.scale.set(1e-10, 1e-10, 1e-10);\n              handle.visible = false;\n            }\n          }\n          if (handle.name === \"Z\" || handle.name === \"XYZZ\") {\n            if (Math.abs(_this2.alignVector.copy(_this2.unitZ).applyQuaternion(quaternion).dot(_this2.eye)) > AXIS_HIDE_TRESHOLD) {\n              handle.scale.set(1e-10, 1e-10, 1e-10);\n              handle.visible = false;\n            }\n          }\n          if (handle.name === \"XY\") {\n            if (Math.abs(_this2.alignVector.copy(_this2.unitZ).applyQuaternion(quaternion).dot(_this2.eye)) < PLANE_HIDE_TRESHOLD) {\n              handle.scale.set(1e-10, 1e-10, 1e-10);\n              handle.visible = false;\n            }\n          }\n          if (handle.name === \"YZ\") {\n            if (Math.abs(_this2.alignVector.copy(_this2.unitX).applyQuaternion(quaternion).dot(_this2.eye)) < PLANE_HIDE_TRESHOLD) {\n              handle.scale.set(1e-10, 1e-10, 1e-10);\n              handle.visible = false;\n            }\n          }\n          if (handle.name === \"XZ\") {\n            if (Math.abs(_this2.alignVector.copy(_this2.unitY).applyQuaternion(quaternion).dot(_this2.eye)) < PLANE_HIDE_TRESHOLD) {\n              handle.scale.set(1e-10, 1e-10, 1e-10);\n              handle.visible = false;\n            }\n          }\n          if (handle.name.search(\"X\") !== -1) {\n            if (_this2.alignVector.copy(_this2.unitX).applyQuaternion(quaternion).dot(_this2.eye) < AXIS_FLIP_TRESHOLD) {\n              if (handle.tag === \"fwd\") {\n                handle.visible = false;\n              } else {\n                handle.scale.x *= -1;\n              }\n            } else if (handle.tag === \"bwd\") {\n              handle.visible = false;\n            }\n          }\n          if (handle.name.search(\"Y\") !== -1) {\n            if (_this2.alignVector.copy(_this2.unitY).applyQuaternion(quaternion).dot(_this2.eye) < AXIS_FLIP_TRESHOLD) {\n              if (handle.tag === \"fwd\") {\n                handle.visible = false;\n              } else {\n                handle.scale.y *= -1;\n              }\n            } else if (handle.tag === \"bwd\") {\n              handle.visible = false;\n            }\n          }\n          if (handle.name.search(\"Z\") !== -1) {\n            if (_this2.alignVector.copy(_this2.unitZ).applyQuaternion(quaternion).dot(_this2.eye) < AXIS_FLIP_TRESHOLD) {\n              if (handle.tag === \"fwd\") {\n                handle.visible = false;\n              } else {\n                handle.scale.z *= -1;\n              }\n            } else if (handle.tag === \"bwd\") {\n              handle.visible = false;\n            }\n          }\n        } else if (_this2.mode === \"rotate\") {\n          _this2.tempQuaternion2.copy(quaternion);\n          _this2.alignVector.copy(_this2.eye).applyQuaternion(_this2.tempQuaternion.copy(quaternion).invert());\n          if (handle.name.search(\"E\") !== -1) {\n            handle.quaternion.setFromRotationMatrix(_this2.lookAtMatrix.lookAt(_this2.eye, _this2.zeroVector, _this2.unitY));\n          }\n          if (handle.name === \"X\") {\n            _this2.tempQuaternion.setFromAxisAngle(_this2.unitX, Math.atan2(-_this2.alignVector.y, _this2.alignVector.z));\n            _this2.tempQuaternion.multiplyQuaternions(_this2.tempQuaternion2, _this2.tempQuaternion);\n            handle.quaternion.copy(_this2.tempQuaternion);\n          }\n          if (handle.name === \"Y\") {\n            _this2.tempQuaternion.setFromAxisAngle(_this2.unitY, Math.atan2(_this2.alignVector.x, _this2.alignVector.z));\n            _this2.tempQuaternion.multiplyQuaternions(_this2.tempQuaternion2, _this2.tempQuaternion);\n            handle.quaternion.copy(_this2.tempQuaternion);\n          }\n          if (handle.name === \"Z\") {\n            _this2.tempQuaternion.setFromAxisAngle(_this2.unitZ, Math.atan2(_this2.alignVector.y, _this2.alignVector.x));\n            _this2.tempQuaternion.multiplyQuaternions(_this2.tempQuaternion2, _this2.tempQuaternion);\n            handle.quaternion.copy(_this2.tempQuaternion);\n          }\n        }\n        handle.visible = handle.visible && (handle.name.indexOf(\"X\") === -1 || _this2.showX);\n        handle.visible = handle.visible && (handle.name.indexOf(\"Y\") === -1 || _this2.showY);\n        handle.visible = handle.visible && (handle.name.indexOf(\"Z\") === -1 || _this2.showZ);\n        handle.visible = handle.visible && (handle.name.indexOf(\"E\") === -1 || _this2.showX && _this2.showY && _this2.showZ);\n        handle.material.tempOpacity = handle.material.tempOpacity || handle.material.opacity;\n        handle.material.tempColor = handle.material.tempColor || handle.material.color.clone();\n        handle.material.color.copy(handle.material.tempColor);\n        handle.material.opacity = handle.material.tempOpacity;\n        if (!_this2.enabled) {\n          handle.material.opacity *= 0.5;\n          handle.material.color.lerp(new Color(1, 1, 1), 0.5);\n        } else if (_this2.axis) {\n          if (handle.name === _this2.axis) {\n            handle.material.opacity = 1;\n            handle.material.color.lerp(new Color(1, 1, 1), 0.5);\n          } else if (_this2.axis.split(\"\").some(function (a) {\n            return handle.name === a;\n          })) {\n            handle.material.opacity = 1;\n            handle.material.color.lerp(new Color(1, 1, 1), 0.5);\n          } else {\n            handle.material.opacity *= 0.25;\n            handle.material.color.lerp(new Color(1, 1, 1), 0.5);\n          }\n        }\n      };\n      for (var i = 0; i < handles.length; i++) {\n        var _ret = _loop();\n        if (_ret === \"continue\") continue;\n      }\n      _get((_thisSuper2 = _assertThisInitialized(_this2), _getPrototypeOf(TransformControlsGizmo.prototype)), \"updateMatrixWorld\", _thisSuper2).call(_thisSuper2);\n    });\n    var gizmoMaterial = new MeshBasicMaterial({\n      depthTest: false,\n      depthWrite: false,\n      transparent: true,\n      side: DoubleSide,\n      fog: false,\n      toneMapped: false\n    });\n    var gizmoLineMaterial = new LineBasicMaterial({\n      depthTest: false,\n      depthWrite: false,\n      transparent: true,\n      linewidth: 1,\n      fog: false,\n      toneMapped: false\n    });\n    var matInvisible = gizmoMaterial.clone();\n    matInvisible.opacity = 0.15;\n    var matHelper = gizmoMaterial.clone();\n    matHelper.opacity = 0.33;\n    var matRed = gizmoMaterial.clone();\n    matRed.color.set(16711680);\n    var matGreen = gizmoMaterial.clone();\n    matGreen.color.set(65280);\n    var matBlue = gizmoMaterial.clone();\n    matBlue.color.set(255);\n    var matWhiteTransparent = gizmoMaterial.clone();\n    matWhiteTransparent.opacity = 0.25;\n    var matYellowTransparent = matWhiteTransparent.clone();\n    matYellowTransparent.color.set(16776960);\n    var matCyanTransparent = matWhiteTransparent.clone();\n    matCyanTransparent.color.set(65535);\n    var matMagentaTransparent = matWhiteTransparent.clone();\n    matMagentaTransparent.color.set(16711935);\n    var matYellow = gizmoMaterial.clone();\n    matYellow.color.set(16776960);\n    var matLineRed = gizmoLineMaterial.clone();\n    matLineRed.color.set(16711680);\n    var matLineGreen = gizmoLineMaterial.clone();\n    matLineGreen.color.set(65280);\n    var matLineBlue = gizmoLineMaterial.clone();\n    matLineBlue.color.set(255);\n    var matLineCyan = gizmoLineMaterial.clone();\n    matLineCyan.color.set(65535);\n    var matLineMagenta = gizmoLineMaterial.clone();\n    matLineMagenta.color.set(16711935);\n    var matLineYellow = gizmoLineMaterial.clone();\n    matLineYellow.color.set(16776960);\n    var matLineGray = gizmoLineMaterial.clone();\n    matLineGray.color.set(7895160);\n    var matLineYellowTransparent = matLineYellow.clone();\n    matLineYellowTransparent.opacity = 0.25;\n    var arrowGeometry = new CylinderGeometry(0, 0.05, 0.2, 12, 1, false);\n    var scaleHandleGeometry = new BoxGeometry(0.125, 0.125, 0.125);\n    var lineGeometry = new BufferGeometry();\n    lineGeometry.setAttribute(\"position\", new Float32BufferAttribute([0, 0, 0, 1, 0, 0], 3));\n    var CircleGeometry = function CircleGeometry(radius, arc) {\n      var geometry = new BufferGeometry();\n      var vertices = [];\n      for (var i = 0; i <= 64 * arc; ++i) {\n        vertices.push(0, Math.cos(i / 32 * Math.PI) * radius, Math.sin(i / 32 * Math.PI) * radius);\n      }\n      geometry.setAttribute(\"position\", new Float32BufferAttribute(vertices, 3));\n      return geometry;\n    };\n    var TranslateHelperGeometry = function TranslateHelperGeometry() {\n      var geometry = new BufferGeometry();\n      geometry.setAttribute(\"position\", new Float32BufferAttribute([0, 0, 0, 1, 1, 1], 3));\n      return geometry;\n    };\n    var gizmoTranslate = {\n      X: [[new Mesh(arrowGeometry, matRed), [1, 0, 0], [0, 0, -Math.PI / 2], null, \"fwd\"], [new Mesh(arrowGeometry, matRed), [1, 0, 0], [0, 0, Math.PI / 2], null, \"bwd\"], [new Line(lineGeometry, matLineRed)]],\n      Y: [[new Mesh(arrowGeometry, matGreen), [0, 1, 0], null, null, \"fwd\"], [new Mesh(arrowGeometry, matGreen), [0, 1, 0], [Math.PI, 0, 0], null, \"bwd\"], [new Line(lineGeometry, matLineGreen), null, [0, 0, Math.PI / 2]]],\n      Z: [[new Mesh(arrowGeometry, matBlue), [0, 0, 1], [Math.PI / 2, 0, 0], null, \"fwd\"], [new Mesh(arrowGeometry, matBlue), [0, 0, 1], [-Math.PI / 2, 0, 0], null, \"bwd\"], [new Line(lineGeometry, matLineBlue), null, [0, -Math.PI / 2, 0]]],\n      XYZ: [[new Mesh(new OctahedronGeometry(0.1, 0), matWhiteTransparent.clone()), [0, 0, 0], [0, 0, 0]]],\n      XY: [[new Mesh(new PlaneGeometry(0.295, 0.295), matYellowTransparent.clone()), [0.15, 0.15, 0]], [new Line(lineGeometry, matLineYellow), [0.18, 0.3, 0], null, [0.125, 1, 1]], [new Line(lineGeometry, matLineYellow), [0.3, 0.18, 0], [0, 0, Math.PI / 2], [0.125, 1, 1]]],\n      YZ: [[new Mesh(new PlaneGeometry(0.295, 0.295), matCyanTransparent.clone()), [0, 0.15, 0.15], [0, Math.PI / 2, 0]], [new Line(lineGeometry, matLineCyan), [0, 0.18, 0.3], [0, 0, Math.PI / 2], [0.125, 1, 1]], [new Line(lineGeometry, matLineCyan), [0, 0.3, 0.18], [0, -Math.PI / 2, 0], [0.125, 1, 1]]],\n      XZ: [[new Mesh(new PlaneGeometry(0.295, 0.295), matMagentaTransparent.clone()), [0.15, 0, 0.15], [-Math.PI / 2, 0, 0]], [new Line(lineGeometry, matLineMagenta), [0.18, 0, 0.3], null, [0.125, 1, 1]], [new Line(lineGeometry, matLineMagenta), [0.3, 0, 0.18], [0, -Math.PI / 2, 0], [0.125, 1, 1]]]\n    };\n    var pickerTranslate = {\n      X: [[new Mesh(new CylinderGeometry(0.2, 0, 1, 4, 1, false), matInvisible), [0.6, 0, 0], [0, 0, -Math.PI / 2]]],\n      Y: [[new Mesh(new CylinderGeometry(0.2, 0, 1, 4, 1, false), matInvisible), [0, 0.6, 0]]],\n      Z: [[new Mesh(new CylinderGeometry(0.2, 0, 1, 4, 1, false), matInvisible), [0, 0, 0.6], [Math.PI / 2, 0, 0]]],\n      XYZ: [[new Mesh(new OctahedronGeometry(0.2, 0), matInvisible)]],\n      XY: [[new Mesh(new PlaneGeometry(0.4, 0.4), matInvisible), [0.2, 0.2, 0]]],\n      YZ: [[new Mesh(new PlaneGeometry(0.4, 0.4), matInvisible), [0, 0.2, 0.2], [0, Math.PI / 2, 0]]],\n      XZ: [[new Mesh(new PlaneGeometry(0.4, 0.4), matInvisible), [0.2, 0, 0.2], [-Math.PI / 2, 0, 0]]]\n    };\n    var helperTranslate = {\n      START: [[new Mesh(new OctahedronGeometry(0.01, 2), matHelper), null, null, null, \"helper\"]],\n      END: [[new Mesh(new OctahedronGeometry(0.01, 2), matHelper), null, null, null, \"helper\"]],\n      DELTA: [[new Line(TranslateHelperGeometry(), matHelper), null, null, null, \"helper\"]],\n      X: [[new Line(lineGeometry, matHelper.clone()), [-1e3, 0, 0], null, [1e6, 1, 1], \"helper\"]],\n      Y: [[new Line(lineGeometry, matHelper.clone()), [0, -1e3, 0], [0, 0, Math.PI / 2], [1e6, 1, 1], \"helper\"]],\n      Z: [[new Line(lineGeometry, matHelper.clone()), [0, 0, -1e3], [0, -Math.PI / 2, 0], [1e6, 1, 1], \"helper\"]]\n    };\n    var gizmoRotate = {\n      X: [[new Line(CircleGeometry(1, 0.5), matLineRed)], [new Mesh(new OctahedronGeometry(0.04, 0), matRed), [0, 0, 0.99], null, [1, 3, 1]]],\n      Y: [[new Line(CircleGeometry(1, 0.5), matLineGreen), null, [0, 0, -Math.PI / 2]], [new Mesh(new OctahedronGeometry(0.04, 0), matGreen), [0, 0, 0.99], null, [3, 1, 1]]],\n      Z: [[new Line(CircleGeometry(1, 0.5), matLineBlue), null, [0, Math.PI / 2, 0]], [new Mesh(new OctahedronGeometry(0.04, 0), matBlue), [0.99, 0, 0], null, [1, 3, 1]]],\n      E: [[new Line(CircleGeometry(1.25, 1), matLineYellowTransparent), null, [0, Math.PI / 2, 0]], [new Mesh(new CylinderGeometry(0.03, 0, 0.15, 4, 1, false), matLineYellowTransparent), [1.17, 0, 0], [0, 0, -Math.PI / 2], [1, 1, 1e-3]], [new Mesh(new CylinderGeometry(0.03, 0, 0.15, 4, 1, false), matLineYellowTransparent), [-1.17, 0, 0], [0, 0, Math.PI / 2], [1, 1, 1e-3]], [new Mesh(new CylinderGeometry(0.03, 0, 0.15, 4, 1, false), matLineYellowTransparent), [0, -1.17, 0], [Math.PI, 0, 0], [1, 1, 1e-3]], [new Mesh(new CylinderGeometry(0.03, 0, 0.15, 4, 1, false), matLineYellowTransparent), [0, 1.17, 0], [0, 0, 0], [1, 1, 1e-3]]],\n      XYZE: [[new Line(CircleGeometry(1, 1), matLineGray), null, [0, Math.PI / 2, 0]]]\n    };\n    var helperRotate = {\n      AXIS: [[new Line(lineGeometry, matHelper.clone()), [-1e3, 0, 0], null, [1e6, 1, 1], \"helper\"]]\n    };\n    var pickerRotate = {\n      X: [[new Mesh(new TorusGeometry(1, 0.1, 4, 24), matInvisible), [0, 0, 0], [0, -Math.PI / 2, -Math.PI / 2]]],\n      Y: [[new Mesh(new TorusGeometry(1, 0.1, 4, 24), matInvisible), [0, 0, 0], [Math.PI / 2, 0, 0]]],\n      Z: [[new Mesh(new TorusGeometry(1, 0.1, 4, 24), matInvisible), [0, 0, 0], [0, 0, -Math.PI / 2]]],\n      E: [[new Mesh(new TorusGeometry(1.25, 0.1, 2, 24), matInvisible)]],\n      XYZE: [[new Mesh(new SphereGeometry(0.7, 10, 8), matInvisible)]]\n    };\n    var gizmoScale = {\n      X: [[new Mesh(scaleHandleGeometry, matRed), [0.8, 0, 0], [0, 0, -Math.PI / 2]], [new Line(lineGeometry, matLineRed), null, null, [0.8, 1, 1]]],\n      Y: [[new Mesh(scaleHandleGeometry, matGreen), [0, 0.8, 0]], [new Line(lineGeometry, matLineGreen), null, [0, 0, Math.PI / 2], [0.8, 1, 1]]],\n      Z: [[new Mesh(scaleHandleGeometry, matBlue), [0, 0, 0.8], [Math.PI / 2, 0, 0]], [new Line(lineGeometry, matLineBlue), null, [0, -Math.PI / 2, 0], [0.8, 1, 1]]],\n      XY: [[new Mesh(scaleHandleGeometry, matYellowTransparent), [0.85, 0.85, 0], null, [2, 2, 0.2]], [new Line(lineGeometry, matLineYellow), [0.855, 0.98, 0], null, [0.125, 1, 1]], [new Line(lineGeometry, matLineYellow), [0.98, 0.855, 0], [0, 0, Math.PI / 2], [0.125, 1, 1]]],\n      YZ: [[new Mesh(scaleHandleGeometry, matCyanTransparent), [0, 0.85, 0.85], null, [0.2, 2, 2]], [new Line(lineGeometry, matLineCyan), [0, 0.855, 0.98], [0, 0, Math.PI / 2], [0.125, 1, 1]], [new Line(lineGeometry, matLineCyan), [0, 0.98, 0.855], [0, -Math.PI / 2, 0], [0.125, 1, 1]]],\n      XZ: [[new Mesh(scaleHandleGeometry, matMagentaTransparent), [0.85, 0, 0.85], null, [2, 0.2, 2]], [new Line(lineGeometry, matLineMagenta), [0.855, 0, 0.98], null, [0.125, 1, 1]], [new Line(lineGeometry, matLineMagenta), [0.98, 0, 0.855], [0, -Math.PI / 2, 0], [0.125, 1, 1]]],\n      XYZX: [[new Mesh(new BoxGeometry(0.125, 0.125, 0.125), matWhiteTransparent.clone()), [1.1, 0, 0]]],\n      XYZY: [[new Mesh(new BoxGeometry(0.125, 0.125, 0.125), matWhiteTransparent.clone()), [0, 1.1, 0]]],\n      XYZZ: [[new Mesh(new BoxGeometry(0.125, 0.125, 0.125), matWhiteTransparent.clone()), [0, 0, 1.1]]]\n    };\n    var pickerScale = {\n      X: [[new Mesh(new CylinderGeometry(0.2, 0, 0.8, 4, 1, false), matInvisible), [0.5, 0, 0], [0, 0, -Math.PI / 2]]],\n      Y: [[new Mesh(new CylinderGeometry(0.2, 0, 0.8, 4, 1, false), matInvisible), [0, 0.5, 0]]],\n      Z: [[new Mesh(new CylinderGeometry(0.2, 0, 0.8, 4, 1, false), matInvisible), [0, 0, 0.5], [Math.PI / 2, 0, 0]]],\n      XY: [[new Mesh(scaleHandleGeometry, matInvisible), [0.85, 0.85, 0], null, [3, 3, 0.2]]],\n      YZ: [[new Mesh(scaleHandleGeometry, matInvisible), [0, 0.85, 0.85], null, [0.2, 3, 3]]],\n      XZ: [[new Mesh(scaleHandleGeometry, matInvisible), [0.85, 0, 0.85], null, [3, 0.2, 3]]],\n      XYZX: [[new Mesh(new BoxGeometry(0.2, 0.2, 0.2), matInvisible), [1.1, 0, 0]]],\n      XYZY: [[new Mesh(new BoxGeometry(0.2, 0.2, 0.2), matInvisible), [0, 1.1, 0]]],\n      XYZZ: [[new Mesh(new BoxGeometry(0.2, 0.2, 0.2), matInvisible), [0, 0, 1.1]]]\n    };\n    var helperScale = {\n      X: [[new Line(lineGeometry, matHelper.clone()), [-1e3, 0, 0], null, [1e6, 1, 1], \"helper\"]],\n      Y: [[new Line(lineGeometry, matHelper.clone()), [0, -1e3, 0], [0, 0, Math.PI / 2], [1e6, 1, 1], \"helper\"]],\n      Z: [[new Line(lineGeometry, matHelper.clone()), [0, 0, -1e3], [0, -Math.PI / 2, 0], [1e6, 1, 1], \"helper\"]]\n    };\n    var setupGizmo = function setupGizmo(gizmoMap) {\n      var gizmo = new Object3D();\n      for (var name in gizmoMap) {\n        for (var i = gizmoMap[name].length; i--;) {\n          var object = gizmoMap[name][i][0].clone();\n          var position = gizmoMap[name][i][1];\n          var rotation = gizmoMap[name][i][2];\n          var scale = gizmoMap[name][i][3];\n          var tag = gizmoMap[name][i][4];\n          object.name = name;\n          object.tag = tag;\n          if (position) {\n            object.position.set(position[0], position[1], position[2]);\n          }\n          if (rotation) {\n            object.rotation.set(rotation[0], rotation[1], rotation[2]);\n          }\n          if (scale) {\n            object.scale.set(scale[0], scale[1], scale[2]);\n          }\n          object.updateMatrix();\n          var tempGeometry = object.geometry.clone();\n          tempGeometry.applyMatrix4(object.matrix);\n          object.geometry = tempGeometry;\n          object.renderOrder = Infinity;\n          object.position.set(0, 0, 0);\n          object.rotation.set(0, 0, 0);\n          object.scale.set(1, 1, 1);\n          gizmo.add(object);\n        }\n      }\n      return gizmo;\n    };\n    _this2.gizmo = {};\n    _this2.picker = {};\n    _this2.helper = {};\n    _this2.add(_this2.gizmo[\"translate\"] = setupGizmo(gizmoTranslate));\n    _this2.add(_this2.gizmo[\"rotate\"] = setupGizmo(gizmoRotate));\n    _this2.add(_this2.gizmo[\"scale\"] = setupGizmo(gizmoScale));\n    _this2.add(_this2.picker[\"translate\"] = setupGizmo(pickerTranslate));\n    _this2.add(_this2.picker[\"rotate\"] = setupGizmo(pickerRotate));\n    _this2.add(_this2.picker[\"scale\"] = setupGizmo(pickerScale));\n    _this2.add(_this2.helper[\"translate\"] = setupGizmo(helperTranslate));\n    _this2.add(_this2.helper[\"rotate\"] = setupGizmo(helperRotate));\n    _this2.add(_this2.helper[\"scale\"] = setupGizmo(helperScale));\n    _this2.picker[\"translate\"].visible = false;\n    _this2.picker[\"rotate\"].visible = false;\n    _this2.picker[\"scale\"].visible = false;\n    return _this2;\n  }\n  return _createClass(TransformControlsGizmo);\n}(Object3D);\nvar TransformControlsPlane = /*#__PURE__*/function (_Mesh) {\n  _inherits(TransformControlsPlane, _Mesh);\n  var _super3 = _createSuper(TransformControlsPlane);\n  function TransformControlsPlane() {\n    var _thisSuper3, _this3;\n    _classCallCheck(this, TransformControlsPlane);\n    _this3 = _super3.call(this, new PlaneGeometry(1e5, 1e5, 2, 2), new MeshBasicMaterial({\n      visible: false,\n      wireframe: true,\n      side: DoubleSide,\n      transparent: true,\n      opacity: 0.1,\n      toneMapped: false\n    }));\n    __publicField(_assertThisInitialized(_this3), \"isTransformControlsPlane\", true);\n    __publicField(_assertThisInitialized(_this3), \"type\", \"TransformControlsPlane\");\n    __publicField(_assertThisInitialized(_this3), \"unitX\", new Vector3(1, 0, 0));\n    __publicField(_assertThisInitialized(_this3), \"unitY\", new Vector3(0, 1, 0));\n    __publicField(_assertThisInitialized(_this3), \"unitZ\", new Vector3(0, 0, 1));\n    __publicField(_assertThisInitialized(_this3), \"tempVector\", new Vector3());\n    __publicField(_assertThisInitialized(_this3), \"dirVector\", new Vector3());\n    __publicField(_assertThisInitialized(_this3), \"alignVector\", new Vector3());\n    __publicField(_assertThisInitialized(_this3), \"tempMatrix\", new Matrix4());\n    __publicField(_assertThisInitialized(_this3), \"identityQuaternion\", new Quaternion());\n    // these are set from parent class TransformControls\n    __publicField(_assertThisInitialized(_this3), \"cameraQuaternion\", new Quaternion());\n    __publicField(_assertThisInitialized(_this3), \"worldPosition\", new Vector3());\n    __publicField(_assertThisInitialized(_this3), \"worldQuaternion\", new Quaternion());\n    __publicField(_assertThisInitialized(_this3), \"eye\", new Vector3());\n    __publicField(_assertThisInitialized(_this3), \"axis\", null);\n    __publicField(_assertThisInitialized(_this3), \"mode\", \"translate\");\n    __publicField(_assertThisInitialized(_this3), \"space\", \"world\");\n    __publicField(_assertThisInitialized(_this3), \"updateMatrixWorld\", function () {\n      var space = _this3.space;\n      _this3.position.copy(_this3.worldPosition);\n      if (_this3.mode === \"scale\") space = \"local\";\n      _this3.unitX.set(1, 0, 0).applyQuaternion(space === \"local\" ? _this3.worldQuaternion : _this3.identityQuaternion);\n      _this3.unitY.set(0, 1, 0).applyQuaternion(space === \"local\" ? _this3.worldQuaternion : _this3.identityQuaternion);\n      _this3.unitZ.set(0, 0, 1).applyQuaternion(space === \"local\" ? _this3.worldQuaternion : _this3.identityQuaternion);\n      _this3.alignVector.copy(_this3.unitY);\n      switch (_this3.mode) {\n        case \"translate\":\n        case \"scale\":\n          switch (_this3.axis) {\n            case \"X\":\n              _this3.alignVector.copy(_this3.eye).cross(_this3.unitX);\n              _this3.dirVector.copy(_this3.unitX).cross(_this3.alignVector);\n              break;\n            case \"Y\":\n              _this3.alignVector.copy(_this3.eye).cross(_this3.unitY);\n              _this3.dirVector.copy(_this3.unitY).cross(_this3.alignVector);\n              break;\n            case \"Z\":\n              _this3.alignVector.copy(_this3.eye).cross(_this3.unitZ);\n              _this3.dirVector.copy(_this3.unitZ).cross(_this3.alignVector);\n              break;\n            case \"XY\":\n              _this3.dirVector.copy(_this3.unitZ);\n              break;\n            case \"YZ\":\n              _this3.dirVector.copy(_this3.unitX);\n              break;\n            case \"XZ\":\n              _this3.alignVector.copy(_this3.unitZ);\n              _this3.dirVector.copy(_this3.unitY);\n              break;\n            case \"XYZ\":\n            case \"E\":\n              _this3.dirVector.set(0, 0, 0);\n              break;\n          }\n          break;\n        case \"rotate\":\n        default:\n          _this3.dirVector.set(0, 0, 0);\n      }\n      if (_this3.dirVector.length() === 0) {\n        _this3.quaternion.copy(_this3.cameraQuaternion);\n      } else {\n        _this3.tempMatrix.lookAt(_this3.tempVector.set(0, 0, 0), _this3.dirVector, _this3.alignVector);\n        _this3.quaternion.setFromRotationMatrix(_this3.tempMatrix);\n      }\n      _get((_thisSuper3 = _assertThisInitialized(_this3), _getPrototypeOf(TransformControlsPlane.prototype)), \"updateMatrixWorld\", _thisSuper3).call(_thisSuper3);\n    });\n    return _this3;\n  }\n  return _createClass(TransformControlsPlane);\n}(Mesh);\nexport { TransformControls, TransformControlsGizmo, TransformControlsPlane };","map":{"version":3,"names":["__defProp","Object","defineProperty","__defNormalProp","obj","key","value","enumerable","configurable","writable","__publicField","Object3D","Raycaster","Vector3","Quaternion","Euler","Matrix4","MeshBasicMaterial","DoubleSide","LineBasicMaterial","CylinderGeometry","BoxGeometry","BufferGeometry","Float32BufferAttribute","Mesh","Line","OctahedronGeometry","PlaneGeometry","TorusGeometry","SphereGeometry","Color","TransformControls","_Object3D","_inherits","_super","_createSuper","camera","domElement","_thisSuper","_this","_classCallCheck","call","_assertThisInitialized","X","Y","Z","type","mode","object","raycaster","includeInvisible","allIntersections","intersectObject","i","length","visible","axis","enabled","dragging","position","copy","positionStart","quaternion","quaternionStart","scale","scaleStart","dispatchEvent","changeEvent","objectChangeEvent","pointStart","pointEnd","updateMatrixWorld","parent","console","error","matrixWorld","decompose","parentPosition","parentQuaternion","parentScale","worldPosition","worldQuaternion","worldScale","parentQuaternionInv","invert","worldQuaternionInv","cameraPosition","cameraQuaternion","cameraScale","eye","sub","normalize","_get","_getPrototypeOf","prototype","pointer","setFromCamera","intersect","intersectObjectWithRay","gizmo","picker","name","button","planeIntersect","plane","space","snap","rotationSnap","rotation","x","Math","round","y","z","worldPositionStart","worldQuaternionStart","worldScaleStart","point","mouseDownEvent","offset","applyQuaternion","indexOf","divide","add","translationSnap","tempQuaternion","search","tempVector","setFromMatrixPosition","d","dot","tempVector2","set","multiply","scaleSnap","ROTATION_SPEED","distanceTo","rotationAxis","rotationAngle","angleTo","startNorm","endNorm","cross","unit","setFromAxisAngle","mouseUpEvent","event","_a","_b","ownerDocument","pointerLockElement","changedTouches","rect","getBoundingClientRect","clientX","left","width","clientY","top","height","pointerType","pointerHover","getPointer","style","touchAction","addEventListener","onPointerMove","pointerDown","pointerMove","removeEventListener","pointerUp","size","warn","document","onPointerDown","onPointerHover","onPointerUp","_c","_d","_e","_f","traverse","child","mesh","geometry","dispose","material","TransformControlsGizmo","TransformControlsPlane","propName","defaultValue","propValue","get","showX","showY","showZ","connect","_createClass","_Object3D2","_super2","_thisSuper2","_this2","identityQuaternion","helper","handles","concat","children","_loop","handle","factor","isOrthographicCamera","bottom","zoom","min","tan","PI","fov","multiplyScalar","tag","setFromEuler","tempEuler","abs","alignVector","unitX","unitY","unitZ","setFromRotationMatrix","lookAtMatrix","lookAt","zeroVector","clone","AXIS_HIDE_TRESHOLD","PLANE_HIDE_TRESHOLD","AXIS_FLIP_TRESHOLD","tempQuaternion2","atan2","multiplyQuaternions","tempOpacity","opacity","tempColor","color","lerp","split","some","a","_ret","gizmoMaterial","depthTest","depthWrite","transparent","side","fog","toneMapped","gizmoLineMaterial","linewidth","matInvisible","matHelper","matRed","matGreen","matBlue","matWhiteTransparent","matYellowTransparent","matCyanTransparent","matMagentaTransparent","matYellow","matLineRed","matLineGreen","matLineBlue","matLineCyan","matLineMagenta","matLineYellow","matLineGray","matLineYellowTransparent","arrowGeometry","scaleHandleGeometry","lineGeometry","setAttribute","CircleGeometry","radius","arc","vertices","push","cos","sin","TranslateHelperGeometry","gizmoTranslate","XYZ","XY","YZ","XZ","pickerTranslate","helperTranslate","START","END","DELTA","gizmoRotate","E","XYZE","helperRotate","AXIS","pickerRotate","gizmoScale","XYZX","XYZY","XYZZ","pickerScale","helperScale","setupGizmo","gizmoMap","updateMatrix","tempGeometry","applyMatrix4","matrix","renderOrder","Infinity","_Mesh","_super3","_thisSuper3","_this3","wireframe","dirVector","tempMatrix"],"sources":["/home/krug/Coding/JavaScript/Websites/Personal/personal/node_modules/.pnpm/three-stdlib@2.23.7_three@0.151.3/node_modules/three-stdlib/controls/TransformControls.js"],"sourcesContent":["var __defProp = Object.defineProperty;\nvar __defNormalProp = (obj, key, value) => key in obj ? __defProp(obj, key, { enumerable: true, configurable: true, writable: true, value }) : obj[key] = value;\nvar __publicField = (obj, key, value) => {\n  __defNormalProp(obj, typeof key !== \"symbol\" ? key + \"\" : key, value);\n  return value;\n};\nimport { Object3D, Raycaster, Vector3, Quaternion, Euler, Matrix4, MeshBasicMaterial, DoubleSide, LineBasicMaterial, CylinderGeometry, BoxGeometry, BufferGeometry, Float32BufferAttribute, Mesh, Line, OctahedronGeometry, PlaneGeometry, TorusGeometry, SphereGeometry, Color } from \"three\";\nclass TransformControls extends Object3D {\n  constructor(camera, domElement) {\n    super();\n    __publicField(this, \"isTransformControls\", true);\n    __publicField(this, \"visible\", false);\n    __publicField(this, \"domElement\");\n    __publicField(this, \"raycaster\", new Raycaster());\n    __publicField(this, \"gizmo\");\n    __publicField(this, \"plane\");\n    __publicField(this, \"tempVector\", new Vector3());\n    __publicField(this, \"tempVector2\", new Vector3());\n    __publicField(this, \"tempQuaternion\", new Quaternion());\n    __publicField(this, \"unit\", {\n      X: new Vector3(1, 0, 0),\n      Y: new Vector3(0, 1, 0),\n      Z: new Vector3(0, 0, 1)\n    });\n    __publicField(this, \"pointStart\", new Vector3());\n    __publicField(this, \"pointEnd\", new Vector3());\n    __publicField(this, \"offset\", new Vector3());\n    __publicField(this, \"rotationAxis\", new Vector3());\n    __publicField(this, \"startNorm\", new Vector3());\n    __publicField(this, \"endNorm\", new Vector3());\n    __publicField(this, \"rotationAngle\", 0);\n    __publicField(this, \"cameraPosition\", new Vector3());\n    __publicField(this, \"cameraQuaternion\", new Quaternion());\n    __publicField(this, \"cameraScale\", new Vector3());\n    __publicField(this, \"parentPosition\", new Vector3());\n    __publicField(this, \"parentQuaternion\", new Quaternion());\n    __publicField(this, \"parentQuaternionInv\", new Quaternion());\n    __publicField(this, \"parentScale\", new Vector3());\n    __publicField(this, \"worldPositionStart\", new Vector3());\n    __publicField(this, \"worldQuaternionStart\", new Quaternion());\n    __publicField(this, \"worldScaleStart\", new Vector3());\n    __publicField(this, \"worldPosition\", new Vector3());\n    __publicField(this, \"worldQuaternion\", new Quaternion());\n    __publicField(this, \"worldQuaternionInv\", new Quaternion());\n    __publicField(this, \"worldScale\", new Vector3());\n    __publicField(this, \"eye\", new Vector3());\n    __publicField(this, \"positionStart\", new Vector3());\n    __publicField(this, \"quaternionStart\", new Quaternion());\n    __publicField(this, \"scaleStart\", new Vector3());\n    __publicField(this, \"camera\");\n    __publicField(this, \"object\");\n    __publicField(this, \"enabled\", true);\n    __publicField(this, \"axis\", null);\n    __publicField(this, \"mode\", \"translate\");\n    __publicField(this, \"translationSnap\", null);\n    __publicField(this, \"rotationSnap\", null);\n    __publicField(this, \"scaleSnap\", null);\n    __publicField(this, \"space\", \"world\");\n    __publicField(this, \"size\", 1);\n    __publicField(this, \"dragging\", false);\n    __publicField(this, \"showX\", true);\n    __publicField(this, \"showY\", true);\n    __publicField(this, \"showZ\", true);\n    // events\n    __publicField(this, \"changeEvent\", { type: \"change\" });\n    __publicField(this, \"mouseDownEvent\", { type: \"mouseDown\", mode: this.mode });\n    __publicField(this, \"mouseUpEvent\", { type: \"mouseUp\", mode: this.mode });\n    __publicField(this, \"objectChangeEvent\", { type: \"objectChange\" });\n    __publicField(this, \"intersectObjectWithRay\", (object, raycaster, includeInvisible) => {\n      const allIntersections = raycaster.intersectObject(object, true);\n      for (let i = 0; i < allIntersections.length; i++) {\n        if (allIntersections[i].object.visible || includeInvisible) {\n          return allIntersections[i];\n        }\n      }\n      return false;\n    });\n    // Set current object\n    __publicField(this, \"attach\", (object) => {\n      this.object = object;\n      this.visible = true;\n      return this;\n    });\n    // Detatch from object\n    __publicField(this, \"detach\", () => {\n      this.object = void 0;\n      this.visible = false;\n      this.axis = null;\n      return this;\n    });\n    // Reset\n    __publicField(this, \"reset\", () => {\n      if (!this.enabled)\n        return this;\n      if (this.dragging) {\n        if (this.object !== void 0) {\n          this.object.position.copy(this.positionStart);\n          this.object.quaternion.copy(this.quaternionStart);\n          this.object.scale.copy(this.scaleStart);\n          this.dispatchEvent(this.changeEvent);\n          this.dispatchEvent(this.objectChangeEvent);\n          this.pointStart.copy(this.pointEnd);\n        }\n      }\n      return this;\n    });\n    __publicField(this, \"updateMatrixWorld\", () => {\n      if (this.object !== void 0) {\n        this.object.updateMatrixWorld();\n        if (this.object.parent === null) {\n          console.error(\"TransformControls: The attached 3D object must be a part of the scene graph.\");\n        } else {\n          this.object.parent.matrixWorld.decompose(this.parentPosition, this.parentQuaternion, this.parentScale);\n        }\n        this.object.matrixWorld.decompose(this.worldPosition, this.worldQuaternion, this.worldScale);\n        this.parentQuaternionInv.copy(this.parentQuaternion).invert();\n        this.worldQuaternionInv.copy(this.worldQuaternion).invert();\n      }\n      this.camera.updateMatrixWorld();\n      this.camera.matrixWorld.decompose(this.cameraPosition, this.cameraQuaternion, this.cameraScale);\n      this.eye.copy(this.cameraPosition).sub(this.worldPosition).normalize();\n      super.updateMatrixWorld();\n    });\n    __publicField(this, \"pointerHover\", (pointer) => {\n      if (this.object === void 0 || this.dragging === true)\n        return;\n      this.raycaster.setFromCamera(pointer, this.camera);\n      const intersect = this.intersectObjectWithRay(this.gizmo.picker[this.mode], this.raycaster);\n      if (intersect) {\n        this.axis = intersect.object.name;\n      } else {\n        this.axis = null;\n      }\n    });\n    __publicField(this, \"pointerDown\", (pointer) => {\n      if (this.object === void 0 || this.dragging === true || pointer.button !== 0)\n        return;\n      if (this.axis !== null) {\n        this.raycaster.setFromCamera(pointer, this.camera);\n        const planeIntersect = this.intersectObjectWithRay(this.plane, this.raycaster, true);\n        if (planeIntersect) {\n          let space = this.space;\n          if (this.mode === \"scale\") {\n            space = \"local\";\n          } else if (this.axis === \"E\" || this.axis === \"XYZE\" || this.axis === \"XYZ\") {\n            space = \"world\";\n          }\n          if (space === \"local\" && this.mode === \"rotate\") {\n            const snap = this.rotationSnap;\n            if (this.axis === \"X\" && snap)\n              this.object.rotation.x = Math.round(this.object.rotation.x / snap) * snap;\n            if (this.axis === \"Y\" && snap)\n              this.object.rotation.y = Math.round(this.object.rotation.y / snap) * snap;\n            if (this.axis === \"Z\" && snap)\n              this.object.rotation.z = Math.round(this.object.rotation.z / snap) * snap;\n          }\n          this.object.updateMatrixWorld();\n          if (this.object.parent) {\n            this.object.parent.updateMatrixWorld();\n          }\n          this.positionStart.copy(this.object.position);\n          this.quaternionStart.copy(this.object.quaternion);\n          this.scaleStart.copy(this.object.scale);\n          this.object.matrixWorld.decompose(this.worldPositionStart, this.worldQuaternionStart, this.worldScaleStart);\n          this.pointStart.copy(planeIntersect.point).sub(this.worldPositionStart);\n        }\n        this.dragging = true;\n        this.mouseDownEvent.mode = this.mode;\n        this.dispatchEvent(this.mouseDownEvent);\n      }\n    });\n    __publicField(this, \"pointerMove\", (pointer) => {\n      const axis = this.axis;\n      const mode = this.mode;\n      const object = this.object;\n      let space = this.space;\n      if (mode === \"scale\") {\n        space = \"local\";\n      } else if (axis === \"E\" || axis === \"XYZE\" || axis === \"XYZ\") {\n        space = \"world\";\n      }\n      if (object === void 0 || axis === null || this.dragging === false || pointer.button !== -1)\n        return;\n      this.raycaster.setFromCamera(pointer, this.camera);\n      const planeIntersect = this.intersectObjectWithRay(this.plane, this.raycaster, true);\n      if (!planeIntersect)\n        return;\n      this.pointEnd.copy(planeIntersect.point).sub(this.worldPositionStart);\n      if (mode === \"translate\") {\n        this.offset.copy(this.pointEnd).sub(this.pointStart);\n        if (space === \"local\" && axis !== \"XYZ\") {\n          this.offset.applyQuaternion(this.worldQuaternionInv);\n        }\n        if (axis.indexOf(\"X\") === -1)\n          this.offset.x = 0;\n        if (axis.indexOf(\"Y\") === -1)\n          this.offset.y = 0;\n        if (axis.indexOf(\"Z\") === -1)\n          this.offset.z = 0;\n        if (space === \"local\" && axis !== \"XYZ\") {\n          this.offset.applyQuaternion(this.quaternionStart).divide(this.parentScale);\n        } else {\n          this.offset.applyQuaternion(this.parentQuaternionInv).divide(this.parentScale);\n        }\n        object.position.copy(this.offset).add(this.positionStart);\n        if (this.translationSnap) {\n          if (space === \"local\") {\n            object.position.applyQuaternion(this.tempQuaternion.copy(this.quaternionStart).invert());\n            if (axis.search(\"X\") !== -1) {\n              object.position.x = Math.round(object.position.x / this.translationSnap) * this.translationSnap;\n            }\n            if (axis.search(\"Y\") !== -1) {\n              object.position.y = Math.round(object.position.y / this.translationSnap) * this.translationSnap;\n            }\n            if (axis.search(\"Z\") !== -1) {\n              object.position.z = Math.round(object.position.z / this.translationSnap) * this.translationSnap;\n            }\n            object.position.applyQuaternion(this.quaternionStart);\n          }\n          if (space === \"world\") {\n            if (object.parent) {\n              object.position.add(this.tempVector.setFromMatrixPosition(object.parent.matrixWorld));\n            }\n            if (axis.search(\"X\") !== -1) {\n              object.position.x = Math.round(object.position.x / this.translationSnap) * this.translationSnap;\n            }\n            if (axis.search(\"Y\") !== -1) {\n              object.position.y = Math.round(object.position.y / this.translationSnap) * this.translationSnap;\n            }\n            if (axis.search(\"Z\") !== -1) {\n              object.position.z = Math.round(object.position.z / this.translationSnap) * this.translationSnap;\n            }\n            if (object.parent) {\n              object.position.sub(this.tempVector.setFromMatrixPosition(object.parent.matrixWorld));\n            }\n          }\n        }\n      } else if (mode === \"scale\") {\n        if (axis.search(\"XYZ\") !== -1) {\n          let d = this.pointEnd.length() / this.pointStart.length();\n          if (this.pointEnd.dot(this.pointStart) < 0)\n            d *= -1;\n          this.tempVector2.set(d, d, d);\n        } else {\n          this.tempVector.copy(this.pointStart);\n          this.tempVector2.copy(this.pointEnd);\n          this.tempVector.applyQuaternion(this.worldQuaternionInv);\n          this.tempVector2.applyQuaternion(this.worldQuaternionInv);\n          this.tempVector2.divide(this.tempVector);\n          if (axis.search(\"X\") === -1) {\n            this.tempVector2.x = 1;\n          }\n          if (axis.search(\"Y\") === -1) {\n            this.tempVector2.y = 1;\n          }\n          if (axis.search(\"Z\") === -1) {\n            this.tempVector2.z = 1;\n          }\n        }\n        object.scale.copy(this.scaleStart).multiply(this.tempVector2);\n        if (this.scaleSnap && this.object) {\n          if (axis.search(\"X\") !== -1) {\n            this.object.scale.x = Math.round(object.scale.x / this.scaleSnap) * this.scaleSnap || this.scaleSnap;\n          }\n          if (axis.search(\"Y\") !== -1) {\n            object.scale.y = Math.round(object.scale.y / this.scaleSnap) * this.scaleSnap || this.scaleSnap;\n          }\n          if (axis.search(\"Z\") !== -1) {\n            object.scale.z = Math.round(object.scale.z / this.scaleSnap) * this.scaleSnap || this.scaleSnap;\n          }\n        }\n      } else if (mode === \"rotate\") {\n        this.offset.copy(this.pointEnd).sub(this.pointStart);\n        const ROTATION_SPEED = 20 / this.worldPosition.distanceTo(this.tempVector.setFromMatrixPosition(this.camera.matrixWorld));\n        if (axis === \"E\") {\n          this.rotationAxis.copy(this.eye);\n          this.rotationAngle = this.pointEnd.angleTo(this.pointStart);\n          this.startNorm.copy(this.pointStart).normalize();\n          this.endNorm.copy(this.pointEnd).normalize();\n          this.rotationAngle *= this.endNorm.cross(this.startNorm).dot(this.eye) < 0 ? 1 : -1;\n        } else if (axis === \"XYZE\") {\n          this.rotationAxis.copy(this.offset).cross(this.eye).normalize();\n          this.rotationAngle = this.offset.dot(this.tempVector.copy(this.rotationAxis).cross(this.eye)) * ROTATION_SPEED;\n        } else if (axis === \"X\" || axis === \"Y\" || axis === \"Z\") {\n          this.rotationAxis.copy(this.unit[axis]);\n          this.tempVector.copy(this.unit[axis]);\n          if (space === \"local\") {\n            this.tempVector.applyQuaternion(this.worldQuaternion);\n          }\n          this.rotationAngle = this.offset.dot(this.tempVector.cross(this.eye).normalize()) * ROTATION_SPEED;\n        }\n        if (this.rotationSnap) {\n          this.rotationAngle = Math.round(this.rotationAngle / this.rotationSnap) * this.rotationSnap;\n        }\n        if (space === \"local\" && axis !== \"E\" && axis !== \"XYZE\") {\n          object.quaternion.copy(this.quaternionStart);\n          object.quaternion.multiply(this.tempQuaternion.setFromAxisAngle(this.rotationAxis, this.rotationAngle)).normalize();\n        } else {\n          this.rotationAxis.applyQuaternion(this.parentQuaternionInv);\n          object.quaternion.copy(this.tempQuaternion.setFromAxisAngle(this.rotationAxis, this.rotationAngle));\n          object.quaternion.multiply(this.quaternionStart).normalize();\n        }\n      }\n      this.dispatchEvent(this.changeEvent);\n      this.dispatchEvent(this.objectChangeEvent);\n    });\n    __publicField(this, \"pointerUp\", (pointer) => {\n      if (pointer.button !== 0)\n        return;\n      if (this.dragging && this.axis !== null) {\n        this.mouseUpEvent.mode = this.mode;\n        this.dispatchEvent(this.mouseUpEvent);\n      }\n      this.dragging = false;\n      this.axis = null;\n    });\n    __publicField(this, \"getPointer\", (event) => {\n      var _a, _b;\n      if (this.domElement && ((_a = this.domElement.ownerDocument) == null ? void 0 : _a.pointerLockElement)) {\n        return {\n          x: 0,\n          y: 0,\n          button: event.button\n        };\n      } else {\n        const pointer = event.changedTouches ? event.changedTouches[0] : event;\n        const rect = (_b = this.domElement) == null ? void 0 : _b.getBoundingClientRect();\n        return {\n          x: (pointer.clientX - rect.left) / rect.width * 2 - 1,\n          y: -(pointer.clientY - rect.top) / rect.height * 2 + 1,\n          button: event.button\n        };\n      }\n    });\n    __publicField(this, \"onPointerHover\", (event) => {\n      if (!this.enabled)\n        return;\n      switch (event.pointerType) {\n        case \"mouse\":\n        case \"pen\":\n          this.pointerHover(this.getPointer(event));\n          break;\n      }\n    });\n    __publicField(this, \"onPointerDown\", (event) => {\n      if (!this.enabled || !this.domElement)\n        return;\n      this.domElement.style.touchAction = \"none\";\n      this.domElement.ownerDocument.addEventListener(\"pointermove\", this.onPointerMove);\n      this.pointerHover(this.getPointer(event));\n      this.pointerDown(this.getPointer(event));\n    });\n    __publicField(this, \"onPointerMove\", (event) => {\n      if (!this.enabled)\n        return;\n      this.pointerMove(this.getPointer(event));\n    });\n    __publicField(this, \"onPointerUp\", (event) => {\n      if (!this.enabled || !this.domElement)\n        return;\n      this.domElement.style.touchAction = \"\";\n      this.domElement.ownerDocument.removeEventListener(\"pointermove\", this.onPointerMove);\n      this.pointerUp(this.getPointer(event));\n    });\n    __publicField(this, \"getMode\", () => this.mode);\n    __publicField(this, \"setMode\", (mode) => {\n      this.mode = mode;\n    });\n    __publicField(this, \"setTranslationSnap\", (translationSnap) => {\n      this.translationSnap = translationSnap;\n    });\n    __publicField(this, \"setRotationSnap\", (rotationSnap) => {\n      this.rotationSnap = rotationSnap;\n    });\n    __publicField(this, \"setScaleSnap\", (scaleSnap) => {\n      this.scaleSnap = scaleSnap;\n    });\n    __publicField(this, \"setSize\", (size) => {\n      this.size = size;\n    });\n    __publicField(this, \"setSpace\", (space) => {\n      this.space = space;\n    });\n    __publicField(this, \"update\", () => {\n      console.warn(\n        \"THREE.TransformControls: update function has no more functionality and therefore has been deprecated.\"\n      );\n    });\n    __publicField(this, \"connect\", (domElement) => {\n      if (domElement === document) {\n        console.error(\n          'THREE.OrbitControls: \"document\" should not be used as the target \"domElement\". Please use \"renderer.domElement\" instead.'\n        );\n      }\n      this.domElement = domElement;\n      this.domElement.addEventListener(\"pointerdown\", this.onPointerDown);\n      this.domElement.addEventListener(\"pointermove\", this.onPointerHover);\n      this.domElement.ownerDocument.addEventListener(\"pointerup\", this.onPointerUp);\n    });\n    __publicField(this, \"dispose\", () => {\n      var _a, _b, _c, _d, _e, _f;\n      (_a = this.domElement) == null ? void 0 : _a.removeEventListener(\"pointerdown\", this.onPointerDown);\n      (_b = this.domElement) == null ? void 0 : _b.removeEventListener(\"pointermove\", this.onPointerHover);\n      (_d = (_c = this.domElement) == null ? void 0 : _c.ownerDocument) == null ? void 0 : _d.removeEventListener(\"pointermove\", this.onPointerMove);\n      (_f = (_e = this.domElement) == null ? void 0 : _e.ownerDocument) == null ? void 0 : _f.removeEventListener(\"pointerup\", this.onPointerUp);\n      this.traverse((child) => {\n        const mesh = child;\n        if (mesh.geometry) {\n          mesh.geometry.dispose();\n        }\n        if (mesh.material) {\n          mesh.material.dispose();\n        }\n      });\n    });\n    this.domElement = domElement;\n    this.camera = camera;\n    this.gizmo = new TransformControlsGizmo();\n    this.add(this.gizmo);\n    this.plane = new TransformControlsPlane();\n    this.add(this.plane);\n    const defineProperty = (propName, defaultValue) => {\n      let propValue = defaultValue;\n      Object.defineProperty(this, propName, {\n        get: function() {\n          return propValue !== void 0 ? propValue : defaultValue;\n        },\n        set: function(value) {\n          if (propValue !== value) {\n            propValue = value;\n            this.plane[propName] = value;\n            this.gizmo[propName] = value;\n            this.dispatchEvent({ type: propName + \"-changed\", value });\n            this.dispatchEvent(this.changeEvent);\n          }\n        }\n      });\n      this[propName] = defaultValue;\n      this.plane[propName] = defaultValue;\n      this.gizmo[propName] = defaultValue;\n    };\n    defineProperty(\"camera\", this.camera);\n    defineProperty(\"object\", this.object);\n    defineProperty(\"enabled\", this.enabled);\n    defineProperty(\"axis\", this.axis);\n    defineProperty(\"mode\", this.mode);\n    defineProperty(\"translationSnap\", this.translationSnap);\n    defineProperty(\"rotationSnap\", this.rotationSnap);\n    defineProperty(\"scaleSnap\", this.scaleSnap);\n    defineProperty(\"space\", this.space);\n    defineProperty(\"size\", this.size);\n    defineProperty(\"dragging\", this.dragging);\n    defineProperty(\"showX\", this.showX);\n    defineProperty(\"showY\", this.showY);\n    defineProperty(\"showZ\", this.showZ);\n    defineProperty(\"worldPosition\", this.worldPosition);\n    defineProperty(\"worldPositionStart\", this.worldPositionStart);\n    defineProperty(\"worldQuaternion\", this.worldQuaternion);\n    defineProperty(\"worldQuaternionStart\", this.worldQuaternionStart);\n    defineProperty(\"cameraPosition\", this.cameraPosition);\n    defineProperty(\"cameraQuaternion\", this.cameraQuaternion);\n    defineProperty(\"pointStart\", this.pointStart);\n    defineProperty(\"pointEnd\", this.pointEnd);\n    defineProperty(\"rotationAxis\", this.rotationAxis);\n    defineProperty(\"rotationAngle\", this.rotationAngle);\n    defineProperty(\"eye\", this.eye);\n    if (domElement !== void 0)\n      this.connect(domElement);\n  }\n}\nclass TransformControlsGizmo extends Object3D {\n  constructor() {\n    super();\n    __publicField(this, \"isTransformControlsGizmo\", true);\n    __publicField(this, \"type\", \"TransformControlsGizmo\");\n    __publicField(this, \"tempVector\", new Vector3(0, 0, 0));\n    __publicField(this, \"tempEuler\", new Euler());\n    __publicField(this, \"alignVector\", new Vector3(0, 1, 0));\n    __publicField(this, \"zeroVector\", new Vector3(0, 0, 0));\n    __publicField(this, \"lookAtMatrix\", new Matrix4());\n    __publicField(this, \"tempQuaternion\", new Quaternion());\n    __publicField(this, \"tempQuaternion2\", new Quaternion());\n    __publicField(this, \"identityQuaternion\", new Quaternion());\n    __publicField(this, \"unitX\", new Vector3(1, 0, 0));\n    __publicField(this, \"unitY\", new Vector3(0, 1, 0));\n    __publicField(this, \"unitZ\", new Vector3(0, 0, 1));\n    __publicField(this, \"gizmo\");\n    __publicField(this, \"picker\");\n    __publicField(this, \"helper\");\n    // these are set from parent class TransformControls\n    __publicField(this, \"rotationAxis\", new Vector3());\n    __publicField(this, \"cameraPosition\", new Vector3());\n    __publicField(this, \"worldPositionStart\", new Vector3());\n    __publicField(this, \"worldQuaternionStart\", new Quaternion());\n    __publicField(this, \"worldPosition\", new Vector3());\n    __publicField(this, \"worldQuaternion\", new Quaternion());\n    __publicField(this, \"eye\", new Vector3());\n    __publicField(this, \"camera\", null);\n    __publicField(this, \"enabled\", true);\n    __publicField(this, \"axis\", null);\n    __publicField(this, \"mode\", \"translate\");\n    __publicField(this, \"space\", \"world\");\n    __publicField(this, \"size\", 1);\n    __publicField(this, \"dragging\", false);\n    __publicField(this, \"showX\", true);\n    __publicField(this, \"showY\", true);\n    __publicField(this, \"showZ\", true);\n    // updateMatrixWorld will update transformations and appearance of individual handles\n    __publicField(this, \"updateMatrixWorld\", () => {\n      let space = this.space;\n      if (this.mode === \"scale\") {\n        space = \"local\";\n      }\n      const quaternion = space === \"local\" ? this.worldQuaternion : this.identityQuaternion;\n      this.gizmo[\"translate\"].visible = this.mode === \"translate\";\n      this.gizmo[\"rotate\"].visible = this.mode === \"rotate\";\n      this.gizmo[\"scale\"].visible = this.mode === \"scale\";\n      this.helper[\"translate\"].visible = this.mode === \"translate\";\n      this.helper[\"rotate\"].visible = this.mode === \"rotate\";\n      this.helper[\"scale\"].visible = this.mode === \"scale\";\n      let handles = [];\n      handles = handles.concat(this.picker[this.mode].children);\n      handles = handles.concat(this.gizmo[this.mode].children);\n      handles = handles.concat(this.helper[this.mode].children);\n      for (let i = 0; i < handles.length; i++) {\n        const handle = handles[i];\n        handle.visible = true;\n        handle.rotation.set(0, 0, 0);\n        handle.position.copy(this.worldPosition);\n        let factor;\n        if (this.camera.isOrthographicCamera) {\n          factor = (this.camera.top - this.camera.bottom) / this.camera.zoom;\n        } else {\n          factor = this.worldPosition.distanceTo(this.cameraPosition) * Math.min(1.9 * Math.tan(Math.PI * this.camera.fov / 360) / this.camera.zoom, 7);\n        }\n        handle.scale.set(1, 1, 1).multiplyScalar(factor * this.size / 7);\n        if (handle.tag === \"helper\") {\n          handle.visible = false;\n          if (handle.name === \"AXIS\") {\n            handle.position.copy(this.worldPositionStart);\n            handle.visible = !!this.axis;\n            if (this.axis === \"X\") {\n              this.tempQuaternion.setFromEuler(this.tempEuler.set(0, 0, 0));\n              handle.quaternion.copy(quaternion).multiply(this.tempQuaternion);\n              if (Math.abs(this.alignVector.copy(this.unitX).applyQuaternion(quaternion).dot(this.eye)) > 0.9) {\n                handle.visible = false;\n              }\n            }\n            if (this.axis === \"Y\") {\n              this.tempQuaternion.setFromEuler(this.tempEuler.set(0, 0, Math.PI / 2));\n              handle.quaternion.copy(quaternion).multiply(this.tempQuaternion);\n              if (Math.abs(this.alignVector.copy(this.unitY).applyQuaternion(quaternion).dot(this.eye)) > 0.9) {\n                handle.visible = false;\n              }\n            }\n            if (this.axis === \"Z\") {\n              this.tempQuaternion.setFromEuler(this.tempEuler.set(0, Math.PI / 2, 0));\n              handle.quaternion.copy(quaternion).multiply(this.tempQuaternion);\n              if (Math.abs(this.alignVector.copy(this.unitZ).applyQuaternion(quaternion).dot(this.eye)) > 0.9) {\n                handle.visible = false;\n              }\n            }\n            if (this.axis === \"XYZE\") {\n              this.tempQuaternion.setFromEuler(this.tempEuler.set(0, Math.PI / 2, 0));\n              this.alignVector.copy(this.rotationAxis);\n              handle.quaternion.setFromRotationMatrix(\n                this.lookAtMatrix.lookAt(this.zeroVector, this.alignVector, this.unitY)\n              );\n              handle.quaternion.multiply(this.tempQuaternion);\n              handle.visible = this.dragging;\n            }\n            if (this.axis === \"E\") {\n              handle.visible = false;\n            }\n          } else if (handle.name === \"START\") {\n            handle.position.copy(this.worldPositionStart);\n            handle.visible = this.dragging;\n          } else if (handle.name === \"END\") {\n            handle.position.copy(this.worldPosition);\n            handle.visible = this.dragging;\n          } else if (handle.name === \"DELTA\") {\n            handle.position.copy(this.worldPositionStart);\n            handle.quaternion.copy(this.worldQuaternionStart);\n            this.tempVector.set(1e-10, 1e-10, 1e-10).add(this.worldPositionStart).sub(this.worldPosition).multiplyScalar(-1);\n            this.tempVector.applyQuaternion(this.worldQuaternionStart.clone().invert());\n            handle.scale.copy(this.tempVector);\n            handle.visible = this.dragging;\n          } else {\n            handle.quaternion.copy(quaternion);\n            if (this.dragging) {\n              handle.position.copy(this.worldPositionStart);\n            } else {\n              handle.position.copy(this.worldPosition);\n            }\n            if (this.axis) {\n              handle.visible = this.axis.search(handle.name) !== -1;\n            }\n          }\n          continue;\n        }\n        handle.quaternion.copy(quaternion);\n        if (this.mode === \"translate\" || this.mode === \"scale\") {\n          const AXIS_HIDE_TRESHOLD = 0.99;\n          const PLANE_HIDE_TRESHOLD = 0.2;\n          const AXIS_FLIP_TRESHOLD = 0;\n          if (handle.name === \"X\" || handle.name === \"XYZX\") {\n            if (Math.abs(this.alignVector.copy(this.unitX).applyQuaternion(quaternion).dot(this.eye)) > AXIS_HIDE_TRESHOLD) {\n              handle.scale.set(1e-10, 1e-10, 1e-10);\n              handle.visible = false;\n            }\n          }\n          if (handle.name === \"Y\" || handle.name === \"XYZY\") {\n            if (Math.abs(this.alignVector.copy(this.unitY).applyQuaternion(quaternion).dot(this.eye)) > AXIS_HIDE_TRESHOLD) {\n              handle.scale.set(1e-10, 1e-10, 1e-10);\n              handle.visible = false;\n            }\n          }\n          if (handle.name === \"Z\" || handle.name === \"XYZZ\") {\n            if (Math.abs(this.alignVector.copy(this.unitZ).applyQuaternion(quaternion).dot(this.eye)) > AXIS_HIDE_TRESHOLD) {\n              handle.scale.set(1e-10, 1e-10, 1e-10);\n              handle.visible = false;\n            }\n          }\n          if (handle.name === \"XY\") {\n            if (Math.abs(this.alignVector.copy(this.unitZ).applyQuaternion(quaternion).dot(this.eye)) < PLANE_HIDE_TRESHOLD) {\n              handle.scale.set(1e-10, 1e-10, 1e-10);\n              handle.visible = false;\n            }\n          }\n          if (handle.name === \"YZ\") {\n            if (Math.abs(this.alignVector.copy(this.unitX).applyQuaternion(quaternion).dot(this.eye)) < PLANE_HIDE_TRESHOLD) {\n              handle.scale.set(1e-10, 1e-10, 1e-10);\n              handle.visible = false;\n            }\n          }\n          if (handle.name === \"XZ\") {\n            if (Math.abs(this.alignVector.copy(this.unitY).applyQuaternion(quaternion).dot(this.eye)) < PLANE_HIDE_TRESHOLD) {\n              handle.scale.set(1e-10, 1e-10, 1e-10);\n              handle.visible = false;\n            }\n          }\n          if (handle.name.search(\"X\") !== -1) {\n            if (this.alignVector.copy(this.unitX).applyQuaternion(quaternion).dot(this.eye) < AXIS_FLIP_TRESHOLD) {\n              if (handle.tag === \"fwd\") {\n                handle.visible = false;\n              } else {\n                handle.scale.x *= -1;\n              }\n            } else if (handle.tag === \"bwd\") {\n              handle.visible = false;\n            }\n          }\n          if (handle.name.search(\"Y\") !== -1) {\n            if (this.alignVector.copy(this.unitY).applyQuaternion(quaternion).dot(this.eye) < AXIS_FLIP_TRESHOLD) {\n              if (handle.tag === \"fwd\") {\n                handle.visible = false;\n              } else {\n                handle.scale.y *= -1;\n              }\n            } else if (handle.tag === \"bwd\") {\n              handle.visible = false;\n            }\n          }\n          if (handle.name.search(\"Z\") !== -1) {\n            if (this.alignVector.copy(this.unitZ).applyQuaternion(quaternion).dot(this.eye) < AXIS_FLIP_TRESHOLD) {\n              if (handle.tag === \"fwd\") {\n                handle.visible = false;\n              } else {\n                handle.scale.z *= -1;\n              }\n            } else if (handle.tag === \"bwd\") {\n              handle.visible = false;\n            }\n          }\n        } else if (this.mode === \"rotate\") {\n          this.tempQuaternion2.copy(quaternion);\n          this.alignVector.copy(this.eye).applyQuaternion(this.tempQuaternion.copy(quaternion).invert());\n          if (handle.name.search(\"E\") !== -1) {\n            handle.quaternion.setFromRotationMatrix(this.lookAtMatrix.lookAt(this.eye, this.zeroVector, this.unitY));\n          }\n          if (handle.name === \"X\") {\n            this.tempQuaternion.setFromAxisAngle(this.unitX, Math.atan2(-this.alignVector.y, this.alignVector.z));\n            this.tempQuaternion.multiplyQuaternions(this.tempQuaternion2, this.tempQuaternion);\n            handle.quaternion.copy(this.tempQuaternion);\n          }\n          if (handle.name === \"Y\") {\n            this.tempQuaternion.setFromAxisAngle(this.unitY, Math.atan2(this.alignVector.x, this.alignVector.z));\n            this.tempQuaternion.multiplyQuaternions(this.tempQuaternion2, this.tempQuaternion);\n            handle.quaternion.copy(this.tempQuaternion);\n          }\n          if (handle.name === \"Z\") {\n            this.tempQuaternion.setFromAxisAngle(this.unitZ, Math.atan2(this.alignVector.y, this.alignVector.x));\n            this.tempQuaternion.multiplyQuaternions(this.tempQuaternion2, this.tempQuaternion);\n            handle.quaternion.copy(this.tempQuaternion);\n          }\n        }\n        handle.visible = handle.visible && (handle.name.indexOf(\"X\") === -1 || this.showX);\n        handle.visible = handle.visible && (handle.name.indexOf(\"Y\") === -1 || this.showY);\n        handle.visible = handle.visible && (handle.name.indexOf(\"Z\") === -1 || this.showZ);\n        handle.visible = handle.visible && (handle.name.indexOf(\"E\") === -1 || this.showX && this.showY && this.showZ);\n        handle.material.tempOpacity = handle.material.tempOpacity || handle.material.opacity;\n        handle.material.tempColor = handle.material.tempColor || handle.material.color.clone();\n        handle.material.color.copy(handle.material.tempColor);\n        handle.material.opacity = handle.material.tempOpacity;\n        if (!this.enabled) {\n          handle.material.opacity *= 0.5;\n          handle.material.color.lerp(new Color(1, 1, 1), 0.5);\n        } else if (this.axis) {\n          if (handle.name === this.axis) {\n            handle.material.opacity = 1;\n            handle.material.color.lerp(new Color(1, 1, 1), 0.5);\n          } else if (this.axis.split(\"\").some(function(a) {\n            return handle.name === a;\n          })) {\n            handle.material.opacity = 1;\n            handle.material.color.lerp(new Color(1, 1, 1), 0.5);\n          } else {\n            handle.material.opacity *= 0.25;\n            handle.material.color.lerp(new Color(1, 1, 1), 0.5);\n          }\n        }\n      }\n      super.updateMatrixWorld();\n    });\n    const gizmoMaterial = new MeshBasicMaterial({\n      depthTest: false,\n      depthWrite: false,\n      transparent: true,\n      side: DoubleSide,\n      fog: false,\n      toneMapped: false\n    });\n    const gizmoLineMaterial = new LineBasicMaterial({\n      depthTest: false,\n      depthWrite: false,\n      transparent: true,\n      linewidth: 1,\n      fog: false,\n      toneMapped: false\n    });\n    const matInvisible = gizmoMaterial.clone();\n    matInvisible.opacity = 0.15;\n    const matHelper = gizmoMaterial.clone();\n    matHelper.opacity = 0.33;\n    const matRed = gizmoMaterial.clone();\n    matRed.color.set(16711680);\n    const matGreen = gizmoMaterial.clone();\n    matGreen.color.set(65280);\n    const matBlue = gizmoMaterial.clone();\n    matBlue.color.set(255);\n    const matWhiteTransparent = gizmoMaterial.clone();\n    matWhiteTransparent.opacity = 0.25;\n    const matYellowTransparent = matWhiteTransparent.clone();\n    matYellowTransparent.color.set(16776960);\n    const matCyanTransparent = matWhiteTransparent.clone();\n    matCyanTransparent.color.set(65535);\n    const matMagentaTransparent = matWhiteTransparent.clone();\n    matMagentaTransparent.color.set(16711935);\n    const matYellow = gizmoMaterial.clone();\n    matYellow.color.set(16776960);\n    const matLineRed = gizmoLineMaterial.clone();\n    matLineRed.color.set(16711680);\n    const matLineGreen = gizmoLineMaterial.clone();\n    matLineGreen.color.set(65280);\n    const matLineBlue = gizmoLineMaterial.clone();\n    matLineBlue.color.set(255);\n    const matLineCyan = gizmoLineMaterial.clone();\n    matLineCyan.color.set(65535);\n    const matLineMagenta = gizmoLineMaterial.clone();\n    matLineMagenta.color.set(16711935);\n    const matLineYellow = gizmoLineMaterial.clone();\n    matLineYellow.color.set(16776960);\n    const matLineGray = gizmoLineMaterial.clone();\n    matLineGray.color.set(7895160);\n    const matLineYellowTransparent = matLineYellow.clone();\n    matLineYellowTransparent.opacity = 0.25;\n    const arrowGeometry = new CylinderGeometry(0, 0.05, 0.2, 12, 1, false);\n    const scaleHandleGeometry = new BoxGeometry(0.125, 0.125, 0.125);\n    const lineGeometry = new BufferGeometry();\n    lineGeometry.setAttribute(\"position\", new Float32BufferAttribute([0, 0, 0, 1, 0, 0], 3));\n    const CircleGeometry = (radius, arc) => {\n      const geometry = new BufferGeometry();\n      const vertices = [];\n      for (let i = 0; i <= 64 * arc; ++i) {\n        vertices.push(0, Math.cos(i / 32 * Math.PI) * radius, Math.sin(i / 32 * Math.PI) * radius);\n      }\n      geometry.setAttribute(\"position\", new Float32BufferAttribute(vertices, 3));\n      return geometry;\n    };\n    const TranslateHelperGeometry = () => {\n      const geometry = new BufferGeometry();\n      geometry.setAttribute(\"position\", new Float32BufferAttribute([0, 0, 0, 1, 1, 1], 3));\n      return geometry;\n    };\n    const gizmoTranslate = {\n      X: [\n        [new Mesh(arrowGeometry, matRed), [1, 0, 0], [0, 0, -Math.PI / 2], null, \"fwd\"],\n        [new Mesh(arrowGeometry, matRed), [1, 0, 0], [0, 0, Math.PI / 2], null, \"bwd\"],\n        [new Line(lineGeometry, matLineRed)]\n      ],\n      Y: [\n        [new Mesh(arrowGeometry, matGreen), [0, 1, 0], null, null, \"fwd\"],\n        [new Mesh(arrowGeometry, matGreen), [0, 1, 0], [Math.PI, 0, 0], null, \"bwd\"],\n        [new Line(lineGeometry, matLineGreen), null, [0, 0, Math.PI / 2]]\n      ],\n      Z: [\n        [new Mesh(arrowGeometry, matBlue), [0, 0, 1], [Math.PI / 2, 0, 0], null, \"fwd\"],\n        [new Mesh(arrowGeometry, matBlue), [0, 0, 1], [-Math.PI / 2, 0, 0], null, \"bwd\"],\n        [new Line(lineGeometry, matLineBlue), null, [0, -Math.PI / 2, 0]]\n      ],\n      XYZ: [[new Mesh(new OctahedronGeometry(0.1, 0), matWhiteTransparent.clone()), [0, 0, 0], [0, 0, 0]]],\n      XY: [\n        [new Mesh(new PlaneGeometry(0.295, 0.295), matYellowTransparent.clone()), [0.15, 0.15, 0]],\n        [new Line(lineGeometry, matLineYellow), [0.18, 0.3, 0], null, [0.125, 1, 1]],\n        [new Line(lineGeometry, matLineYellow), [0.3, 0.18, 0], [0, 0, Math.PI / 2], [0.125, 1, 1]]\n      ],\n      YZ: [\n        [new Mesh(new PlaneGeometry(0.295, 0.295), matCyanTransparent.clone()), [0, 0.15, 0.15], [0, Math.PI / 2, 0]],\n        [new Line(lineGeometry, matLineCyan), [0, 0.18, 0.3], [0, 0, Math.PI / 2], [0.125, 1, 1]],\n        [new Line(lineGeometry, matLineCyan), [0, 0.3, 0.18], [0, -Math.PI / 2, 0], [0.125, 1, 1]]\n      ],\n      XZ: [\n        [\n          new Mesh(new PlaneGeometry(0.295, 0.295), matMagentaTransparent.clone()),\n          [0.15, 0, 0.15],\n          [-Math.PI / 2, 0, 0]\n        ],\n        [new Line(lineGeometry, matLineMagenta), [0.18, 0, 0.3], null, [0.125, 1, 1]],\n        [new Line(lineGeometry, matLineMagenta), [0.3, 0, 0.18], [0, -Math.PI / 2, 0], [0.125, 1, 1]]\n      ]\n    };\n    const pickerTranslate = {\n      X: [[new Mesh(new CylinderGeometry(0.2, 0, 1, 4, 1, false), matInvisible), [0.6, 0, 0], [0, 0, -Math.PI / 2]]],\n      Y: [[new Mesh(new CylinderGeometry(0.2, 0, 1, 4, 1, false), matInvisible), [0, 0.6, 0]]],\n      Z: [[new Mesh(new CylinderGeometry(0.2, 0, 1, 4, 1, false), matInvisible), [0, 0, 0.6], [Math.PI / 2, 0, 0]]],\n      XYZ: [[new Mesh(new OctahedronGeometry(0.2, 0), matInvisible)]],\n      XY: [[new Mesh(new PlaneGeometry(0.4, 0.4), matInvisible), [0.2, 0.2, 0]]],\n      YZ: [[new Mesh(new PlaneGeometry(0.4, 0.4), matInvisible), [0, 0.2, 0.2], [0, Math.PI / 2, 0]]],\n      XZ: [[new Mesh(new PlaneGeometry(0.4, 0.4), matInvisible), [0.2, 0, 0.2], [-Math.PI / 2, 0, 0]]]\n    };\n    const helperTranslate = {\n      START: [[new Mesh(new OctahedronGeometry(0.01, 2), matHelper), null, null, null, \"helper\"]],\n      END: [[new Mesh(new OctahedronGeometry(0.01, 2), matHelper), null, null, null, \"helper\"]],\n      DELTA: [[new Line(TranslateHelperGeometry(), matHelper), null, null, null, \"helper\"]],\n      X: [[new Line(lineGeometry, matHelper.clone()), [-1e3, 0, 0], null, [1e6, 1, 1], \"helper\"]],\n      Y: [[new Line(lineGeometry, matHelper.clone()), [0, -1e3, 0], [0, 0, Math.PI / 2], [1e6, 1, 1], \"helper\"]],\n      Z: [[new Line(lineGeometry, matHelper.clone()), [0, 0, -1e3], [0, -Math.PI / 2, 0], [1e6, 1, 1], \"helper\"]]\n    };\n    const gizmoRotate = {\n      X: [\n        [new Line(CircleGeometry(1, 0.5), matLineRed)],\n        [new Mesh(new OctahedronGeometry(0.04, 0), matRed), [0, 0, 0.99], null, [1, 3, 1]]\n      ],\n      Y: [\n        [new Line(CircleGeometry(1, 0.5), matLineGreen), null, [0, 0, -Math.PI / 2]],\n        [new Mesh(new OctahedronGeometry(0.04, 0), matGreen), [0, 0, 0.99], null, [3, 1, 1]]\n      ],\n      Z: [\n        [new Line(CircleGeometry(1, 0.5), matLineBlue), null, [0, Math.PI / 2, 0]],\n        [new Mesh(new OctahedronGeometry(0.04, 0), matBlue), [0.99, 0, 0], null, [1, 3, 1]]\n      ],\n      E: [\n        [new Line(CircleGeometry(1.25, 1), matLineYellowTransparent), null, [0, Math.PI / 2, 0]],\n        [\n          new Mesh(new CylinderGeometry(0.03, 0, 0.15, 4, 1, false), matLineYellowTransparent),\n          [1.17, 0, 0],\n          [0, 0, -Math.PI / 2],\n          [1, 1, 1e-3]\n        ],\n        [\n          new Mesh(new CylinderGeometry(0.03, 0, 0.15, 4, 1, false), matLineYellowTransparent),\n          [-1.17, 0, 0],\n          [0, 0, Math.PI / 2],\n          [1, 1, 1e-3]\n        ],\n        [\n          new Mesh(new CylinderGeometry(0.03, 0, 0.15, 4, 1, false), matLineYellowTransparent),\n          [0, -1.17, 0],\n          [Math.PI, 0, 0],\n          [1, 1, 1e-3]\n        ],\n        [\n          new Mesh(new CylinderGeometry(0.03, 0, 0.15, 4, 1, false), matLineYellowTransparent),\n          [0, 1.17, 0],\n          [0, 0, 0],\n          [1, 1, 1e-3]\n        ]\n      ],\n      XYZE: [[new Line(CircleGeometry(1, 1), matLineGray), null, [0, Math.PI / 2, 0]]]\n    };\n    const helperRotate = {\n      AXIS: [[new Line(lineGeometry, matHelper.clone()), [-1e3, 0, 0], null, [1e6, 1, 1], \"helper\"]]\n    };\n    const pickerRotate = {\n      X: [[new Mesh(new TorusGeometry(1, 0.1, 4, 24), matInvisible), [0, 0, 0], [0, -Math.PI / 2, -Math.PI / 2]]],\n      Y: [[new Mesh(new TorusGeometry(1, 0.1, 4, 24), matInvisible), [0, 0, 0], [Math.PI / 2, 0, 0]]],\n      Z: [[new Mesh(new TorusGeometry(1, 0.1, 4, 24), matInvisible), [0, 0, 0], [0, 0, -Math.PI / 2]]],\n      E: [[new Mesh(new TorusGeometry(1.25, 0.1, 2, 24), matInvisible)]],\n      XYZE: [[new Mesh(new SphereGeometry(0.7, 10, 8), matInvisible)]]\n    };\n    const gizmoScale = {\n      X: [\n        [new Mesh(scaleHandleGeometry, matRed), [0.8, 0, 0], [0, 0, -Math.PI / 2]],\n        [new Line(lineGeometry, matLineRed), null, null, [0.8, 1, 1]]\n      ],\n      Y: [\n        [new Mesh(scaleHandleGeometry, matGreen), [0, 0.8, 0]],\n        [new Line(lineGeometry, matLineGreen), null, [0, 0, Math.PI / 2], [0.8, 1, 1]]\n      ],\n      Z: [\n        [new Mesh(scaleHandleGeometry, matBlue), [0, 0, 0.8], [Math.PI / 2, 0, 0]],\n        [new Line(lineGeometry, matLineBlue), null, [0, -Math.PI / 2, 0], [0.8, 1, 1]]\n      ],\n      XY: [\n        [new Mesh(scaleHandleGeometry, matYellowTransparent), [0.85, 0.85, 0], null, [2, 2, 0.2]],\n        [new Line(lineGeometry, matLineYellow), [0.855, 0.98, 0], null, [0.125, 1, 1]],\n        [new Line(lineGeometry, matLineYellow), [0.98, 0.855, 0], [0, 0, Math.PI / 2], [0.125, 1, 1]]\n      ],\n      YZ: [\n        [new Mesh(scaleHandleGeometry, matCyanTransparent), [0, 0.85, 0.85], null, [0.2, 2, 2]],\n        [new Line(lineGeometry, matLineCyan), [0, 0.855, 0.98], [0, 0, Math.PI / 2], [0.125, 1, 1]],\n        [new Line(lineGeometry, matLineCyan), [0, 0.98, 0.855], [0, -Math.PI / 2, 0], [0.125, 1, 1]]\n      ],\n      XZ: [\n        [new Mesh(scaleHandleGeometry, matMagentaTransparent), [0.85, 0, 0.85], null, [2, 0.2, 2]],\n        [new Line(lineGeometry, matLineMagenta), [0.855, 0, 0.98], null, [0.125, 1, 1]],\n        [new Line(lineGeometry, matLineMagenta), [0.98, 0, 0.855], [0, -Math.PI / 2, 0], [0.125, 1, 1]]\n      ],\n      XYZX: [[new Mesh(new BoxGeometry(0.125, 0.125, 0.125), matWhiteTransparent.clone()), [1.1, 0, 0]]],\n      XYZY: [[new Mesh(new BoxGeometry(0.125, 0.125, 0.125), matWhiteTransparent.clone()), [0, 1.1, 0]]],\n      XYZZ: [[new Mesh(new BoxGeometry(0.125, 0.125, 0.125), matWhiteTransparent.clone()), [0, 0, 1.1]]]\n    };\n    const pickerScale = {\n      X: [[new Mesh(new CylinderGeometry(0.2, 0, 0.8, 4, 1, false), matInvisible), [0.5, 0, 0], [0, 0, -Math.PI / 2]]],\n      Y: [[new Mesh(new CylinderGeometry(0.2, 0, 0.8, 4, 1, false), matInvisible), [0, 0.5, 0]]],\n      Z: [[new Mesh(new CylinderGeometry(0.2, 0, 0.8, 4, 1, false), matInvisible), [0, 0, 0.5], [Math.PI / 2, 0, 0]]],\n      XY: [[new Mesh(scaleHandleGeometry, matInvisible), [0.85, 0.85, 0], null, [3, 3, 0.2]]],\n      YZ: [[new Mesh(scaleHandleGeometry, matInvisible), [0, 0.85, 0.85], null, [0.2, 3, 3]]],\n      XZ: [[new Mesh(scaleHandleGeometry, matInvisible), [0.85, 0, 0.85], null, [3, 0.2, 3]]],\n      XYZX: [[new Mesh(new BoxGeometry(0.2, 0.2, 0.2), matInvisible), [1.1, 0, 0]]],\n      XYZY: [[new Mesh(new BoxGeometry(0.2, 0.2, 0.2), matInvisible), [0, 1.1, 0]]],\n      XYZZ: [[new Mesh(new BoxGeometry(0.2, 0.2, 0.2), matInvisible), [0, 0, 1.1]]]\n    };\n    const helperScale = {\n      X: [[new Line(lineGeometry, matHelper.clone()), [-1e3, 0, 0], null, [1e6, 1, 1], \"helper\"]],\n      Y: [[new Line(lineGeometry, matHelper.clone()), [0, -1e3, 0], [0, 0, Math.PI / 2], [1e6, 1, 1], \"helper\"]],\n      Z: [[new Line(lineGeometry, matHelper.clone()), [0, 0, -1e3], [0, -Math.PI / 2, 0], [1e6, 1, 1], \"helper\"]]\n    };\n    const setupGizmo = (gizmoMap) => {\n      const gizmo = new Object3D();\n      for (let name in gizmoMap) {\n        for (let i = gizmoMap[name].length; i--; ) {\n          const object = gizmoMap[name][i][0].clone();\n          const position = gizmoMap[name][i][1];\n          const rotation = gizmoMap[name][i][2];\n          const scale = gizmoMap[name][i][3];\n          const tag = gizmoMap[name][i][4];\n          object.name = name;\n          object.tag = tag;\n          if (position) {\n            object.position.set(position[0], position[1], position[2]);\n          }\n          if (rotation) {\n            object.rotation.set(rotation[0], rotation[1], rotation[2]);\n          }\n          if (scale) {\n            object.scale.set(scale[0], scale[1], scale[2]);\n          }\n          object.updateMatrix();\n          const tempGeometry = object.geometry.clone();\n          tempGeometry.applyMatrix4(object.matrix);\n          object.geometry = tempGeometry;\n          object.renderOrder = Infinity;\n          object.position.set(0, 0, 0);\n          object.rotation.set(0, 0, 0);\n          object.scale.set(1, 1, 1);\n          gizmo.add(object);\n        }\n      }\n      return gizmo;\n    };\n    this.gizmo = {};\n    this.picker = {};\n    this.helper = {};\n    this.add(this.gizmo[\"translate\"] = setupGizmo(gizmoTranslate));\n    this.add(this.gizmo[\"rotate\"] = setupGizmo(gizmoRotate));\n    this.add(this.gizmo[\"scale\"] = setupGizmo(gizmoScale));\n    this.add(this.picker[\"translate\"] = setupGizmo(pickerTranslate));\n    this.add(this.picker[\"rotate\"] = setupGizmo(pickerRotate));\n    this.add(this.picker[\"scale\"] = setupGizmo(pickerScale));\n    this.add(this.helper[\"translate\"] = setupGizmo(helperTranslate));\n    this.add(this.helper[\"rotate\"] = setupGizmo(helperRotate));\n    this.add(this.helper[\"scale\"] = setupGizmo(helperScale));\n    this.picker[\"translate\"].visible = false;\n    this.picker[\"rotate\"].visible = false;\n    this.picker[\"scale\"].visible = false;\n  }\n}\nclass TransformControlsPlane extends Mesh {\n  constructor() {\n    super(\n      new PlaneGeometry(1e5, 1e5, 2, 2),\n      new MeshBasicMaterial({\n        visible: false,\n        wireframe: true,\n        side: DoubleSide,\n        transparent: true,\n        opacity: 0.1,\n        toneMapped: false\n      })\n    );\n    __publicField(this, \"isTransformControlsPlane\", true);\n    __publicField(this, \"type\", \"TransformControlsPlane\");\n    __publicField(this, \"unitX\", new Vector3(1, 0, 0));\n    __publicField(this, \"unitY\", new Vector3(0, 1, 0));\n    __publicField(this, \"unitZ\", new Vector3(0, 0, 1));\n    __publicField(this, \"tempVector\", new Vector3());\n    __publicField(this, \"dirVector\", new Vector3());\n    __publicField(this, \"alignVector\", new Vector3());\n    __publicField(this, \"tempMatrix\", new Matrix4());\n    __publicField(this, \"identityQuaternion\", new Quaternion());\n    // these are set from parent class TransformControls\n    __publicField(this, \"cameraQuaternion\", new Quaternion());\n    __publicField(this, \"worldPosition\", new Vector3());\n    __publicField(this, \"worldQuaternion\", new Quaternion());\n    __publicField(this, \"eye\", new Vector3());\n    __publicField(this, \"axis\", null);\n    __publicField(this, \"mode\", \"translate\");\n    __publicField(this, \"space\", \"world\");\n    __publicField(this, \"updateMatrixWorld\", () => {\n      let space = this.space;\n      this.position.copy(this.worldPosition);\n      if (this.mode === \"scale\")\n        space = \"local\";\n      this.unitX.set(1, 0, 0).applyQuaternion(space === \"local\" ? this.worldQuaternion : this.identityQuaternion);\n      this.unitY.set(0, 1, 0).applyQuaternion(space === \"local\" ? this.worldQuaternion : this.identityQuaternion);\n      this.unitZ.set(0, 0, 1).applyQuaternion(space === \"local\" ? this.worldQuaternion : this.identityQuaternion);\n      this.alignVector.copy(this.unitY);\n      switch (this.mode) {\n        case \"translate\":\n        case \"scale\":\n          switch (this.axis) {\n            case \"X\":\n              this.alignVector.copy(this.eye).cross(this.unitX);\n              this.dirVector.copy(this.unitX).cross(this.alignVector);\n              break;\n            case \"Y\":\n              this.alignVector.copy(this.eye).cross(this.unitY);\n              this.dirVector.copy(this.unitY).cross(this.alignVector);\n              break;\n            case \"Z\":\n              this.alignVector.copy(this.eye).cross(this.unitZ);\n              this.dirVector.copy(this.unitZ).cross(this.alignVector);\n              break;\n            case \"XY\":\n              this.dirVector.copy(this.unitZ);\n              break;\n            case \"YZ\":\n              this.dirVector.copy(this.unitX);\n              break;\n            case \"XZ\":\n              this.alignVector.copy(this.unitZ);\n              this.dirVector.copy(this.unitY);\n              break;\n            case \"XYZ\":\n            case \"E\":\n              this.dirVector.set(0, 0, 0);\n              break;\n          }\n          break;\n        case \"rotate\":\n        default:\n          this.dirVector.set(0, 0, 0);\n      }\n      if (this.dirVector.length() === 0) {\n        this.quaternion.copy(this.cameraQuaternion);\n      } else {\n        this.tempMatrix.lookAt(this.tempVector.set(0, 0, 0), this.dirVector, this.alignVector);\n        this.quaternion.setFromRotationMatrix(this.tempMatrix);\n      }\n      super.updateMatrixWorld();\n    });\n  }\n}\nexport {\n  TransformControls,\n  TransformControlsGizmo,\n  TransformControlsPlane\n};\n"],"mappings":"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"},"metadata":{},"sourceType":"module","externalDependencies":[]}